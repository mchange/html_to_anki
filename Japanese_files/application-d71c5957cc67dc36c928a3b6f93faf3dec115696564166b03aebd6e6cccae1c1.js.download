function soundPlayerStart(){}function soundPlayerLoading(t,e){$(document).trigger("sound_loading",[t,e])}function soundPlayerComplete(t){setTimeout(function(){$(document).trigger("sound_loaded",t)},0)}function soundPlayerError(t){setTimeout(function(){$(document).trigger("sound_errored",t)},0)}function soundPlayerPlayed(t){setTimeout(function(){$(document).trigger("sound_played",t)},0)}function soundPlayerReady(){soundPlayerIsReady=!0}function advancedSoundPlayerPlayButtonClicked(t){setTimeout(function(){$(document).trigger("advance_sound_player_play_button_clicked",t)},0)}function ce(t){"undefined"!=typeof console&&console.log(t)}var Namespace,ClassWithBaseModule,InheritedClass,IncludeModule;(function(){var t=this,e=t._,r={},a=Array.prototype,n=Object.prototype,i=Function.prototype,o=a.push,s=a.slice,l=a.concat,u=n.toString,c=n.hasOwnProperty,d=a.forEach,h=a.map,f=a.reduce,p=a.reduceRight,g=a.filter,m=a.every,y=a.some,v=a.indexOf,b=a.lastIndexOf,x=Array.isArray,w=Object.keys,C=i.bind,_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):t._=_,_.VERSION="1.6.0";var S=_.each=_.forEach=function(t,e,n){if(null==t)return t;if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,a=t.length;i<a;i++)if(e.call(n,t[i],i,t)===r)return}else{var o=_.keys(t);for(i=0,a=o.length;i<a;i++)if(e.call(n,t[o[i]],o[i],t)===r)return}return t};_.map=_.collect=function(t,i,a){var o=[];return null==t?o:h&&t.map===h?t.map(i,a):(S(t,function(t,e,n){o.push(i.call(a,t,e,n))}),o)};var T="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(t,i,a,o){var r=2<arguments.length;if(null==t&&(t=[]),f&&t.reduce===f)return o&&(i=_.bind(i,o)),r?t.reduce(i,a):t.reduce(i);if(S(t,function(t,e,n){r?a=i.call(o,a,t,e,n):(a=t,r=!0)}),!r)throw new TypeError(T);return a},_.reduceRight=_.foldr=function(i,a,o,r){var s=2<arguments.length;if(null==i&&(i=[]),p&&i.reduceRight===p)return r&&(a=_.bind(a,r)),s?i.reduceRight(a,o):i.reduceRight(a);var l=i.length;if(l!==+l){var c=_.keys(i);l=c.length}if(S(i,function(t,e,n){e=c?c[--l]:--l,s?o=a.call(r,o,i[e],e,n):(o=i[e],s=!0)}),!s)throw new TypeError(T);return o},_.find=_.detect=function(t,i,a){var o;return k(t,function(t,e,n){if(i.call(a,t,e,n))return o=t,!0}),o},_.filter=_.select=function(t,i,a){var o=[];return null==t?o:g&&t.filter===g?t.filter(i,a):(S(t,function(t,e,n){i.call(a,t,e,n)&&o.push(t)}),o)},_.reject=function(t,i,a){return _.filter(t,function(t,e,n){return!i.call(a,t,e,n)},a)},_.every=_.all=function(t,i,a){i||(i=_.identity);var o=!0;return null==t?o:m&&t.every===m?t.every(i,a):(S(t,function(t,e,n){if(!(o=o&&i.call(a,t,e,n)))return r}),!!o)};var k=_.some=_.any=function(t,i,a){i||(i=_.identity);var o=!1;return null==t?o:y&&t.some===y?t.some(i,a):(S(t,function(t,e,n){if(o||(o=i.call(a,t,e,n)))return r}),!!o)};_.contains=_.include=function(t,e){return null!=t&&(v&&t.indexOf===v?-1!=t.indexOf(e):k(t,function(t){return t===e}))},_.invoke=function(t,e){var n=s.call(arguments,2),i=_.isFunction(e);return _.map(t,function(t){return(i?e:t[e]).apply(t,n)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matches(e))},_.findWhere=function(t,e){return _.find(t,_.matches(e))},_.max=function(t,a,o){if(!a&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-Infinity,s=-Infinity;return S(t,function(t,e,n){var i=a?a.call(o,t,e,n):t;s<i&&(r=t,s=i)}),r},_.min=function(t,a,o){if(!a&&_.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=Infinity,s=Infinity;return S(t,function(t,e,n){var i=a?a.call(o,t,e,n):t;i<s&&(r=t,s=i)}),r},_.shuffle=function(t){var e,n=0,i=[];return S(t,function(t){e=_.random(n++),i[n-1]=i[e],i[e]=t}),i},_.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))};var D=function(t){return null==t?_.identity:_.isFunction(t)?t:_.property(t)};_.sortBy=function(t,i,a){return i=D(i),_.pluck(_.map(t,function(t,e,n){return{value:t,index:e,criteria:i.call(a,t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var A=function(s){return function(i,a,o){var r={};return a=D(a),S(i,function(t,e){var n=a.call(o,t,e,i);s(r,n,t)}),r}};_.groupBy=A(function(t,e,n){_.has(t,e)?t[e].push(n):t[e]=[n]}),_.indexBy=A(function(t,e,n){t[e]=n}),_.countBy=A(function(t,e){_.has(t,e)?t[e]++:t[e]=1}),_.sortedIndex=function(t,e,n,i){for(var a=(n=D(n)).call(i,e),o=0,r=t.length;o<r;){var s=o+r>>>1;n.call(i,t[s])<a?o=s+1:r=s}return o},_.toArray=function(t){return t?_.isArray(t)?s.call(t):t.length===+t.length?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:t.length===+t.length?t.length:_.keys(t).length},_.first=_.head=_.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:e<0?[]:s.call(t,0,e)},_.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},_.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},_.rest=_.tail=_.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var I=function(t,e,n){return e&&_.every(t,_.isArray)?l.apply(n,t):(S(t,function(t){_.isArray(t)||_.isArguments(t)?e?o.apply(n,t):I(t,e,n):n.push(t)}),n)};_.flatten=function(t,e){return I(t,e,[])},_.without=function(t){return _.difference(t,s.call(arguments,1))},_.partition=function(t,e){var n=[],i=[];return S(t,function(t){(e(t)?n:i).push(t)}),[n,i]},_.uniq=_.unique=function(n,i,t,e){_.isFunction(i)&&(e=t,t=i,i=!1);var a=t?_.map(n,t,e):n,o=[],r=[];return S(a,function(t,e){(i?e&&r[r.length-1]===t:_.contains(r,t))||(r.push(t),o.push(n[e]))}),o},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(t){var n=s.call(arguments,1);return _.filter(_.uniq(t),function(e){return _.every(n,function(t){return _.contains(t,e)})})},_.difference=function(t){var e=l.apply(a,s.call(arguments,1));return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){for(var t=_.max(_.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=_.pluck(arguments,""+n);return e},_.object=function(t,e){if(null==t)return{};for(var n={},i=0,a=t.length;i<a;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.indexOf=function(t,e,n){if(null==t)return-1;var i=0,a=t.length;if(n){if("number"!=typeof n)return t[i=_.sortedIndex(t,e)]===e?i:-1;i=n<0?Math.max(0,a+n):n}if(v&&t.indexOf===v)return t.indexOf(e,n);for(;i<a;i++)if(t[i]===e)return i;return-1},_.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(b&&t.lastIndexOf===b)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var a=i?n:t.length;a--;)if(t[a]===e)return a;return-1},_.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),a=0,o=new Array(i);a<i;)o[a++]=t,t+=n;return o};var P=function(){};_.bind=function(n,i){var a,o;if(C&&n.bind===C)return C.apply(n,s.call(arguments,1));if(!_.isFunction(n))throw new TypeError;return a=s.call(arguments,2),o=function(){if(!(this instanceof o))return n.apply(i,a.concat(s.call(arguments)));P.prototype=n.prototype;var t=new P;P.prototype=null;var e=n.apply(t,a.concat(s.call(arguments)));return Object(e)===e?e:t}},_.partial=function(a){var o=s.call(arguments,1);return function(){for(var t=0,e=o.slice(),n=0,i=e.length;n<i;n++)e[n]===_&&(e[n]=arguments[t++]);for(;t<arguments.length;)e.push(arguments[t++]);return a.apply(this,e)}},_.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,n){var i={};return n||(n=_.identity),function(){var t=n.apply(this,arguments);return _.has(i,t)?i[t]:i[t]=e.apply(this,arguments)}},_.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=function(t){return _.delay.apply(_,[t,1].concat(s.call(arguments,1)))},_.throttle=function(n,i,a){var o,r,s,l=null,c=0;a||(a={});var d=function(){c=!1===a.leading?0:_.now(),l=null,s=n.apply(o,r),o=r=null};return function(){var t=_.now();c||!1!==a.leading||(c=t);var e=i-(t-c);return o=this,r=arguments,e<=0?(clearTimeout(l),l=null,c=t,s=n.apply(o,r),o=r=null):l||!1===a.trailing||(l=setTimeout(d,e)),s}},_.debounce=function(e,n,i){var a,o,r,s,l,c=function(){var t=_.now()-s;t<n?a=setTimeout(c,n-t):(a=null,i||(l=e.apply(r,o),r=o=null))};return function(){r=this,o=arguments,s=_.now();var t=i&&!a;return a||(a=setTimeout(c,n)),t&&(l=e.apply(r,o),r=o=null),l}},_.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},_.wrap=function(t,e){return _.partial(e,t)},_.compose=function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;0<=e;e--)t=[n[e].apply(this,t)];return t[0]}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.keys=function(t){if(!_.isObject(t))return[];if(w)return w(t);var e=[];for(var n in t)_.has(t,n)&&e.push(n);return e},_.values=function(t){for(var e=_.keys(t),n=e.length,i=new Array(n),a=0;a<n;a++)i[a]=t[e[a]];return i},_.pairs=function(t){for(var e=_.keys(t),n=e.length,i=new Array(n),a=0;a<n;a++)i[a]=[e[a],t[e[a]]];return i},_.invert=function(t){for(var e={},n=_.keys(t),i=0,a=n.length;i<a;i++)e[t[n[i]]]=n[i];return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=function(n){return S(s.call(arguments,1),function(t){if(t)for(var e in t)n[e]=t[e]}),n},_.pick=function(e){var n={},t=l.apply(a,s.call(arguments,1));return S(t,function(t){t in e&&(n[t]=e[t])}),n},_.omit=function(t){var e={},n=l.apply(a,s.call(arguments,1));for(var i in t)_.contains(n,i)||(e[i]=t[i]);return e},_.defaults=function(n){return S(s.call(arguments,1),function(t){if(t)for(var e in t)void 0===n[e]&&(n[e]=t[e])}),n},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t};var L=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var a=u.call(t);if(a!=u.call(e))return!1;switch(a){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return i[o]==e;var r=t.constructor,s=e.constructor;if(r!==s&&!(_.isFunction(r)&&r instanceof r&&_.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var l=0,c=!0;if("[object Array]"==a){if(c=(l=t.length)==e.length)for(;l--&&(c=L(t[l],e[l],n,i)););}else{for(var d in t)if(_.has(t,d)&&(l++,!(c=_.has(e,d)&&L(t[d],e[d],n,i))))break;if(c){for(d in e)if(_.has(e,d)&&!l--)break;c=!l}}return n.pop(),i.pop(),c};_.isEqual=function(t,e){return L(t,e,[],[])},_.isEmpty=function(t){if(null==t)return!0;if(_.isArray(t)||_.isString(t))return 0===t.length;for(var e in t)if(_.has(t,e))return!1;return!0},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=x||function(t){return"[object Array]"==u.call(t)},_.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){_["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return!(!t||!_.has(t,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(t){return"function"==typeof t}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!=+t},_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==u.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return c.call(t,e)},_.noConflict=function(){return t._=e,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.property=function(e){return function(t){return t[e]}},_.matches=function(n){return function(t){if(t===n)return!0;for(var e in n)if(n[e]!==t[e])return!1;return!0}},_.times=function(t,e,n){for(var i=Array(Math.max(0,t)),a=0;a<t;a++)i[a]=e.call(n,a);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=_.invert(j.escape);var F={escape:new RegExp("["+_.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(j.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(e){_[e]=function(t){return null==t?"":(""+t).replace(F[e],function(t){return j[e][t]})}}),_.result=function(t,e){if(null!=t){var n=t[e];return _.isFunction(n)?n.call(t):n}},_.mixin=function(n){S(_.functions(n),function(t){var e=_[t]=n[t];_.prototype[t]=function(){var t=[this._wrapped];return o.apply(t,arguments),N.call(this,e.apply(_,t))}})};var M=0;_.uniqueId=function(t){var e=++M+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(o,t,e){var n;e=_.defaults({},e,_.templateSettings);var i=new RegExp([(e.escape||E).source,(e.interpolate||E).source,(e.evaluate||E).source].join("|")+"|$","g"),r=0,s="__p+='";o.replace(i,function(t,e,n,i,a){return s+=o.slice(r,a).replace(O,function(t){return"\\"+R[t]}),e&&(s+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),r=a+t.length,t}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(e.variable||"obj","_",s)}catch(l){throw l.source=s,l}if(t)return n(t,_);var a=function(t){return n.call(this,t,_)};return a.source="function("+(e.variable||"obj")+"){\n"+s+"}",a},_.chain=function(t){return _(t).chain()};var N=function(t){return this._chain?_(t).chain():t};_.mixin(_),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];_.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],N.call(this,t)}}),S(["concat","join","slice"],function(t){var e=a[t];_.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this),window.Modernizr=function(i,u,r){function a(t){b.cssText=t}function t(t,e){return a(_.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function l(t,e){for(var n in t){var i=t[n];if(!s(i,"-")&&b[i]!==r)return"pfx"!=e||i}return!1}function c(t,e,n){for(var i in t){var a=e[t[i]];if(a!==r)return!1===n?t[i]:o(a,"function")?a.bind(n||e):a}return!1}function d(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+T.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?l(a,e):c(a=(t+" "+k.join(i+" ")+i).split(" "),e,n)}function e(){p.input=function(t){for(var e=0,n=t.length;e<n;e++)P[t[e]]=!!(t[e]in x);return P.list&&(P.list=!(!u.createElement("datalist")||!i.HTMLDataListElement)),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var e,n,i,a=0,o=t.length;a<o;a++)x.setAttribute("type",n=t[a]),(e="text"!==x.type)&&(x.value=w,x.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&x.style.WebkitAppearance!==r?(m.appendChild(x),e=(i=u.defaultView).getComputedStyle&&"textfield"!==i.getComputedStyle(x,null).WebkitAppearance&&0!==x.offsetHeight,m.removeChild(x)):/^(search|tel)$/.test(n)||(e=/^(url|email)$/.test(n)?x.checkValidity&&!1===x.checkValidity():x.value!=w)),I[t[a]]=!!e;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var n,h,f="2.8.2",p={},g=!0,m=u.documentElement,y="modernizr",v=u.createElement(y),b=v.style,x=u.createElement("input"),w=":)",C={}.toString,_=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",T=S.split(" "),k=S.toLowerCase().split(" "),D={svg:"http://www.w3.org/2000/svg"},A={},I={},P={},L=[],j=L.slice,F=function(t,e,n,i){var a,o,r,s,l=u.createElement("div"),c=u.body,d=c||u.createElement("body");if(parseInt(n,10))for(;n--;)(r=u.createElement("div")).id=i?i[n]:y+(n+1),l.appendChild(r);return a=["&#173;",'<style id="s',y,'">',t,"</style>"].join(""),l.id=y,(c?l:d).innerHTML+=a,d.appendChild(l),c||(d.style.background="",d.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),o=e(l,t),c?l.parentNode.removeChild(l):(d.parentNode.removeChild(d),m.style.overflow=s),!!o},M=function(t){var e,n=i.matchMedia||i.msMatchMedia;return n?n(t)&&n(t).matches||!1:(F("@media "+t+" { #"+y+" { position: absolute; } }",function(t){e="absolute"==(i.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),e)},E=function(){function t(t,e){e=e||u.createElement(i[t]||"div");var n=(t="on"+t)in e;return n||(e.setAttribute||(e=u.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(t,""),n=o(e[t],"function"),o(e[t],"undefined")||(e[t]=r),e.removeAttribute(t))),e=null,n}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),R={}.hasOwnProperty;for(var O in h=o(R,"undefined")||o(R.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return R.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function N(i){var a=this;if("function"!=typeof a)throw new TypeError;var o=j.call(arguments,1),r=function(){if(this instanceof r){var t=function(){};t.prototype=a.prototype;var e=new t,n=a.apply(e,o.concat(j.call(arguments)));return Object(n)===n?n:e}return a.apply(i,o.concat(j.call(arguments)))};return r}),A.flexbox=function(){return d("flexWrap")},A.flexboxlegacy=function(){return d("boxDirection")},A.canvas=function(){var t=u.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},A.canvastext=function(){return!(!p.canvas||!o(u.createElement("canvas").getContext("2d").fillText,"function"))},A.webgl=function(){return!!i.WebGLRenderingContext},A.touch=function(){var e;return"ontouchstart"in i||i.DocumentTouch&&u instanceof DocumentTouch?e=!0:F(["@media (",_.join("touch-enabled),("),y,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){e=9===t.offsetTop}),e},A.geolocation=function(){return"geolocation"in navigator},A.postmessage=function(){return!!i.postMessage},A.websqldatabase=function(){return!!i.openDatabase},A.indexedDB=function(){return!!d("indexedDB",i)},A.hashchange=function(){return E("hashchange",i)&&(u.documentMode===r||7<u.documentMode)},A.history=function(){return!(!i.history||!history.pushState)},A.draganddrop=function(){var t=u.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},A.websockets=function(){return"WebSocket"in i||"MozWebSocket"in i},A.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},A.hsla=function(){return a("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},A.multiplebgs=function(){return a("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},A.backgroundsize=function(){return d("backgroundSize")},A.borderimage=function(){return d("borderImage")},A.borderradius=function(){return d("borderRadius")},A.boxshadow=function(){return d("boxShadow")},A.textshadow=function(){return""===u.createElement("div").style.textShadow},A.opacity=function(){return t("opacity:.55"),/^0.55$/.test(b.opacity)},A.cssanimations=function(){return d("animationName")},A.csscolumns=function(){return d("columnCount")},A.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return a((t+"-webkit- ".split(" ").join(e+t)+_.join(n+t)).slice(0,-t.length)),s(b.backgroundImage,"gradient")},A.cssreflections=function(){return d("boxReflect")},A.csstransforms=function(){return!!d("transform")},A.csstransforms3d=function(){var e=!!d("perspective");return e&&"webkitPerspective"in m.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},A.csstransitions=function(){return d("transition")},A.fontface=function(){var o;return F('@font-face {font-family:"font";src:url("https://")}',function(t,e){var n=u.getElementById("smodernizr"),i=n.sheet||n.styleSheet,a=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"";o=/src/i.test(a)&&0===a.indexOf(e.split(" ")[0])}),o},A.generatedcontent=function(){var e;return F(["#",y,"{font:0/0 a}#",y,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=3<=t.offsetHeight}),e},A.video=function(){var t=u.createElement("video"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return e},A.audio=function(){var t=u.createElement("audio"),e=!1;try{(e=!!t.canPlayType)&&((e=new Boolean(e)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),e.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),e.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),e.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return e},A.localstorage=function(){try{return localStorage.setItem(y,y),localStorage.removeItem(y),!0}catch(t){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(y,y),sessionStorage.removeItem(y),!0}catch(t){return!1}},A.webworkers=function(){return!!i.Worker},A.applicationcache=function(){return!!i.applicationCache},A.svg=function(){return!!u.createElementNS&&!!u.createElementNS(D.svg,"svg").createSVGRect},A.inlinesvg=function(){var t=u.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==D.svg},A.smil=function(){return!!u.createElementNS&&/SVGAnimate/.test(C.call(u.createElementNS(D.svg,"animate")))},A.svgclippaths=function(){return!!u.createElementNS&&/SVGClipPath/.test(C.call(u.createElementNS(D.svg,"clipPath")))},A)h(A,O)&&(n=O.toLowerCase(),p[n]=A[O](),L.push((p[n]?"":"no-")+n));return p.input||e(),p.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==r)return p;e="function"==typeof e?e():e,void 0!==g&&g&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},a(""),v=x=null,function(t,r){function n(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function s(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function l(t){var e=y[t[g]];return e||(e={},m++,t[g]=m,y[m]=e),e}function i(t,e,n){return e||(e=r),d?e.createElement(t):(n||(n=l(e)),!(i=n.cache[t]?n.cache[t].cloneNode():p.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t)).canHaveChildren||f.test(t)||i.tagUrn?i:n.frag.appendChild(i));var i}function e(t,e){if(t||(t=r),d)return t.createDocumentFragment();for(var n=(e=e||l(t)).frag.cloneNode(),i=0,a=s(),o=a.length;i<o;i++)n.createElement(a[i]);return n}function a(e,n){n.cache||(n.cache={},n.createElem=e.createElement,n.createFrag=e.createDocumentFragment,n.frag=n.createFrag()),e.createElement=function(t){return v.shivMethods?i(t,e,n):n.createElem(t)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+s().join().replace(/[\w\-]+/g,function(t){return n.createElem(t),n.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,n.frag)}function o(t){t||(t=r);var e=l(t);return!v.shivCSS||c||e.hasCSS||(e.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||a(t,e),t}var c,d,u="3.7.0",h=t.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,y={};!function(){try{var t=r.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,d=1==t.childNodes.length||function(){r.createElement("a");var t=r.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(e){d=c=!0}}();var v={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:!1!==h.shivCSS,supportsUnknownElements:d,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:o,createElement:i,createDocumentFragment:e};t.html5=v,o(r)}(this,u),p._version=f,p._prefixes=_,p._domPrefixes=k,p._cssomPrefixes=T,p.mq=M,p.hasEvent=E,p.testProp=function(t){return l([t])},p.testAllProps=d,p.testStyles=F,p.prefixed=function(t,e,n){return e?d(t,e,n):d(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+L.join(" "):""),p}(this,this.document),function(){function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}Namespace=function(t,e){for(var n,i=t.split("."),a=this,o=0;o<i.length;o++){var r=i[o];a[r]=a[r]||{},a=(n=a)[r]}if(l(e))for(var s in e)e.hasOwnProperty(s)&&(a[s]=e[s]);else e!==undefined&&(n[r]=e);return a},ClassWithBaseModule=function(t,e,n){for(var i in"string"==typeof t&&(t=Namespace(t)),n===undefined&&(n=t.Base),e){var a=function(){this._super=n,this.initialize&&this.initialize.apply(this,arguments)};a.prototype={},o((a.prototype.constructor=a).prototype,n),o(a.prototype,e[i]),t[i]=a}},IncludeModule=function(t,e){"function"==typeof t&&(t=t.prototype),e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){o(t,e[n])}},InheritedClass=function(t,e,n,i){e===undefined&&(e={});var a=function(){this.initialize&&this.initialize.apply(this,arguments)};a.prototype=new i,o(a.prototype,n),e[t]=a}}(),function(){var t;this.global=t=window,t.Asset={base:"/_assets",path:function(t){return this.base+"/"+t}},t.App=t.App||{}}.call(this),function(){var e,t,n,i,a,o,r,s,l,c;e=27,t=document.body,i="color: #ff1493",n="color: #000",s=function(){if(App.Environment.isDebuggable)return l(),document.addEventListener("keydown",r)},r=function(t){if(t.shiftKey&&t.keyCode===e)return App.Environment.debug?a():o()},o=function(){return App.Environment.debug=!0,t.classList.add("debugging"),Logger.info("Debugger","Enabled."),$(document).trigger("appDebugEnabled")},a=function(){return App.Environment.debug=!1,t.classList.remove("debugging"),Logger.info("Debugger","Disabled."),$(document).trigger("appDebugDisabled")},l=function(){return console.debug("%c[%s] %c%s %c%s",i,"developer",n,"Toggle debugging with",i,"[shift] + [escape]")},c=function(){return console.warn("%c[%s] %c%s",i,"developer",n,"Using deprecated key sequence."),l()},$(s),Namespace("App.Services",{Debugger:{enableDebugMode:o,disableDebugMode:a,stealthModeDeprecationWarning:c}})}.call(this),function(){"use strict";_.templateSettings={evaluate:/\{\{(.+?)\}\}/g,interpolate:/\{\{=(.+?)\}\}/g,escape:/\{\{-(.+?)\}\}/g},global.JST={},$(function t(){var a=0;$(".underscore-template").each(function(t,e){var n=$(e),i=n.data("path");JST.hasOwnProperty(i)?Logger.error("Javascript Templates",'Template "'+i+'" has already been set.'):(JST[n.data("path")]=_.template(n.html()),a+=1)}),Logger.info("Javascript Templates","Compiled "+a+" template(s).")})}(),function(l,c){var d;l.rails=d={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var e=l('meta[name="csrf-token"]').attr("content");e&&t.setRequestHeader("X-CSRF-Token",e)},fire:function(t,e,n){var i=l.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return l.ajax(t)},href:function(t){return t.attr("href")},handleRemote:function(i){var t,e,n,a,o,r;if(d.fire(i,"ajax:before")){if(a=i.data("cross-domain")||null,o=i.data("type")||l.ajaxSettings&&l.ajaxSettings.dataType,i.is("form")){t=i.attr("method"),e=i.attr("action"),n=i.serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null))}else i.is(d.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=d.href(i),n=i.data("params")||null);return r={type:t||"GET",data:n,dataType:o,crossDomain:a,beforeSend:function(t,e){return e.dataType===c&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),d.fire(i,"ajax:beforeSend",[t,e])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])}},e&&(r.url=e),d.ajax(r)}return!1},handleMethod:function(t){var e=d.href(t),n=t.data("method"),i=t.attr("target"),a=l("meta[name=csrf-token]").attr("content"),o=l("meta[name=csrf-param]").attr("content"),r=l('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o!==c&&a!==c&&(s+='<input name="'+o+'" value="'+a+'" type="hidden" />'),i&&r.attr("target",i),r.hide().append(s).appendTo("body"),r.submit()},disableFormElements:function(t){t.find(d.disableSelector).each(function(){var t=l(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with",t[e]()),t[e](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(d.enableSelector).each(function(){var t=l(this),e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),i=!1;return!n||(d.fire(t,"confirm")&&(i=d.confirm(n),e=d.fire(t,"confirm:complete",[i])),i&&e)},blankInputs:function(t,e,n){var i,a=l(),o=e||"input,textarea";return t.find(o).each(function(){i=l(this),(n?i.val():!i.val())&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return d.blankInputs(t,e,!0)},stopEverything:function(t){return l(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(t,n){var e=t.data("events"),i=!0;return e!==c&&e.submit!==c&&l.each(e.submit,function(t,e){if("function"==typeof e.handler)return i=e.handler(n)}),i},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return d.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==c&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},l.ajaxPrefilter(function(t,e,n){t.crossDomain||d.CSRFProtection(n)}),l(document).delegate(d.linkDisableSelector,"ajax:complete",function(){d.enableElement(l(this))}),l(document).delegate(d.linkClickSelector,"click.rails",function(t){var e=l(this),n=e.data("method"),i=e.data("params");return d.allowAction(e)?(e.is(d.linkDisableSelector)&&d.disableElement(e),e.data("remote")!==c?!(
!t.metaKey&&!t.ctrlKey||n&&"GET"!==n||i)||(!1===d.handleRemote(e)&&d.enableElement(e),!1):e.data("method")?(d.handleMethod(e),!1):void 0):d.stopEverything(t)}),l(document).delegate(d.inputChangeSelector,"change.rails",function(t){var e=l(this);return d.allowAction(e)?(d.handleRemote(e),!1):d.stopEverything(t)}),l(document).delegate(d.formSubmitSelector,"submit.rails",function(t){var e=l(this),n=e.data("remote")!==c,i=d.blankInputs(e,d.requiredInputSelector);d.nonBlankInputs(e,d.fileInputSelector);return d.allowAction(e)?i&&e.attr("novalidate")==c&&d.fire(e,"ajax:aborted:required",[i])?d.stopEverything(t):n?!l.support.submitBubbles&&l().jquery<"1.7"&&!1===d.callFormSubmitBindings(e,t)?d.stopEverything(t):(d.handleRemote(e),!1):void setTimeout(function(){d.disableFormElements(e)},13):d.stopEverything(t)}),l(document).delegate(d.formInputClickSelector,"click.rails",function(t){var e=l(this);if(!d.allowAction(e))return d.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null;e.closest("form").data("ujs:submit-button",i)}),l(document).delegate(d.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&d.disableFormElements(l(this))}),l(document).delegate(d.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&d.enableFormElements(l(this))})}(jQuery),jQuery.cookie=function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var a=document.cookie.split(";"),o=0;o<a.length;o++){var r=jQuery.trim(a[o]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1).replace(/\+/g,"%20"));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var s,l="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,l="; expires="+s.toUTCString());var c=n.path?"; path="+n.path:"",d=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),l,c,d,u].join("")},function(window,document,undefined){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.dataTable&&t(jQuery)}(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(t,e){var n=DataTable.defaults.columns,i=t.aoColumns.length,a=$.extend({},DataTable.models.oColumn,n,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:e||document.createElement("th"),sTitle:n.sTitle?n.sTitle:e?e.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.oDefaults:i});if(t.aoColumns.push(a),t.aoPreSearchCols[i]===undefined||null===t.aoPreSearchCols[i])t.aoPreSearchCols[i]=$.extend({},DataTable.models.oSearch);else{var o=t.aoPreSearchCols[i];o.bRegex===undefined&&(o.bRegex=!0),o.bSmart===undefined&&(o.bSmart=!0),o.bCaseInsensitive===undefined&&(o.bCaseInsensitive=!0)}_fnColumnOptions(t,i,null)}function _fnColumnOptions(t,e,n){var i=t.aoColumns[e];n!==undefined&&null!==n&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==undefined&&(i.sType=n.sType,i._bAutoType=!1),$.extend(i,n),_fnMap(i,n,"sWidth","sWidthOrig"),n.iDataSort!==undefined&&(i.aDataSort=[n.iDataSort]),_fnMap(i,n,"aDataSort"));var a=i.mRender?_fnGetObjectDataFn(i.mRender):null,o=_fnGetObjectDataFn(i.mData);i.fnGetData=function(t,e){var n=o(t,e);return i.mRender&&e&&""!==e?a(n,e,t):n},i.fnSetData=_fnSetObjectDataFn(i.mData),t.oFeatures.bSort||(i.bSortable=!1),!i.bSortable||-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortableNone,i.sSortingClassJUI=""):-1==$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortable,i.sSortingClassJUI=t.oClasses.sSortJUI):-1!=$.inArray("asc",i.asSorting)&&-1==$.inArray("desc",i.asSorting)?(i.sSortingClass=t.oClasses.sSortableAsc,i.sSortingClassJUI=t.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",i.asSorting)&&-1!=$.inArray("desc",i.asSorting)&&(i.sSortingClass=t.oClasses.sSortableDesc,i.sSortingClassJUI=t.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(t){if(!1===t.oFeatures.bAutoWidth)return!1;_fnCalculateColumnWidths(t);for(var e=0,n=t.aoColumns.length;e<n;e++)t.aoColumns[e].nTh.style.width=t.aoColumns[e].sWidth}function _fnVisibleToColumnIndex(t,e){var n=_fnGetColumns(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function _fnColumnIndexToVisible(t,e){var n=_fnGetColumns(t,"bVisible"),i=$.inArray(e,n);return-1!==i?i:null}function _fnVisbleColumns(t){return _fnGetColumns(t,"bVisible").length}function _fnGetColumns(t,n){var i=[];return $.map(t.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function _fnDetectType(t){for(var e=DataTable.ext.aTypes,n=e.length,i=0;i<n;i++){var a=e[i](t);if(null!==a)return a}return"string"}function _fnReOrderIndex(t,e){for(var n=e.split(","),i=[],a=0,o=t.aoColumns.length;a<o;a++)for(var r=0;r<o;r++)if(t.aoColumns[a].sName==n[r]){i.push(r);break}return i}function _fnColumnOrdering(t){for(var e="",n=0,i=t.aoColumns.length;n<i;n++)e+=t.aoColumns[n].sName+",";return e.length==i?"":e.slice(0,-1)}function _fnApplyColumnDefs(t,e,n,i){var a,o,r,s,l,c;if(e)for(a=e.length-1;0<=a;a--){var d=e[a].aTargets;for($.isArray(d)||_fnLog(t,1,"aTargets must be an array of targets, not a "+typeof d),r=0,s=d.length;r<s;r++)if("number"==typeof d[r]&&0<=d[r]){for(;t.aoColumns.length<=d[r];)_fnAddColumn(t);i(d[r],e[a])}else if("number"==typeof d[r]&&d[r]<0)i(t.aoColumns.length+d[r],e[a]);else if("string"==typeof d[r])for(l=0,c=t.aoColumns.length;l<c;l++)("_all"==d[r]||$(t.aoColumns[l].nTh).hasClass(d[r]))&&i(l,e[a])}if(n)for(a=0,o=n.length;a<o;a++)i(a,n[a])}function _fnAddData(t,e){var n,i,a=$.isArray(e)?e.slice():$.extend(!0,{},e),o=t.aoData.length,r=$.extend(!0,{},DataTable.models.oRow);r._aData=a,t.aoData.push(r);for(var s=0,l=t.aoColumns.length;s<l;s++)if("function"==typeof(n=t.aoColumns[s]).fnRender&&n.bUseRendered&&null!==n.mData?_fnSetCellData(t,o,s,_fnRender(t,o,s)):_fnSetCellData(t,o,s,_fnGetCellData(t,o,s)),n._bAutoType&&"string"!=n.sType){var c=_fnGetCellData(t,o,s,"type");null!==c&&""!==c&&(i=_fnDetectType(c),null===n.sType?n.sType=i:n.sType!=i&&"html"!=n.sType&&(n.sType="string"))}return t.aiDisplayMaster.push(o),t.oFeatures.bDeferRender||_fnCreateTr(t,o),o}function _fnGatherData(t){var e,n,i,a,o,r,s,l,c,d,u,h,f,p,g;if(t.bDeferLoading||null===t.sAjaxSource)for(s=t.nTBody.firstChild;s;){if("TR"==s.nodeName.toUpperCase())for(l=t.aoData.length,s._DT_RowIndex=l,t.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:s})),t.aiDisplayMaster.push(l),r=s.firstChild,i=0;r;)"TD"!=(f=r.nodeName.toUpperCase())&&"TH"!=f||(_fnSetCellData(t,l,i,$.trim(r.innerHTML)),i++),r=r.nextSibling;s=s.nextSibling}for(a=[],e=0,n=(o=_fnGetTrNodes(t)).length;e<n;e++)for(r=o[e].firstChild;r;)"TD"!=(f=r.nodeName.toUpperCase())&&"TH"!=f||a.push(r),r=r.nextSibling;for(u=0,h=t.aoColumns.length;u<h;u++){null===(p=t.aoColumns[u]).sTitle&&(p.sTitle=p.nTh.innerHTML);var m,y,v,b,x=p._bAutoType,w="function"==typeof p.fnRender,C=null!==p.sClass,_=p.bVisible;if(x||w||C||!_)for(c=0,d=t.aoData.length;c<d;c++)g=t.aoData[c],m=a[c*h+u],x&&"string"!=p.sType&&""!==(b=_fnGetCellData(t,c,u,"type"))&&(y=_fnDetectType(b),null===p.sType?p.sType=y:p.sType!=y&&"html"!=p.sType&&(p.sType="string")),p.mRender?m.innerHTML=_fnGetCellData(t,c,u,"display"):p.mData!==u&&(m.innerHTML=_fnGetCellData(t,c,u,"display")),w&&(v=_fnRender(t,c,u),m.innerHTML=v,p.bUseRendered&&_fnSetCellData(t,c,u,v)),C&&(m.className+=" "+p.sClass),_?g._anHidden[u]=null:(g._anHidden[u]=m).parentNode.removeChild(m),p.fnCreatedCell&&p.fnCreatedCell.call(t.oInstance,m,_fnGetCellData(t,c,u,"display"),g._aData,c,u)}if(0!==t.aoRowCreatedCallback.length)for(e=0,n=t.aoData.length;e<n;e++)_fnCallbackFire(t,"aoRowCreatedCallback",null,[(g=t.aoData[e]).nTr,g._aData,e])}function _fnNodeToDataIndex(t,e){return e._DT_RowIndex!==undefined?e._DT_RowIndex:null}function _fnNodeToColumnIndex(t,e,n){for(var i=_fnGetTdNodes(t,e),a=0,o=t.aoColumns.length;a<o;a++)if(i[a]===n)return a;return-1}function _fnGetRowData(t,e,n,i){for(var a=[],o=0,r=i.length;o<r;o++)a.push(_fnGetCellData(t,e,i[o],n));return a}function _fnGetCellData(t,e,n,i){var a,o=t.aoColumns[n],r=t.aoData[e]._aData;if((a=o.fnGetData(r,i))===undefined)return t.iDrawError!=t.iDraw&&null===o.sDefaultContent&&(_fnLog(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{mData function}":"'"+o.mData+"'")+" from the data source for row "+e),t.iDrawError=t.iDraw),o.sDefaultContent;if(null===a&&null!==o.sDefaultContent)a=o.sDefaultContent;else if("function"==typeof a)return a();return"display"==i&&null===a?"":a}function _fnSetCellData(t,e,n,i){var a=t.aoColumns[n],o=t.aoData[e]._aData;a.fnSetData(o,i)}function _fnGetObjectDataFn(i){if(null===i)return function(){return null};if("function"==typeof i)return function(t,e,n){return i(t,e,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("["))return function(t){return t[i]};var h=function(t,e,n){var i,a,o,r=n.split(".");if(""!==n)for(var s=0,l=r.length;s<l;s++){if(i=r[s].match(__reArray)){r[s]=r[s].replace(__reArray,""),""!==r[s]&&(t=t[r[s]]),a=[],r.splice(0,s+1),o=r.join(".");for(var c=0,d=t.length;c<d;c++)a.push(h(t[c],e,o));var u=i[0].substring(1,i[0].length-1);t=""===u?a:a.join(u);break}if(null===t||t[r[s]]===undefined)return undefined;t=t[r[s]]}return t};return function(t,e){return h(t,e,i)}}function _fnSetObjectDataFn(n){if(null===n)return function(){};if("function"==typeof n)return function(t,e){n(t,"set",e)};if("string"!=typeof n||-1===n.indexOf(".")&&-1===n.indexOf("["))return function(t,e){t[n]=e};var u=function(t,e,n){for(var i,a,o,r=n.split("."),s=0,l=r.length-1;s<l;s++){if(r[s].match(__reArray)){r[s]=r[s].replace(__reArray,""),t[r[s]]=[],(i=r.slice()).splice(0,s+1),o=i.join(".");for(var c=0,d=e.length;c<d;c++)u(a={},e[c],o),t[r[s]].push(a);return}null!==t[r[s]]&&t[r[s]]!==undefined||(t[r[s]]={}),t=t[r[s]]}t[r[r.length-1].replace(__reArray,"")]=e};return function(t,e){return u(t,e,n)}}function _fnGetDataMaster(t){for(var e=[],n=t.aoData.length,i=0;i<n;i++)e.push(t.aoData[i]._aData);return e}function _fnClearTable(t){t.aoData.splice(0,t.aoData.length),t.aiDisplayMaster.splice(0,t.aiDisplayMaster.length),t.aiDisplay.splice(0,t.aiDisplay.length),_fnCalculateEnd(t)}function _fnDeleteIndex(t,e){for(var n=-1,i=0,a=t.length;i<a;i++)t[i]==e?n=i:t[i]>e&&t[i]--;-1!=n&&t.splice(n,1)}function _fnRender(t,e,n){var i=t.aoColumns[n];return i.fnRender({iDataRow:e,iDataColumn:n,oSettings:t,aData:t.aoData[e]._aData,mDataProp:i.mData},_fnGetCellData(t,e,n,"display"))}function _fnCreateTr(t,e){var n,i=t.aoData[e];if(null===i.nTr){i.nTr=document.createElement("tr"),i.nTr._DT_RowIndex=e,i._aData.DT_RowId&&(i.nTr.id=i._aData.DT_RowId),i._aData.DT_RowClass&&(i.nTr.className=i._aData.DT_RowClass);for(var a=0,o=t.aoColumns.length;a<o;a++){var r=t.aoColumns[a];(n=document.createElement(r.sCellType)).innerHTML="function"!=typeof r.fnRender||r.bUseRendered&&null!==r.mData?_fnGetCellData(t,e,a,"display"):_fnRender(t,e,a),null!==r.sClass&&(n.className=r.sClass),r.bVisible?(i.nTr.appendChild(n),i._anHidden[a]=null):i._anHidden[a]=n,r.fnCreatedCell&&r.fnCreatedCell.call(t.oInstance,n,_fnGetCellData(t,e,a,"display"),i._aData,e,a)}_fnCallbackFire(t,"aoRowCreatedCallback",null,[i.nTr,i._aData,e])}}function _fnBuildHead(t){var e,n,i;if(0!==$("th, td",t.nTHead).length)for(e=0,i=t.aoColumns.length;e<i;e++)(n=t.aoColumns[e].nTh).setAttribute("role","columnheader"),t.aoColumns[e].bSortable&&(n.setAttribute("tabindex",t.iTabIndex),n.setAttribute("aria-controls",t.sTableId)),null!==t.aoColumns[e].sClass&&$(n).addClass(t.aoColumns[e].sClass),t.aoColumns[e].sTitle!=n.innerHTML&&(n.innerHTML=t.aoColumns[e].sTitle);else{var a=document.createElement("tr");for(e=0,i=t.aoColumns.length;e<i;e++)(n=t.aoColumns[e].nTh).innerHTML=t.aoColumns[e].sTitle,n.setAttribute("tabindex","0"),null!==t.aoColumns[e].sClass&&$(n).addClass(t.aoColumns[e].sClass),a.appendChild(n);$(t.nTHead).html("")[0].appendChild(a),_fnDetectHeader(t.aoHeader,t.nTHead)}if($(t.nTHead).children("tr").attr("role","row"),t.bJUI)for(e=0,i=t.aoColumns.length;e<i;e++){n=t.aoColumns[e].nTh;var o=document.createElement("div");o.className=t.oClasses.sSortJUIWrapper,$(n).contents().appendTo(o);var r=document.createElement("span");r.className=t.oClasses.sSortIcon,o.appendChild(r),n.appendChild(o)}if(t.oFeatures.bSort)for(e=0;e<t.aoColumns.length;e++)!1!==t.aoColumns[e].bSortable?_fnSortAttachListener(t,t.aoColumns[e].nTh,e):$(t.aoColumns[e].nTh).addClass(t.oClasses.sSortableNone);if(""!==t.oClasses.sFooterTH&&$(t.nTFoot).children("tr").children("th").addClass(t.oClasses.sFooterTH),null!==t.nTFoot){var s=_fnGetUniqueThs(t,null,t.aoFooter);for(e=0,i=t.aoColumns.length;e<i;e++)s[e]&&(t.aoColumns[e].nTf=s[e],t.aoColumns[e].sClass&&$(s[e]).addClass(t.aoColumns[e].sClass))}}function _fnDrawHead(t,e,n){var i,a,o,r,s,l,c,d,u,h=[],f=[],p=t.aoColumns.length;for(n===undefined&&(n=!1),i=0,a=e.length;i<a;i++){for(h[i]=e[i].slice(),h[i].nTr=e[i].nTr,o=p-1;0<=o;o--)t.aoColumns[o].bVisible||n||h[i].splice(o,1);f.push([])}for(i=0,a=h.length;i<a;i++){if(c=h[i].nTr)for(;l=c.firstChild;)c.removeChild(l);for(o=0,r=h[i].length;o<r;o++)if(u=d=1,f[i][o]===undefined){for(c.appendChild(h[i][o].cell),f[i][o]=1;h[i+d]!==undefined&&h[i][o].cell==h[i+d][o].cell;)f[i+d][o]=1,d++;for(;h[i][o+u]!==undefined&&h[i][o].cell==h[i][o+u].cell;){for(s=0;s<d;s++)f[i+s][o+u]=1;u++}h[i][o].cell.rowSpan=d,h[i][o].cell.colSpan=u}}}function _fnDraw(t){var e=_fnCallbackFire(t,"aoPreDrawCallback","preDraw",[t]);if(-1===$.inArray(!1,e)){var n,i,a,o=[],r=0,s=t.asStripeClasses.length,l=t.aoOpenRows.length;if(t.bDrawing=!0,t.iInitDisplayStart!==undefined&&-1!=t.iInitDisplayStart&&(t.oFeatures.bServerSide?t._iDisplayStart=t.iInitDisplayStart:t._iDisplayStart=t.iInitDisplayStart>=t.fnRecordsDisplay()?0:t.iInitDisplayStart,t.iInitDisplayStart=-1,_fnCalculateEnd(t)),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++;else if(t.oFeatures.bServerSide){if(!t.bDestroying&&!_fnAjaxUpdate(t))return}else t.iDraw++;if(0!==t.aiDisplay.length){var c=t._iDisplayStart,d=t._iDisplayEnd;t.oFeatures.bServerSide&&(c=0,d=t.aoData.length);for(var u=c;u<d;u++){var h=t.aoData[t.aiDisplay[u]];null===h.nTr&&_fnCreateTr(t,t.aiDisplay[u]);var f=h.nTr;if(0!==s){var p=t.asStripeClasses[r%s];h._sRowStripe!=p&&($(f).removeClass(h._sRowStripe).addClass(p),h._sRowStripe=p)}if(_fnCallbackFire(t,"aoRowCallback",null,[f,t.aoData[t.aiDisplay[u]]._aData,r,u]),o.push(f),r++,0!==l)for(var g=0;g<l;g++)if(f==t.aoOpenRows[g].nParent){o.push(t.aoOpenRows[g].nTr);break}}}else{o[0]=document.createElement("tr"),t.asStripeClasses[0]&&(o[0].className=t.asStripeClasses[0]);var m=t.oLanguage,y=m.sZeroRecords;1!=t.iDraw||null===t.sAjaxSource||t.oFeatures.bServerSide?m.sEmptyTable&&0===t.fnRecordsTotal()&&(y=m.sEmptyTable):y=m.sLoadingRecords;var v=document.createElement("td");v.setAttribute("valign","top"),v.colSpan=_fnVisbleColumns(t),v.className=t.oClasses.sRowEmpty,v.innerHTML=_fnInfoMacros(t,y),o[r].appendChild(v)}_fnCallbackFire(t,"aoHeaderCallback","header",[$(t.nTHead).children("tr")[0],_fnGetDataMaster(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),_fnCallbackFire(t,"aoFooterCallback","footer",[$(t.nTFoot).children("tr")[0],_fnGetDataMaster(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]);var b,x=document.createDocumentFragment(),w=document.createDocumentFragment();if(t.nTBody){if(b=t.nTBody.parentNode,w.appendChild(t.nTBody),!t.oScroll.bInfinite||!t._bInitComplete||t.bSorted||t.bFiltered)for(;a=t.nTBody.firstChild;)t.nTBody.removeChild(a);for(n=0,i=o.length;n<i;n++)x.appendChild(o[n]);t.nTBody.appendChild(x),null!==b&&b.appendChild(t.nTBody)}_fnCallbackFire(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1,t.oFeatures.bServerSide&&(_fnProcessingDisplay(t,!1),t._bInitComplete||_fnInitComplete(t))}else _fnProcessingDisplay(t,!1)}function _fnReDraw(t){t.oFeatures.bSort?_fnSort(t,t.oPreviousSearch):t.oFeatures.bFilter?_fnFilterComplete(t,t.oPreviousSearch):(_fnCalculateEnd(t),_fnDraw(t))}function _fnAddOptionsHtml(t){var e=$("<div></div>")[0];t.nTable.parentNode.insertBefore(e,t.nTable),t.nTableWrapper=$('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"></div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var n,i,a,o,r,s,l,c=t.nTableWrapper,d=t.sDom.split(""),u=0;u<d.length;u++){if(i=0,"<"==(a=d[u])){if(o=$("<div></div>")[0],"'"==(r=d[u+1])||'"'==r){for(s="",l=2;d[u+l]!=r;)s+=d[u+l],l++;if("H"==s?s=t.oClasses.sJUIHeader:"F"==s&&(s=t.oClasses.sJUIFooter),-1!=s.indexOf(".")){var h=s.split(".");o.id=h[0].substr(1,h[0].length-1),o.className=h[1]}else"#"==s.charAt(0)?o.id=s.substr(1,s.length-1):o.className=s;u+=l}c.appendChild(o),c=o}else if(">"==a)c=c.parentNode;else if("l"==a&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)n=_fnFeatureHtmlLength(t),i=1;else if("f"==a&&t.oFeatures.bFilter)n=_fnFeatureHtmlFilter(t),i=1;else if("r"==a&&t.oFeatures.bProcessing)n=_fnFeatureHtmlProcessing(t),i=1;else if("t"==a)n=_fnFeatureHtmlTable(t),i=1;else if("i"==a&&t.oFeatures.bInfo)n=_fnFeatureHtmlInfo(t),i=1;else if("p"==a&&t.oFeatures.bPaginate)n=_fnFeatureHtmlPaginate(t),i=1;else if(0!==DataTable.ext.aoFeatures.length)for(var f=DataTable.ext.aoFeatures,p=0,g=f.length;p<g;p++)if(a==f[p].cFeature){(n=f[p].fnInit(t))&&(i=1);break}1==i&&null!==n&&("object"!=typeof t.aanFeatures[a]&&(t.aanFeatures[a]=[]),t.aanFeatures[a].push(n),c.appendChild(n))}e.parentNode.replaceChild(t.nTableWrapper,e)}function _fnDetectHeader(t,e){var n,i,a,o,r,s,l,c,d,u,h,f=$(e).children("tr"),p=function(t,e,n){for(var i=t[e];i[n];)n++;return n};for(t.splice(0,t.length),a=0,s=f.length;a<s;a++)t.push([]);for(a=0,s=f.length;a<s;a++)for(c=0,i=(n=f[a]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(d=(d=1*i.getAttribute("colspan"))&&0!==d&&1!==d?d:1,u=(u=1*i.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,l=p(t,a,c),h=1===d,r=0;r<d;r++)for(o=0;o<u;o++)t[a+o][l+r]={cell:i,unique:h},t[a+o].nTr=n;i=i.nextSibling}}function _fnGetUniqueThs(t,e,n){var i=[];n||(n=t.aoHeader,e&&_fnDetectHeader(n=[],e));for(var a=0,o=n.length;a<o;a++)for(var r=0,s=n[a].length;r<s;r++)!n[a][r].unique||i[r]&&t.bSortCellsTop||(i[r]=n[a][r].cell);return i}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++,_fnProcessingDisplay(e,!0);e.aoColumns.length;var t=_fnAjaxParameters(e);return _fnServerParams(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){_fnAjaxUpdateDraw(e,t)},e),!1}return!0}function _fnAjaxParameters(t){var e,n,i,a,o,r=t.aoColumns.length,s=[];for(s.push({name:"sEcho",value:t.iDraw}),s.push({name:"iColumns",value:r}),s.push({name:"sColumns",value:_fnColumnOrdering(t)}),s.push({name:"iDisplayStart",value:t._iDisplayStart}),s.push({name:"iDisplayLength",value:!1!==t.oFeatures.bPaginate?t._iDisplayLength:-1}),a=0;a<r;a++)e=t.aoColumns[a].mData,s.push({name:"mDataProp_"+a,value:"function"==typeof e?"function":e});if(!1!==t.oFeatures.bFilter)for(s.push({name:"sSearch",value:t.oPreviousSearch.sSearch}),s.push({name:"bRegex",value:t.oPreviousSearch.bRegex}),a=0;a<r;a++)s.push({name:"sSearch_"+a,value:t.aoPreSearchCols[a].sSearch}),s.push({name:"bRegex_"+a,value:t.aoPreSearchCols[a].bRegex}),s.push({name:"bSearchable_"+a,value:t.aoColumns[a].bSearchable});if(!1!==t.oFeatures.bSort){var l=0;for(n=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),a=0;a<n.length;a++)for(i=t.aoColumns[n[a][0]].aDataSort,o=0;o<i.length;o++)s.push({name:"iSortCol_"+l,value:i[o]}),s.push({name:"sSortDir_"+l,value:n[a][1]}),l++;for(s.push({name:"iSortingCols",value:l}),a=0;a<r;a++)s.push({name:"bSortable_"+a,value:t.aoColumns[a].bSortable})}return s}function _fnServerParams(t,e){_fnCallbackFire(t,"aoServerParams","serverParams",[e])}function _fnAjaxUpdateDraw(t,e){if(e.sEcho!==undefined){if(1*e.sEcho<t.iDraw)return;t.iDraw=1*e.sEcho}(!t.oScroll.bInfinite||t.oScroll.bInfinite&&(t.bSorted||t.bFiltered))&&_fnClearTable(t),t._iRecordsTotal=parseInt(e.iTotalRecords,10),t._iRecordsDisplay=parseInt(e.iTotalDisplayRecords,10);var n,i=_fnColumnOrdering(t),a=e.sColumns!==undefined&&""!==i&&e.sColumns!=i;a&&(n=_fnReOrderIndex(t,e.sColumns));for(var o=_fnGetObjectDataFn(t.sAjaxDataProp)(e),r=0,s=o.length;r<s;r++)if(a){for(var l=[],c=0,d=t.aoColumns.length;c<d;c++)l.push(o[r][n[c]]);_fnAddData(t,l)}else _fnAddData(t,o[r]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,_fnDraw(t),t.bAjaxDataGet=!0,_fnProcessingDisplay(t,!1)}function _fnFeatureHtmlFilter(a){var o=a.oPreviousSearch,t=a.oLanguage.sSearch;t=-1!==t.indexOf("_INPUT_")?t.replace("_INPUT_",'<input type="text" />'):""===t?'<input type="text" />':t+' <input type="text" />';var e=document.createElement("div");e.className=a.oClasses.sFilter,e.innerHTML="<label>"+t+"</label>",a.aanFeatures.f||(e.id=a.sTableId+"_filter");var n=$('input[type="text"]',e);return e._DT_Input=n[0],n.val(o.sSearch.replace('"',"&quot;")),n.bind("keyup.DT",function(){for(var t=a.aanFeatures.f,e=""===this.value?"":this.value,n=0,i=t.length;n<i;n++)t[n]!=$(this).parents("div.dataTables_filter")[0]&&$(t[n]._DT_Input).val(e);e!=o.sSearch&&_fnFilterComplete(a,{sSearch:e,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive})}),n.attr("aria-controls",a.sTableId).bind("keypress.DT",function(t){if(13==t.keyCode)return!1}),e}function _fnFilterComplete(t,e,n){var i=t.oPreviousSearch,a=t.aoPreSearchCols,o=function(t){i.sSearch=t.sSearch,i.bRegex=t.bRegex,i.bSmart=t.bSmart,i.bCaseInsensitive=t.bCaseInsensitive};if(t.oFeatures.bServerSide)o(e);else{_fnFilter(t,e.sSearch,n,e.bRegex,e.bSmart,e.bCaseInsensitive),o(e);for(var r=0;r<t.aoPreSearchCols.length;r++)_fnFilterColumn(t,a[r].sSearch,r,a[r].bRegex,a[r].bSmart,a[r].bCaseInsensitive);_fnFilterCustom(t)}t.bFiltered=!0,$(t.oInstance).trigger("filter",t),t._iDisplayStart=0,_fnCalculateEnd(t),_fnDraw(t),_fnBuildSearchArray(t,0)}function _fnFilterCustom(t){for(var e=DataTable.ext.afnFiltering,n=_fnGetColumns(t,"bSearchable"),i=0,a=e.length;i<a;i++)for(var o=0,r=0,s=t.aiDisplay.length;r<s;r++){var l=t.aiDisplay[r-o];e[i](t,_fnGetRowData(t,l,"filter",n),l)||(t.aiDisplay.splice(r-o,1),o++)}}function _fnFilterColumn(t,e,n,i,a,o){if(""!==e)for(var r=_fnFilterCreateSearch(e,i,a,o),s=t.aiDisplay.length-1;0<=s;s--){var l=_fnDataToSearch(_fnGetCellData(t,t.aiDisplay[s],n,"filter"),t.aoColumns[n].sType);r.test(l)||(t.aiDisplay.splice(s,1),0)}}function _fnFilter(t,e,n,i,a,o){var r,s=_fnFilterCreateSearch(e,i,a,o),l=t.oPreviousSearch;if(n||(n=0),0!==DataTable.ext.afnFiltering.length&&(n=1),e.length<=0)t.aiDisplay.splice(0,t.aiDisplay.length),t.aiDisplay=t.aiDisplayMaster.slice();else if(t.aiDisplay.length==t.aiDisplayMaster.length||l.sSearch.length>e.length||1==n||0!==e.indexOf(l.sSearch))for(t.aiDisplay.splice(0,t.aiDisplay.length),_fnBuildSearchArray(t,1),r=0;r<t.aiDisplayMaster.length;r++)s.test(t.asDataSearch[r])&&t.aiDisplay.push(t.aiDisplayMaster[r]);else{var c=0;for(r=0;r<t.asDataSearch.length;r++)s.test(t.asDataSearch[r])||(t.aiDisplay.splice(r-c,1),c++)}}function _fnBuildSearchArray(t,e){if(!t.oFeatures.bServerSide){t.asDataSearch=[];for(var n=_fnGetColumns(t,"bSearchable"),i=1===e?t.aiDisplayMaster:t.aiDisplay,a=0,o=i.length;a<o;a++)t.asDataSearch[a]=_fnBuildSearchRow(t,_fnGetRowData(t,i[a],"filter",n))}}function _fnBuildSearchRow(t,e){var n=e.join("  ");return-1!==n.indexOf("&")&&(n=$("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(t,e,n,i){var a;return n?(a="^(?=.*?"+(e?t.split(" "):_fnEscapeRegex(t).split(" ")).join(")(?=.*?")+").*$",new RegExp(a,i?"i":"")):(t=e?t:_fnEscapeRegex(t),new RegExp(t,i?"i":""))}function _fnDataToSearch(t,e){return"function"==typeof DataTable.ext.ofnSearch[e]?DataTable.ext.ofnSearch[e](t):null===t?"":"html"==e?t.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof t?t.replace(/[\r\n]/g," "):t}function _fnEscapeRegex(t){var e=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");return t.replace(e,"\\$1")}function _fnFeatureHtmlInfo(t){var e=document.createElement("div");return e.className=t.oClasses.sInfo,t.aanFeatures.i||(t.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),e.id=t.sTableId+"_info"),t.nTable.setAttribute("aria-describedby",t.sTableId+"_info"),e}function _fnUpdateInfo(t){if(t.oFeatures.bInfo&&0!==t.aanFeatures.i.length){var e,n=t.oLanguage,i=t._iDisplayStart+1,a=t.fnDisplayEnd(),o=t.fnRecordsTotal(),r=t.fnRecordsDisplay();e=0===r?n.sInfoEmpty:n.sInfo,r!=o&&(e+=" "+n.sInfoFiltered),e=_fnInfoMacros(t,e+=n.sInfoPostFix),null!==n.fnInfoCallback&&(e=n.fnInfoCallback.call(t.oInstance,t,i,a,o,r,e));for(var s=t.aanFeatures.i,l=0,c=s.length;l<c;l++)$(s[l]).html(e)}}function _fnInfoMacros(t,e){var n=t._iDisplayStart+1,i=t.fnFormatNumber(n),a=t.fnDisplayEnd(),o=t.fnFormatNumber(a),r=t.fnRecordsDisplay(),s=t.fnFormatNumber(r),l=t.fnRecordsTotal(),c=t.fnFormatNumber(l);return t.oScroll.bInfinite&&(i=t.fnFormatNumber(1)),e.replace(/_START_/g,i).replace(/_END_/g,o).replace(/_TOTAL_/g,s).replace(/_MAX_/g,c)}function _fnInitialise(n){var i,t,a=n.iInitDisplayStart;if(!1!==n.bInitialised){for(_fnAddOptionsHtml(n),_fnBuildHead(n),_fnDrawHead(n,n.aoHeader),n.nTFoot&&_fnDrawHead(n,n.aoFooter),_fnProcessingDisplay(n,!0),n.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(n),i=0,t=n.aoColumns.length;i<t;i++)null!==n.aoColumns[i].sWidth&&(n.aoColumns[i].nTh.style.width=_fnStringToCss(n.aoColumns[i].sWidth));if(n.oFeatures.bSort?_fnSort(n):n.oFeatures.bFilter?_fnFilterComplete(n,n.oPreviousSearch):(n.aiDisplay=n.aiDisplayMaster.slice(),_fnCalculateEnd(n),_fnDraw(n)),null!==n.sAjaxSource&&!n.oFeatures.bServerSide){var e=[];return _fnServerParams(n,e),void n.fnServerData.call(n.oInstance,n.sAjaxSource,e,function(t){var e=""!==n.sAjaxDataProp?_fnGetObjectDataFn(n.sAjaxDataProp)(t):t;for(i=0;i<e.length;i++)_fnAddData(n,e[i]);n.iInitDisplayStart=a,n.oFeatures.bSort?_fnSort(n):(n.aiDisplay=n.aiDisplayMaster.slice(),_fnCalculateEnd(n),_fnDraw(n)),_fnProcessingDisplay(n,!1),_fnInitComplete(n,t)},n)}n.oFeatures.bServerSide||(_fnProcessingDisplay(n,!1),_fnInitComplete(n))}else setTimeout(function(){_fnInitialise(n)},200)}function _fnInitComplete(t,e){t._bInitComplete=!0,_fnCallbackFire(t,"aoInitComplete","init",[t,e])}function _fnLanguageCompat(t){var e=DataTable.defaults.oLanguage;!t.sEmptyTable&&t.sZeroRecords&&"No data available in table"===e.sEmptyTable&&_fnMap(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&t.sZeroRecords&&"Loading..."===e.sLoadingRecords&&_fnMap(t,t,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(n){if(n.oScroll.bInfinite)return null;var i,a,t='<select size="1" '+('name="'+n.sTableId+'_length"')+">",e=n.aLengthMenu;if(2==e.length&&"object"==typeof e[0]&&"object"==typeof e[1])for(a=e[i=0].length;i<a;i++)t+='<option value="'+e[0][i]+'">'+e[1][i]+"</option>";else for(i=0,a=e.length;i<a;i++)t+='<option value="'+e[i]+'">'+e[i]+"</option>";t+="</select>";var o=document.createElement("div");return n.aanFeatures.l||(o.id=n.sTableId+"_length"),o.className=n.oClasses.sLength,o.innerHTML="<label>"+n.oLanguage.sLengthMenu.replace("_MENU_",t)+"</label>",$('select option[value="'+n._iDisplayLength+'"]',o).attr("selected",!0),$("select",o).bind("change.DT",function(){var t=$(this).val(),e=n.aanFeatures.l;for(i=0,a=e.length;i<a;i++)e[i]!=this.parentNode&&$("select",e[i]).val(t);n._iDisplayLength=parseInt(t,10),_fnCalculateEnd(n),n.fnDisplayEnd()==n.fnRecordsDisplay()&&(n._iDisplayStart=n.fnDisplayEnd()-n._iDisplayLength,n._iDisplayStart<0&&(n._iDisplayStart=0)),-1==n._iDisplayLength&&(n._iDisplayStart=0),_fnDraw(n)}),$("select",o).attr("aria-controls",n.sTableId),o}function _fnCalculateEnd(t){!1===t.oFeatures.bPaginate?t._iDisplayEnd=t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength>t.aiDisplay.length||-1==t._iDisplayLength?t._iDisplayEnd=t.aiDisplay.length:t._iDisplayEnd=t._iDisplayStart+t._iDisplayLength}function _fnFeatureHtmlPaginate(t){if(t.oScroll.bInfinite)return null;var e=document.createElement("div");return e.className=t.oClasses.sPaging+t.sPaginationType,DataTable.ext.oPagination[t.sPaginationType].fnInit(t,e,function(t){_fnCalculateEnd(t),_fnDraw(t)}),t.aanFeatures.p||t.aoDrawCallback.push({fn:function(t){DataTable.ext.oPagination[t.sPaginationType].fnUpdate(t,function(t){_fnCalculateEnd(t),_fnDraw(t)})},sName:"pagination"}),e}function _fnPageChange(t,e){var n=t._iDisplayStart;if("number"==typeof e)t._iDisplayStart=e*t._iDisplayLength,t._iDisplayStart>t.fnRecordsDisplay()&&(t._iDisplayStart=0);else if("first"==e)t._iDisplayStart=0;else if("previous"==e)t._iDisplayStart=0<=t._iDisplayLength?t._iDisplayStart-t._iDisplayLength:0,t._iDisplayStart<0&&(t._iDisplayStart=0);else if("next"==e)0<=t._iDisplayLength?t._iDisplayStart+t._iDisplayLength<t.fnRecordsDisplay()&&(t._iDisplayStart+=t._iDisplayLength):t._iDisplayStart=0;else if("last"==e)if(0<=t._iDisplayLength){var i=parseInt((t.fnRecordsDisplay()-1)/t._iDisplayLength,10)+1;t._iDisplayStart=(i-1)*t._iDisplayLength}else t._iDisplayStart=0;else _fnLog(t,0,"Unknown paging action: "+e);return $(t.oInstance).trigger("page",t),n!=t._iDisplayStart}function _fnFeatureHtmlProcessing(t){var e=document.createElement("div");return t.aanFeatures.r||(e.id=t.sTableId+"_processing"),e.innerHTML=t.oLanguage.sProcessing,e.className=t.oClasses.sProcessing,t.nTable.parentNode.insertBefore(e,t.nTable),e}function _fnProcessingDisplay(t,e){if(t.oFeatures.bProcessing)for(var n=t.aanFeatures.r,i=0,a=n.length;i<a;i++)n[i].style.visibility=e?"visible":"hidden";$(t.oInstance).trigger("processing",[t,e])}function _fnFeatureHtmlTable(t){if(""===t.oScroll.sX&&""===t.oScroll.sY)return t.nTable;var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),s=t.nTable.cloneNode(!1),l=t.nTable.cloneNode(!1),c=t.nTable.getElementsByTagName("thead")[0],d=0===t.nTable.getElementsByTagName("tfoot").length?null:t.nTable.getElementsByTagName("tfoot")[0],u=t.oClasses;n.appendChild(i),o.appendChild(r),a.appendChild(t.nTable),e.appendChild(n),e.appendChild(a),i.appendChild(s),s.appendChild(c),null!==d&&(e.appendChild(o),r.appendChild(l),l.appendChild(d)),e.className=u.sScrollWrapper,n.className=u.sScrollHead,i.className=u.sScrollHeadInner,a.className=u.sScrollBody,o.className=u.sScrollFoot,r.className=u.sScrollFootInner,t.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",o.style.overflow="hidden",a.style.overflow="auto"),n.style.border="0",n.style.width="100%",o.style.border="0",i.style.width=""!==t.oScroll.sXInner?t.oScroll.sXInner:"100%",s.removeAttribute("id"),s.style.marginLeft="0",t.nTable.style.marginLeft="0",null!==d&&(l.removeAttribute("id"),l.style.marginLeft="0");var h=$(t.nTable).children("caption");return 0<h.length&&("top"===(h=h[0])._captionSide?s.appendChild(h):"bottom"===h._captionSide&&d&&l.appendChild(h)),""!==t.oScroll.sX&&(n.style.width=_fnStringToCss(t.oScroll.sX),a.style.width=_fnStringToCss(t.oScroll.sX),null!==d&&(o.style.width=_fnStringToCss(t.oScroll.sX)),$(a).scroll(function(){n.scrollLeft=this.scrollLeft,null!==d&&(o.scrollLeft=this.scrollLeft)})),""!==t.oScroll.sY&&(a.style.height=_fnStringToCss(t.oScroll.sY)),t.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),t.oScroll.bInfinite&&$(a).scroll(function(){t.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(t.nTable).height()-t.oScroll.iLoadGap&&t.fnDisplayEnd()<t.fnRecordsDisplay()&&(_fnPageChange(t,"next"),_fnCalculateEnd(t),_fnDraw(t))}),t.nScrollHead=n,t.nScrollFoot=o,e}function _fnScrollDraw(t){var e,n,i,a,o,r,s,l,c,d,u,h=t.nScrollHead.getElementsByTagName("div")[0],f=h.getElementsByTagName("table")[0],p=t.nTable.parentNode,g=[],m=[],y=null!==t.nTFoot?t.nScrollFoot.getElementsByTagName("div")[0]:null,v=null!==t.nTFoot?y.getElementsByTagName("table")[0]:null,b=t.oBrowser.bScrollOversize,x=function(t){(s=t.style).paddingTop="0",s.paddingBottom="0",s.borderTopWidth="0",s.borderBottomWidth="0",s.height=0};$(t.nTable).children("thead, tfoot").remove(),c=$(t.nTHead).clone()[0],t.nTable.insertBefore(c,t.nTable.childNodes[0]),i=t.nTHead.getElementsByTagName("tr"),a=c.getElementsByTagName("tr"),null!==t.nTFoot&&(d=$(t.nTFoot).clone()[0],t.nTable.insertBefore(d,t.nTable.childNodes[1]),r=t.nTFoot.getElementsByTagName("tr"),o=d.getElementsByTagName("tr")),""===t.oScroll.sX&&(p.style.width="100%",h.parentNode.style.width="100%");var w=_fnGetUniqueThs(t,c);for(e=0,n=w.length;e<n;e++)l=_fnVisibleToColumnIndex(t,e),w[e].style.width=t.aoColumns[l].sWidth;if(null!==t.nTFoot&&_fnApplyToChildren(function(t){t.style.width=""},o),t.oScroll.bCollapse&&""!==t.oScroll.sY&&(
p.style.height=p.offsetHeight+t.nTHead.offsetHeight+"px"),u=$(t.nTable).outerWidth(),""===t.oScroll.sX?(t.nTable.style.width="100%",b&&($("tbody",p).height()>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(t.nTable.style.width=_fnStringToCss($(t.nTable).outerWidth()-t.oScroll.iBarWidth))):""!==t.oScroll.sXInner?t.nTable.style.width=_fnStringToCss(t.oScroll.sXInner):u==$(p).width()&&$(p).height()<$(t.nTable).height()?(t.nTable.style.width=_fnStringToCss(u-t.oScroll.iBarWidth),$(t.nTable).outerWidth()>u-t.oScroll.iBarWidth&&(t.nTable.style.width=_fnStringToCss(u))):t.nTable.style.width=_fnStringToCss(u),u=$(t.nTable).outerWidth(),_fnApplyToChildren(x,a),_fnApplyToChildren(function(t){g.push(_fnStringToCss($(t).width()))},a),_fnApplyToChildren(function(t,e){t.style.width=g[e]},i),$(a).height(0),null!==t.nTFoot&&(_fnApplyToChildren(x,o),_fnApplyToChildren(function(t){m.push(_fnStringToCss($(t).width()))},o),_fnApplyToChildren(function(t,e){t.style.width=m[e]},r),$(o).height(0)),_fnApplyToChildren(function(t,e){t.innerHTML="",t.style.width=g[e]},a),null!==t.nTFoot&&_fnApplyToChildren(function(t,e){t.innerHTML="",t.style.width=m[e]},o),$(t.nTable).outerWidth()<u){var C=p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y")?u+t.oScroll.iBarWidth:u;b&&(p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(t.nTable.style.width=_fnStringToCss(C-t.oScroll.iBarWidth)),p.style.width=_fnStringToCss(C),t.nScrollHead.style.width=_fnStringToCss(C),null!==t.nTFoot&&(t.nScrollFoot.style.width=_fnStringToCss(C)),""===t.oScroll.sX?_fnLog(t,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==t.oScroll.sXInner&&_fnLog(t,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else p.style.width=_fnStringToCss("100%"),t.nScrollHead.style.width=_fnStringToCss("100%"),null!==t.nTFoot&&(t.nScrollFoot.style.width=_fnStringToCss("100%"));if(""===t.oScroll.sY&&b&&(p.style.height=_fnStringToCss(t.nTable.offsetHeight+t.oScroll.iBarWidth)),""!==t.oScroll.sY&&t.oScroll.bCollapse){p.style.height=_fnStringToCss(t.oScroll.sY);var _=""!==t.oScroll.sX&&t.nTable.offsetWidth>p.offsetWidth?t.oScroll.iBarWidth:0;t.nTable.offsetHeight<p.offsetHeight&&(p.style.height=_fnStringToCss(t.nTable.offsetHeight+_))}var S=$(t.nTable).outerWidth();f.style.width=_fnStringToCss(S),h.style.width=_fnStringToCss(S);var T=$(t.nTable).height()>p.clientHeight||"scroll"==$(p).css("overflow-y");h.style.paddingRight=T?t.oScroll.iBarWidth+"px":"0px",null!==t.nTFoot&&(v.style.width=_fnStringToCss(S),y.style.width=_fnStringToCss(S),y.style.paddingRight=T?t.oScroll.iBarWidth+"px":"0px"),$(p).scroll(),(t.bSorted||t.bFiltered)&&(p.scrollTop=0)}function _fnApplyToChildren(t,e,n){for(var i,a,o=0,r=0,s=e.length;r<s;){for(i=e[r].firstChild,a=n?n[r].firstChild:null;i;)1===i.nodeType&&(n?t(i,a,o):t(i,o),o++),i=i.nextSibling,a=n?a.nextSibling:null;r++}}function _fnConvertToWidth(t,e){if(!t||null===t||""===t)return 0;var n;e||(e=document.body);var i=document.createElement("div");return i.style.width=_fnStringToCss(t),e.appendChild(i),n=i.offsetWidth,e.removeChild(i),n}function _fnCalculateColumnWidths(t){t.nTable.offsetWidth;var e,n,i,a,o=0,r=0,s=t.aoColumns.length,l=$("th",t.nTHead),c=t.nTable.getAttribute("width"),d=t.nTable.parentNode;for(n=0;n<s;n++)t.aoColumns[n].bVisible&&(r++,null!==t.aoColumns[n].sWidth&&(null!==(e=_fnConvertToWidth(t.aoColumns[n].sWidthOrig,d))&&(t.aoColumns[n].sWidth=_fnStringToCss(e)),o++));if(s==l.length&&0===o&&r==s&&""===t.oScroll.sX&&""===t.oScroll.sY)for(n=0;n<t.aoColumns.length;n++)null!==(e=$(l[n]).width())&&(t.aoColumns[n].sWidth=_fnStringToCss(e));else{var u=t.nTable.cloneNode(!1),h=t.nTHead.cloneNode(!0),f=document.createElement("tbody"),p=document.createElement("tr");u.removeAttribute("id"),u.appendChild(h),null!==t.nTFoot&&(u.appendChild(t.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(t){t.style.width=""},u.getElementsByTagName("tr"))),u.appendChild(f),f.appendChild(p);var g=$("thead th",u);0===g.length&&(g=$("tbody tr:eq(0)>td",u));var m=_fnGetUniqueThs(t,h);for(n=i=0;n<s;n++){var y=t.aoColumns[n];y.bVisible&&null!==y.sWidthOrig&&""!==y.sWidthOrig?m[n-i].style.width=_fnStringToCss(y.sWidthOrig):y.bVisible?m[n-i].style.width="":i++}for(n=0;n<s;n++)if(t.aoColumns[n].bVisible){var v=_fnGetWidestNode(t,n);null!==v&&(v=v.cloneNode(!0),""!==t.aoColumns[n].sContentPadding&&(v.innerHTML+=t.aoColumns[n].sContentPadding),p.appendChild(v))}d.appendChild(u),""!==t.oScroll.sX&&""!==t.oScroll.sXInner?u.style.width=_fnStringToCss(t.oScroll.sXInner):""!==t.oScroll.sX?(u.style.width="",$(u).width()<d.offsetWidth&&(u.style.width=_fnStringToCss(d.offsetWidth))):""!==t.oScroll.sY?u.style.width=_fnStringToCss(d.offsetWidth):c&&(u.style.width=_fnStringToCss(c)),u.style.visibility="hidden",_fnScrollingWidthAdjust(t,u);var b=$("tbody tr:eq(0)",u).children();if(0===b.length&&(b=_fnGetUniqueThs(t,$("thead",u)[0])),""!==t.oScroll.sX){var x=0;for(n=i=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(null===t.aoColumns[n].sWidthOrig?x+=$(b[i]).outerWidth():x+=parseInt(t.aoColumns[n].sWidth.replace("px",""),10)+($(b[i]).outerWidth()-$(b[i]).width()),i++);u.style.width=_fnStringToCss(x),t.nTable.style.width=_fnStringToCss(x)}for(n=i=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(null!==(a=$(b[i]).width())&&0<a&&(t.aoColumns[n].sWidth=_fnStringToCss(a)),i++);var w=$(u).css("width");t.nTable.style.width=-1!==w.indexOf("%")?w:_fnStringToCss($(u).outerWidth()),u.parentNode.removeChild(u)}c&&(t.nTable.style.width=_fnStringToCss(c))}function _fnScrollingWidthAdjust(t,e){if(""===t.oScroll.sX&&""!==t.oScroll.sY){$(e).width();e.style.width=_fnStringToCss($(e).outerWidth()-t.oScroll.iBarWidth)}else""!==t.oScroll.sX&&(e.style.width=_fnStringToCss($(e).outerWidth()))}function _fnGetWidestNode(t,e){var n=_fnGetMaxLenString(t,e);if(n<0)return null;if(null!==t.aoData[n].nTr)return _fnGetTdNodes(t,n)[e];var i=document.createElement("td");return i.innerHTML=_fnGetCellData(t,n,e,""),i}function _fnGetMaxLenString(t,e){for(var n=-1,i=-1,a=0;a<t.aoData.length;a++){var o=_fnGetCellData(t,a,e,"display")+"";(o=o.replace(/<.*?>/g,"")).length>n&&(n=o.length,i=a)}return i}function _fnStringToCss(t){if(null===t)return"0px";if("number"==typeof t)return t<0?"0px":t+"px";var e=t.charCodeAt(t.length-1);return e<48||57<e?t:t+"px"}function _fnScrollBarWidth(){var t=document.createElement("p"),e=t.style;e.width="100%",e.height="200px",e.padding="0px";var n=document.createElement("div");(e=n.style).position="absolute",e.top="0px",e.left="0px",e.visibility="hidden",e.width="200px",e.height="150px",e.padding="0px",e.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;return i==a&&(a=n.clientWidth),document.body.removeChild(n),i-a}function _fnSort(t,e){var n,i,a,o,r,s,l,c,d=[],u=[],h=DataTable.ext.oSort,f=t.aoData,p=t.aoColumns,g=t.oLanguage.oAria;if(!t.oFeatures.bServerSide&&(0!==t.aaSorting.length||null!==t.aaSortingFixed)){for(d=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),n=0;n<d.length;n++){var m=d[n][0],y=_fnColumnIndexToVisible(t,m);if(l=t.aoColumns[m].sSortDataType,DataTable.ext.afnSortData[l]){var v=DataTable.ext.afnSortData[l].call(t.oInstance,t,m,y);if(v.length===f.length)for(a=0,o=f.length;a<o;a++)_fnSetCellData(t,a,m,v[a]);else _fnLog(t,0,"Returned data sort array (col "+m+") is the wrong length")}}for(n=0,i=t.aiDisplayMaster.length;n<i;n++)u[t.aiDisplayMaster[n]]=n;var b,x,w=d.length;for(n=0,i=f.length;n<i;n++)for(a=0;a<w;a++)for(r=0,s=(x=p[d[a][0]].aDataSort).length;r<s;r++)l=p[x[r]].sType,b=h[(l||"string")+"-pre"],f[n]._aSortData[x[r]]=b?b(_fnGetCellData(t,n,x[r],"sort")):_fnGetCellData(t,n,x[r],"sort");t.aiDisplayMaster.sort(function(t,e){var n,i,a,o,r,s;for(n=0;n<w;n++)for(i=0,a=(r=p[d[n][0]].aDataSort).length;i<a;i++)if(s=p[r[i]].sType,0!==(o=h[(s||"string")+"-"+d[n][1]](f[t]._aSortData[r[i]],f[e]._aSortData[r[i]])))return o;return h["numeric-asc"](u[t],u[e])})}for(e!==undefined&&!e||t.oFeatures.bDeferRender||_fnSortingClasses(t),n=0,i=t.aoColumns.length;n<i;n++){var C=p[n].sTitle.replace(/<.*?>/g,"");if((c=p[n].nTh).removeAttribute("aria-sort"),c.removeAttribute("aria-label"),p[n].bSortable)if(0<d.length&&d[0][0]==n){c.setAttribute("aria-sort","asc"==d[0][1]?"ascending":"descending");var _=p[n].asSorting[d[0][2]+1]?p[n].asSorting[d[0][2]+1]:p[n].asSorting[0];c.setAttribute("aria-label",C+("asc"==_?g.sSortAscending:g.sSortDescending))}else c.setAttribute("aria-label",C+("asc"==p[n].asSorting[0]?g.sSortAscending:g.sSortDescending));else c.setAttribute("aria-label",C)}t.bSorted=!0,$(t.oInstance).trigger("sort",t),t.oFeatures.bFilter?_fnFilterComplete(t,t.oPreviousSearch,1):(t.aiDisplay=t.aiDisplayMaster.slice(),t._iDisplayStart=0,_fnCalculateEnd(t),_fnDraw(t))}function _fnSortAttachListener(o,t,r,e){_fnBindAction(t,{},function(a){if(!1!==o.aoColumns[r].bSortable){var t=function(){var t,e;if(a.shiftKey){for(var n=!1,i=0;i<o.aaSorting.length;i++)if(o.aaSorting[i][0]==r){n=!0,t=o.aaSorting[i][0],e=o.aaSorting[i][2]+1,o.aoColumns[t].asSorting[e]?(o.aaSorting[i][1]=o.aoColumns[t].asSorting[e],o.aaSorting[i][2]=e):o.aaSorting.splice(i,1);break}!1===n&&o.aaSorting.push([r,o.aoColumns[r].asSorting[0],0])}else 1==o.aaSorting.length&&o.aaSorting[0][0]==r?(t=o.aaSorting[0][0],e=o.aaSorting[0][2]+1,o.aoColumns[t].asSorting[e]||(e=0),o.aaSorting[0][1]=o.aoColumns[t].asSorting[e],o.aaSorting[0][2]=e):(o.aaSorting.splice(0,o.aaSorting.length),o.aaSorting.push([r,o.aoColumns[r].asSorting[0],0]));_fnSort(o)};o.oFeatures.bProcessing?(_fnProcessingDisplay(o,!0),setTimeout(function(){t(),o.oFeatures.bServerSide||_fnProcessingDisplay(o,!1)},0)):t(),"function"==typeof e&&e(o)}})}function _fnSortingClasses(t){var e,n,i,a,o,r,s=t.aoColumns.length,l=t.oClasses;for(e=0;e<s;e++)t.aoColumns[e].bSortable&&$(t.aoColumns[e].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+t.aoColumns[e].sSortingClass);for(o=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),e=0;e<t.aoColumns.length;e++)if(t.aoColumns[e].bSortable){for(r=t.aoColumns[e].sSortingClass,a=-1,i=0;i<o.length;i++)if(o[i][0]==e){r="asc"==o[i][1]?l.sSortAsc:l.sSortDesc,a=i;break}if($(t.aoColumns[e].nTh).addClass(r),t.bJUI){var c,d=$("span."+l.sSortIcon,t.aoColumns[e].nTh);d.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed),c=-1==a?t.aoColumns[e].sSortingClassJUI:"asc"==o[a][1]?l.sSortJUIAsc:l.sSortJUIDesc,d.addClass(c)}}else $(t.aoColumns[e].nTh).addClass(t.aoColumns[e].sSortingClass);if(r=l.sSortColumn,t.oFeatures.bSort&&t.oFeatures.bSortClasses){var u,h,f=_fnGetTdNodes(t),p=[];for(e=0;e<s;e++)p.push("");for(e=0,u=1;e<o.length;e++)p[h=parseInt(o[e][0],10)]=r+u,u<3&&u++;var g,m,y,v=new RegExp(r+"[123]");for(e=0,n=f.length;e<n;e++)h=e%s,m=f[e].className,y=p[h],(g=m.replace(v,y))!=m?f[e].className=$.trim(g):0<y.length&&-1==m.indexOf(y)&&(f[e].className=m+" "+y)}}function _fnSaveState(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e,n,i=t.oScroll.bInfinite,a={iCreate:(new Date).getTime(),iStart:i?0:t._iDisplayStart,iEnd:i?t._iDisplayLength:t._iDisplayEnd,iLength:t._iDisplayLength,aaSorting:$.extend(!0,[],t.aaSorting),oSearch:$.extend(!0,{},t.oPreviousSearch),aoSearchCols:$.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(e=0,n=t.aoColumns.length;e<n;e++)a.abVisCols.push(t.aoColumns[e].bVisible);_fnCallbackFire(t,"aoStateSaveParams","stateSaveParams",[t,a]),t.fnStateSave.call(t.oInstance,t,a)}}function _fnLoadState(t,e){if(t.oFeatures.bStateSave){var n=t.fnStateLoad.call(t.oInstance,t);if(n){var i=_fnCallbackFire(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===$.inArray(!1,i)){t.oLoadedState=$.extend(!0,{},n),t._iDisplayStart=n.iStart,t.iInitDisplayStart=n.iStart,t._iDisplayEnd=n.iEnd,t._iDisplayLength=n.iLength,t.aaSorting=n.aaSorting.slice(),t.saved_aaSorting=n.aaSorting.slice(),$.extend(t.oPreviousSearch,n.oSearch),$.extend(!0,t.aoPreSearchCols,n.aoSearchCols),e.saved_aoColumns=[];for(var a=0;a<n.abVisCols.length;a++)e.saved_aoColumns[a]={},e.saved_aoColumns[a].bVisible=n.abVisCols[a];_fnCallbackFire(t,"aoStateLoaded","stateLoaded",[t,n])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(4096<iNewCookieLen+document.cookie.length+10){for(var i=0,iLen=aCookies.length;i<iLen;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")"),oData&&oData.iCreate&&aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}catch(e){}}for(aOldCookies.sort(function(t,e){return e.time-t.time});4096<iNewCookieLen+document.cookie.length+10;){if(0===aOldCookies.length)return;var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(t){for(var e=window.location.pathname.split("/"),n=t+"_"+e[e.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return decodeURIComponent(o.substring(n.length,o.length))}return null}function _fnSettingsFromNode(t){for(var e=0;e<DataTable.settings.length;e++)if(DataTable.settings[e].nTable===t)return DataTable.settings[e];return null}function _fnGetTrNodes(t){for(var e=[],n=t.aoData,i=0,a=n.length;i<a;i++)null!==n[i].nTr&&e.push(n[i].nTr);return e}function _fnGetTdNodes(t,e){var n,i,a,o,r,s,l,c,d=[],u=0,h=t.aoData.length;for(e!==undefined&&(h=(u=e)+1),o=u;o<h;o++)if(null!==(l=t.aoData[o]).nTr){for(i=[],a=l.nTr.firstChild;a;)"td"!=(c=a.nodeName.toLowerCase())&&"th"!=c||i.push(a),a=a.nextSibling;for(r=n=0,s=t.aoColumns.length;r<s;r++)t.aoColumns[r].bVisible?d.push(i[r-n]):(d.push(l._anHidden[r]),n++)}return d}function _fnLog(t,e,n){var i=null===t?"DataTables warning: "+n:"DataTables warning (table id = '"+t.sTableId+"'): "+n;if(0!==e)window.console&&console.log&&console.log(i);else{if("alert"!=DataTable.ext.sErrMode)throw new Error(i);alert(i)}}function _fnMap(t,e,n,i){i===undefined&&(i=n),e[n]!==undefined&&(t[i]=e[n])}function _fnExtend(t,e){var n;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],"object"==typeof oInit[i]&&null!==n&&!1===$.isArray(n)?$.extend(!0,t[i],n):t[i]=n);return t}function _fnBindAction(e,t,n){$(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(t){13===t.which&&n(t)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function _fnCallbackFire(t,e,n,i){for(var a=t[e],o=[],r=a.length-1;0<=r;r--)o.push(a[r].fn.apply(t.oInstance,i));return null!==n&&$(t.oInstance).trigger(n,i),o}function _fnBrowserDetect(t){var e=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(e),t.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",e)[0].offsetWidth,document.body.removeChild(e)}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[e].apply(this,t)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(t){var e=typeof t;if("object"!==e||null===t)return"string"===e&&(t='"'+t+'"'),t+"";var n,i,a=[],o=$.isArray(t);for(n in t)"string"===(e=typeof(i=t[n]))?i='"'+i+'"':"object"===e&&null!==i&&(i=_fnJsonString(i)),a.push((o?"":'"'+n+'":')+i);return(o?"[":"{")+a+(o?"]":"}")};for(var sFunc in this.$=function(t,e){var n,i,a,o=[],r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),s=r.aoData,l=r.aiDisplay,c=r.aiDisplayMaster;if(e||(e={}),"current"==(e=$.extend({},{filter:"none",order:"current",page:"all"},e)).page)for(n=r._iDisplayStart,i=r.fnDisplayEnd();n<i;n++)(a=s[l[n]].nTr)&&o.push(a);else if("current"==e.order&&"none"==e.filter)for(n=0,i=c.length;n<i;n++)(a=s[c[n]].nTr)&&o.push(a);else if("current"==e.order&&"applied"==e.filter)for(n=0,i=l.length;n<i;n++)(a=s[l[n]].nTr)&&o.push(a);else if("original"==e.order&&"none"==e.filter)for(n=0,i=s.length;n<i;n++)(a=s[n].nTr)&&o.push(a);else if("original"==e.order&&"applied"==e.filter)for(n=0,i=s.length;n<i;n++)a=s[n].nTr,-1!==$.inArray(n,l)&&a&&o.push(a);else _fnLog(r,1,"Unknown selection options");var d=$(o),u=d.filter(t),h=d.find(t);return $([].concat($.makeArray(u),$.makeArray(h)))},this._=function(t,e){var n,i,a=[],o=this.$(t,e);for(n=0,i=o.length;n<i;n++)a.push(this.fnGetData(o[n]));return a},this.fnAddData=function(t,e){if(0===t.length)return[];var n,i=[],a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof t[0]&&null!==t[0])for(var o=0;o<t.length;o++){if(-1==(n=_fnAddData(a,t[o])))return i;i.push(n)}else{if(-1==(n=_fnAddData(a,t)))return i;i.push(n)}return a.aiDisplay=a.aiDisplayMaster.slice(),(e===undefined||e)&&_fnReDraw(a),i},this.fnAdjustColumnSizing=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(e),t===undefined||t?this.fnDraw(!1):""===e.oScroll.sX&&""===e.oScroll.sY||this.oApi._fnScrollDraw(e)},this.fnClearTable=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(e),(t===undefined||t)&&_fnDraw(e)},this.fnClose=function(t){for(var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=0;n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t){var i=e.aoOpenRows[n].nTr.parentNode;return i&&i.removeChild(e.aoOpenRows[n].nTr),e.aoOpenRows.splice(n,1),0}return 1},this.fnDeleteRow=function(t,e,n){var i,a,o,r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);o="object"==typeof t?_fnNodeToDataIndex(r,t):t;var s=r.aoData.splice(o,1);for(i=0,a=r.aoData.length;i<a;i++)null!==r.aoData[i].nTr&&(r.aoData[i].nTr._DT_RowIndex=i);var l=$.inArray(o,r.aiDisplay);return r.asDataSearch.splice(l,1),_fnDeleteIndex(r.aiDisplayMaster,o),_fnDeleteIndex(r.aiDisplay,o),"function"==typeof e&&e.call(this,r,s),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0)),(n===undefined||n)&&(_fnCalculateEnd(r),_fnDraw(r)),s},this.fnDestroy=function(t){var e,n,i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),a=i.nTableWrapper.parentNode,o=i.nTBody;if(t=t!==undefined&&t,i.bDestroying=!0,_fnCallbackFire(i,"aoDestroyCallback","destroy",[i]),!t)for(e=0,n=i.aoColumns.length;e<n;e++)!1===i.aoColumns[e].bVisible&&this.fnSetColumnVis(e,!0);for($(i.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+i.oClasses.sRowEmpty,i.nTable).parent().remove(),i.nTable!=i.nTHead.parentNode&&($(i.nTable).children("thead").remove(),i.nTable.appendChild(i.nTHead)),i.nTFoot&&i.nTable!=i.nTFoot.parentNode&&($(i.nTable).children("tfoot").remove(),i.nTable.appendChild(i.nTFoot)),i.nTable.parentNode.removeChild(i.nTable),$(i.nTableWrapper).remove(),i.aaSorting=[],i.aaSortingFixed=[],_fnSortingClasses(i),$(_fnGetTrNodes(i)).removeClass(i.asStripeClasses.join(" ")),$("th, td",i.nTHead).removeClass([i.oClasses.sSortable,i.oClasses.sSortableAsc,i.oClasses.sSortableDesc,i.oClasses.sSortableNone].join(" ")),i.bJUI&&($("th span."+i.oClasses.sSortIcon+", td span."+i.oClasses.sSortIcon,i.nTHead).remove(),$("th, td",i.nTHead).each(function(){var t=$("div."+i.oClasses.sSortJUIWrapper,this),e=t.contents();$(this).append(e),t.remove()})),!t&&i.nTableReinsertBefore?a.insertBefore(i.nTable,i.nTableReinsertBefore):t||a.appendChild(i.nTable),e=0,n=i.aoData.length;e<n;e++)null!==i.aoData[e].nTr&&o.appendChild(i.aoData[e].nTr);if(!0===i.oFeatures.bAutoWidth&&(i.nTable.style.width=_fnStringToCss(i.sDestroyWidth)),n=i.asDestroyStripes.length){var r=$(o).children("tr");for(e=0;e<n;e++)r.filter(":nth-child("+n+"n + "+e+")").addClass(i.asDestroyStripes[e])}for(e=0,n=DataTable.settings.length;e<n;e++)DataTable.settings[e]==i&&DataTable.settings.splice(e,1);oInit=i=null},this.fnDraw=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);!1===t?(_fnCalculateEnd(e),_fnDraw(e)):_fnReDraw(e)},this.fnFilter=function(t,e,n,i,a,o){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(r.oFeatures.bFilter)if(n!==undefined&&null!==n||(n=!1),i!==undefined&&null!==i||(i=!0),a!==undefined&&null!==a||(a=!0),o!==undefined&&null!==o||(o=!0),e===undefined||null===e){if(_fnFilterComplete(r,{sSearch:t+"",bRegex:n,bSmart:i,bCaseInsensitive:o},1),a&&r.aanFeatures.f)for(var s=r.aanFeatures.f,l=0,c=s.length;l<c;l++)try{s[l]._DT_Input!=document.activeElement&&$(s[l]._DT_Input).val(t)}catch(d){$(s[l]._DT_Input).val(t)}}else $.extend(r.aoPreSearchCols[e],{sSearch:t+"",bRegex:n,bSmart:i,bCaseInsensitive:o}),_fnFilterComplete(r,r.oPreviousSearch,1)},this.fnGetData=function(t,e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(t===undefined)return _fnGetDataMaster(n);var i=t;if("object"==typeof t){var a=t.nodeName.toLowerCase();"tr"===a?i=_fnNodeToDataIndex(n,t):"td"===a&&(e=_fnNodeToColumnIndex(n,i=_fnNodeToDataIndex(n,t.parentNode),t))}return e!==undefined?_fnGetCellData(n,i,e,""):n.aoData[i]!==undefined?n.aoData[i]._aData:null},this.fnGetNodes=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return t!==undefined?e.aoData[t]!==undefined?e.aoData[t].nTr:null:_fnGetTrNodes(e)},this.fnGetPosition=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=t.nodeName.toUpperCase();if("TR"==n)return _fnNodeToDataIndex(e,t);if("TD"!=n&&"TH"!=n)return null;var i=_fnNodeToDataIndex(e,t.parentNode),a=_fnNodeToColumnIndex(e,i,t);return[i,_fnColumnIndexToVisible(e,a),a]},this.fnIsOpen=function(t){for(var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=(e.aoOpenRows,0);n<e.aoOpenRows.length;n++)if(e.aoOpenRows[n].nParent==t)return!0;return!1},this.fnOpen=function(t,e,n){var i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),a=_fnGetTrNodes(i);if(-1!==$.inArray(t,a)){this.fnClose(t);var o=document.createElement("tr"),r=document.createElement("td");o.appendChild(r),r.className=n,r.colSpan=_fnVisbleColumns(i),"string"==typeof e?r.innerHTML=e:$(r).html(e);var s=$("tr",i.nTBody);return-1!=$.inArray(t,s)&&$(o).insertAfter(t),i.aoOpenRows.push({nTr:o,nParent:t}),o}},this.fnPageChange=function(t,e){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,t),_fnCalculateEnd(n),(e===undefined||e)&&_fnDraw(n)},this.fnSetColumnVis=function(t,e,n){var i,a,o,r,s,l=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=l.aoColumns,d=l.aoData;if(c[t].bVisible!=e){if(e){var u=0;for(i=0;i<t;i++)c[i].bVisible&&u++;if(!(r=u>=_fnVisbleColumns(l)))for(i=t;i<c.length;i++)if(c[i].bVisible){s=i;break}for(i=0,a=d.length;i<a;i++)null!==d[i].nTr&&(r?d[i].nTr.appendChild(d[i]._anHidden[t]):d[i].nTr.insertBefore(d[i]._anHidden[t],_fnGetTdNodes(l,i)[s]))}else for(i=0,a=d.length;i<a;i++)null!==d[i].nTr&&(o=_fnGetTdNodes(l,i)[t],(d[i]._anHidden[t]=o).parentNode.removeChild(o));for(c[t].bVisible=e,_fnDrawHead(l,l.aoHeader),l.nTFoot&&_fnDrawHead(l,l.aoFooter),i=0,a=l.aoOpenRows.length;i<a;i++)l.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(l);(n===undefined||n)&&(_fnAdjustColumnSizing(l),_fnDraw(l)),_fnSaveState(l)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(t){var e=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e.aaSorting=t,_fnSort(e)},this.fnSortListener=function(t,e,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),t,e,n)},this.fnUpdate=function(t,e,n,i,a){var o,r,s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),l="object"==typeof e?_fnNodeToDataIndex(s,e):e;if($.isArray(t)&&n===undefined)for(s.aoData[l]._aData=t.slice(),o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,l,o),l,o,!1,!1);else if($.isPlainObject(t)&&n===undefined)for(s.aoData[l]._aData=$.extend(!0,{},t),o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,l,o),l,o,!1,!1);else{_fnSetCellData(s,l,n,t),r=_fnGetCellData(s,l,n,"display");var c=s.aoColumns[n];null!==c.fnRender&&(r=_fnRender(s,l,n),c.bUseRendered&&_fnSetCellData(s,l,n,r)),null!==s.aoData[l].nTr&&(_fnGetTdNodes(s,l)[n].innerHTML=r)}var d=$.inArray(l,s.aiDisplay);return s.asDataSearch[d]=_fnBuildSearchRow(s,_fnGetRowData(s,l,"filter",_fnGetColumns(s,"bSearchable"))),(a===undefined||a)&&_fnAdjustColumnSizing(s),(i===undefined||i)&&_fnReDraw(s),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi),DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var t,e,n,i=0,a=this.getAttribute("id"),o=!1,r=!1;if("table"==this.nodeName.toLowerCase()){for(i=0,t=DataTable.settings.length;i<t;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}return void _fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}null!==a&&""!==a||(a="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=a);var s=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:a,sTableId:a});if(DataTable.settings.push(s),s.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(s.oFeatures,oInit,"bPaginate"),_fnMap(s.oFeatures,oInit,"bLengthChange"),_fnMap(s.oFeatures,oInit,"bFilter"),_fnMap(s.oFeatures,oInit,"bSort"),_fnMap(s.oFeatures,oInit,"bInfo"),_fnMap(s.oFeatures,oInit,"bProcessing"),_fnMap(s.oFeatures,oInit,"bAutoWidth"),_fnMap(s.oFeatures,oInit,"bSortClasses"),_fnMap(s.oFeatures,oInit,"bServerSide"),_fnMap(s.oFeatures,oInit,"bDeferRender"),_fnMap(s.oScroll,oInit,"sScrollX","sX"),_fnMap(s.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(s.oScroll,oInit,"sScrollY","sY"),_fnMap(s.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(s.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(s.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(s.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(s,oInit,"asStripeClasses"),_fnMap(s,oInit,"asStripClasses","asStripeClasses"),_fnMap(s,oInit,"fnServerData"),_fnMap(s,oInit,"fnFormatNumber"),_fnMap(s,oInit,"sServerMethod"),_fnMap(s,oInit,"aaSorting"),_fnMap(s,oInit,"aaSortingFixed"),_fnMap(s,oInit,"aLengthMenu"),_fnMap(s,oInit,"sPaginationType"),_fnMap(s,oInit,"sAjaxSource"),_fnMap(s,oInit,"sAjaxDataProp"),_fnMap(s,oInit,"iCookieDuration"),_fnMap(s,oInit,"sCookiePrefix"),_fnMap(s,oInit,"sDom"),_fnMap(s,oInit,"bSortCellsTop"),_fnMap(s,oInit,"iTabIndex"),_fnMap(s,oInit,"oSearch","oPreviousSearch"),_fnMap(s,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(s,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(s,oInit,"bJQueryUI","bJUI"),_fnMap(s,oInit,"fnCookieCallback"),_fnMap(s,oInit,"fnStateLoad"),_fnMap(s,oInit,"fnStateSave"),_fnMap(s.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(s,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(s,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(s,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(s,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(s,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(s,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(s,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(s,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(s,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(s,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(s,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),s.oFeatures.bServerSide&&s.oFeatures.bSort&&s.oFeatures.bSortClasses?_fnCallbackReg(s,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):s.oFeatures.bDeferRender&&_fnCallbackReg(s,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(s.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(s.sDom='<"H"lfr>t<"F"ip>')):$.extend(s.oClasses,DataTable.ext.oStdClasses),$(this).addClass(s.oClasses.sTable),""===s.oScroll.sX&&""===s.oScroll.sY||(s.oScroll.iBarWidth=_fnScrollBarWidth()),s.iInitDisplayStart===undefined&&(s.iInitDisplayStart=oInit.iDisplayStart,s._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(s.oFeatures.bStateSave=!0,_fnLoadState(s,oInit),_fnCallbackReg(s,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading){s.bDeferLoading=!0;var l=$.isArray(oInit.iDeferLoading);s._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading,s._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(null!==oInit.aaData&&(r=!0),""!==oInit.oLanguage.sUrl?(s.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(s.oLanguage.sUrl,null,function(t){_fnLanguageCompat(t),$.extend(!0,s.oLanguage,oInit.oLanguage,t
),_fnInitialise(s)}),o=!0):$.extend(!0,s.oLanguage,oInit.oLanguage),null===oInit.asStripeClasses&&(s.asStripeClasses=[s.oClasses.sStripeOdd,s.oClasses.sStripeEven]),t=s.asStripeClasses.length,s.asDestroyStripes=[],t){var c=!1,d=$(this).children("tbody").children("tr:lt("+t+")");for(i=0;i<t;i++)d.hasClass(s.asStripeClasses[i])&&(c=!0,s.asDestroyStripes.push(s.asStripeClasses[i]));c&&d.removeClass(s.asStripeClasses.join(" "))}var u,h=[],f=this.getElementsByTagName("thead");if(0!==f.length&&(_fnDetectHeader(s.aoHeader,f[0]),h=_fnGetUniqueThs(s)),null===oInit.aoColumns)for(u=[],i=0,t=h.length;i<t;i++)u.push(null);else u=oInit.aoColumns;for(i=0,t=u.length;i<t;i++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==t&&(null===u[i]&&(u[i]={}),u[i].bVisible=oInit.saved_aoColumns[i].bVisible),_fnAddColumn(s,h?h[i]:null);for(_fnApplyColumnDefs(s,oInit.aoColumnDefs,u,function(t,e){_fnColumnOptions(s,t,e)}),i=0,t=s.aaSorting.length;i<t;i++){s.aaSorting[i][0]>=s.aoColumns.length&&(s.aaSorting[i][0]=0);var p=s.aoColumns[s.aaSorting[i][0]];for(s.aaSorting[i][2]===undefined&&(s.aaSorting[i][2]=0),oInit.aaSorting===undefined&&s.saved_aaSorting===undefined&&(s.aaSorting[i][1]=p.asSorting[0]),e=0,n=p.asSorting.length;e<n;e++)if(s.aaSorting[i][1]==p.asSorting[e]){s.aaSorting[i][2]=e;break}}_fnSortingClasses(s),_fnBrowserDetect(s);var g=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),m=$(this).children("thead");0===m.length&&(m=[document.createElement("thead")],this.appendChild(m[0])),s.nTHead=m[0];var y=$(this).children("tbody");0===y.length&&(y=[document.createElement("tbody")],this.appendChild(y[0])),s.nTBody=y[0],s.nTBody.setAttribute("role","alert"),s.nTBody.setAttribute("aria-live","polite"),s.nTBody.setAttribute("aria-relevant","all");var v=$(this).children("tfoot");if(0===v.length&&0<g.length&&(""!==s.oScroll.sX||""!==s.oScroll.sY)&&(v=[document.createElement("tfoot")],this.appendChild(v[0])),0<v.length&&(s.nTFoot=v[0],_fnDetectHeader(s.aoFooter,s.nTFoot)),r)for(i=0;i<oInit.aaData.length;i++)_fnAddData(s,oInit.aaData[i]);else _fnGatherData(s);s.aiDisplay=s.aiDisplayMaster.slice(),!(s.bInitialised=!0)===o&&_fnInitialise(s)}else _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}),_that=null,this};DataTable.fnVersionCheck=function(t){for(var e=function(t,e){for(;t.length<e;)t+="0";return t},n=DataTable.ext.sVersion.split("."),i=t.split("."),a="",o="",r=0,s=i.length;r<s;r++)a+=e(n[r],3),o+=e(i[r],3);return parseInt(a,10)>=parseInt(o,10)},DataTable.fnIsDataTable=function(t){for(var e=DataTable.settings,n=0;n<e.length;n++)if(e[n].nTable===t||e[n].nScrollHead===t||e[n].nScrollFoot===t)return!0;return!1},DataTable.fnTables=function(n){var i=[];return jQuery.each(DataTable.settings,function(t,e){(!n||!0===n&&$(e.nTable).is(":visible"))&&i.push(e.nTable)}),i},DataTable.version="1.9.4",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){if(t<1e3)return t;for(var e=t+"",n=e.split(""),i="",a=e.length,o=0;o<a;o++)o%3==0&&0!==o&&(i=this.oLanguage.sInfoThousands+i),i=n[a-o-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(t,e,n,i){i.jqXHR=$.ajax({url:t,data:e,success:function(t){t.sError&&i.oApi._fnLog(i,0,t.sError),$(i.oInstance).trigger("xhr",[i,t]),n(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e){"parsererror"==e&&i.oApi._fnLog(i,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(t,e){this.oApi._fnCreateCookie(t.sCookiePrefix+t.sInstance,this.oApi._fnJsonString(e),t.iCookieDuration,t.sCookiePrefix,t.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=(e.oClasses,function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)}),o=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+i.sNext+"</a>";$(t).append(o);var r=$("a",t),s=r[0],l=r[1];e.oApi._fnBindAction(s,{action:"previous"},a),e.oApi._fnBindAction(l,{action:"next"},a),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",s.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",s.setAttribute("aria-controls",e.sTableId),l.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(t){if(t.aanFeatures.p)for(var e,n=t.oClasses,i=t.aanFeatures.p,a=0,o=i.length;a<o;a++)(e=i[a].firstChild)&&(e.className=0===t._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,(e=e.nextSibling).className=t.fnDisplayEnd()==t.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=e.oClasses,o=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageFirst+'">'+i.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPagePrevious+'">'+i.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageNext+'">'+i.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+a.sPageButton+" "+a.sPageLast+'">'+i.sLast+"</a>");var r=$("a",t),s=r[0],l=r[1],c=r[2],d=r[3];e.oApi._fnBindAction(s,{action:"first"},o),e.oApi._fnBindAction(l,{action:"previous"},o),e.oApi._fnBindAction(c,{action:"next"},o),e.oApi._fnBindAction(d,{action:"last"},o),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",s.id=e.sTableId+"_first",l.id=e.sTableId+"_previous",c.id=e.sTableId+"_next",d.id=e.sTableId+"_last")},fnUpdate:function(e,n){if(e.aanFeatures.p){var i,t,a,o,r,s,l,c=DataTable.ext.oPagination.iFullNumbersShowPages,d=Math.floor(c/2),u=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),h=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,f="",p=e.oClasses,g=e.aanFeatures.p,m=function(t){e.oApi._fnBindAction(this,{page:t+i-1},function(t){e.oApi._fnPageChange(e,t.data.page),n(e),t.preventDefault()})};for(-1===e._iDisplayLength?h=t=i=1:u<c?(i=1,t=u):h<=d?(i=1,t=c):u-d<=h?(i=u-c+1,t=u):t=(i=h-Math.ceil(c/2)+1)+c-1,a=i;a<=t;a++)f+=h!==a?'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButton+'">'+e.fnFormatNumber(a)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButtonActive+'">'+e.fnFormatNumber(a)+"</a>";for(a=0,o=g.length;a<o;a++)(l=g[a]).hasChildNodes()&&($("span:eq(0)",l).html(f).children("a").each(m),s=[(r=l.getElementsByTagName("a"))[0],r[1],r[r.length-2],r[r.length-1]],$(s).removeClass(p.sPageButton+" "+p.sPageButtonActive+" "+p.sPageButtonStaticDisabled),$([s[0],s[1]]).addClass(1==h?p.sPageButtonStaticDisabled:p.sPageButton),$([s[2],s[3]]).addClass(0===u||h===u||-1===e._iDisplayLength?p.sPageButtonStaticDisabled:p.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(t){return"string"!=typeof t&&(t=null!==t&&t.toString?t.toString():""),t.toLowerCase()},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0},"html-pre":function(t){return t.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(t,e){return t<e?-1:e<t?1:0},"html-desc":function(t,e){return t<e?1:e<t?-1:0},"date-pre":function(t){var e=Date.parse(t);return(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(t,e){return t-e},"date-desc":function(t,e){return e-t},"numeric-pre":function(t){return"-"==t||""===t?0:1*t},"numeric-asc":function(t,e){return t-e},"numeric-desc":function(t,e){return e-t}}),$.extend(DataTable.ext.aTypes,[function(t){if("number"==typeof t)return"numeric";if("string"!=typeof t)return null;var e,n="0123456789-",i="0123456789.",a=!1;if(e=t.charAt(0),-1==n.indexOf(e))return null;for(var o=1;o<t.length;o++){if(e=t.charAt(o),-1==i.indexOf(e))return null;if("."==e){if(a)return null;a=!0}}return"numeric"},function(t){var e=Date.parse(t);return null!==e&&!isNaN(e)||"string"==typeof t&&0===t.length?"date":null},function(t){return"string"==typeof t&&-1!=t.indexOf("<")&&-1!=t.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext})}(window,document),function(g,t,n){var i=function(t,e){!this instanceof i?alert("Scroller warning: Scroller must be initialised with the 'new' keyword."):(void 0===e&&(e={}),this.s={dt:t,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,rowHeight:null,autoHeight:!0,viewportHeight:0,viewportRows:0,stateTO:null,drawTO:null},this.s=g.extend(this.s,i.oDefaults,e),this.dom={force:n.createElement("div"),scroller:null,table:null},(this.s.dt.oScroller=this)._fnConstruct())};i.prototype={fnRowToPixels:function(t){return t*this.s.rowHeight},fnPixelsToRow:function(t){return parseInt(t/this.s.rowHeight,10)},fnScrollToRow:function(t,e){var n=this.fnRowToPixels(t);void 0===e||e?g(this.dom.scroller).animate({scrollTop:n}):g(this.dom.scroller).scrollTop(n)},fnMeasure:function(t){this.s.autoHeight&&this._fnCalcRowHeight(),this.s.viewportHeight=g(this.dom.scroller).height(),this.s.viewportRows=parseInt(this.s.viewportHeight/this.s.rowHeight,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer,this.s.trace&&console.log("Row height: "+this.s.rowHeight+" Viewport height: "+this.s.viewportHeight+" Viewport rows: "+this.s.viewportRows+" Display rows: "+this.s.dt._iDisplayLength),(void 0===t||t)&&this.s.dt.oInstance.fnDraw()},_fnConstruct:function(){var n=this;this.dom.force.style.position="absolute",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=g("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=g(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",g(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&g(this.dom.scroller.parentNode).css("position","relative").append('<div class="DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>"),this.s.rowHeight&&"auto"!=this.s.rowHeight&&(this.s.autoHeight=!1),this.fnMeasure(!1),g(this.dom.scroller).scroll(function(){n._fnScroll.call(n)}),g(this.dom.scroller).bind("touchstart",function(){n._fnScroll.call(n)}),this.s.dt.aoDrawCallback.push({fn:function(){n.s.dt.bInitialised&&n._fnDrawCallback.call(n)},sName:"Scroller"}),this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){e.iScroller=n.dom.scroller.scrollTop},"Scroller_State")},_fnScroll:function(){var t,e=this,n=this.dom.scroller.scrollTop;if(!this.s.dt.bFiltered&&!this.s.dt.bSorted&&(this.s.trace&&console.log("Scroll: "+n+"px - boundaries: "+this.s.redrawTop+" / "+this.s.redrawBottom+".  Showing rows "+this.fnPixelsToRow(n)+" to "+this.fnPixelsToRow(n+g(this.dom.scroller).height())+" in the viewport, with rows "+this.s.dt._iDisplayStart+" to "+this.s.dt._iDisplayEnd+" rendered by the DataTable"),this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){e.s.dt.oApi._fnSaveState(e.s.dt)},250),n<this.s.redrawTop||n>this.s.redrawBottom)){var i=(this.s.displayBuffer-1)/2*this.s.viewportRows;(t=parseInt(n/this.s.rowHeight,10)-i)<0?t=0:t+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?(t=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)<0&&(t=0):t%2!=0&&t++,t!=this.s.dt._iDisplayStart&&(this.s.tableTop=g(this.s.dt.nTable).offset().top,this.s.tableBottom=g(this.s.dt.nTable).height()+this.s.tableTop,this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(function(){e.s.dt._iDisplayStart=t,e.s.dt.oApi._fnCalculateEnd(e.s.dt),e.s.dt.oApi._fnDraw(e.s.dt)},this.s.serverWait)):(this.s.dt._iDisplayStart=t,this.s.dt.oApi._fnCalculateEnd(this.s.dt),this.s.dt.oApi._fnDraw(this.s.dt)),this.s.trace&&console.log("Scroll forcing redraw - top DT render row: "+t))}},_fnDrawCallback:function(){var t=this,e=this.dom.scroller.scrollTop,n=e+this.s.viewportHeight;this.dom.force.style.height=this.s.rowHeight*this.s.dt.fnRecordsDisplay()+"px";var i=this.s.rowHeight*this.s.dt._iDisplayStart;0===this.s.dt._iDisplayStart?i=0:this.s.dt._iDisplayStart===this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength&&(i=this.s.rowHeight*this.s.dt._iDisplayStart),this.dom.table.style.top=i+"px",this.s.tableTop=i,this.s.tableBottom=g(this.s.dt.nTable).height()+this.s.tableTop,this.s.redrawTop=e-(e-this.s.tableTop)*this.s.boundaryScale,this.s.redrawBottom=e+(this.s.tableBottom-n)*this.s.boundaryScale,this.s.trace&&console.log("Table redraw. Table top: "+i+"px Table bottom: "+this.s.tableBottom+" Scroll boundary top: "+this.s.redrawTop+" Scroll boundary bottom: "+this.s.redrawBottom+" Rows drawn: "+this.s.dt._iDisplayLength),setTimeout(function(){t._fnInfo.call(t)},0),this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.iScroller&&(null!==this.s.dt.sAjaxSource&&2==this.s.dt.iDraw||null===this.s.dt.sAjaxSource&&1==this.s.dt.iDraw)&&setTimeout(function(){g(t.dom.scroller).scrollTop(t.s.dt.oLoadedState.iScroller),t.s.redrawTop=t.s.dt.oLoadedState.iScroller-t.s.viewportHeight/2},0)},_fnCalcRowHeight:function(){var t=this.s.dt.nTable.cloneNode(!1),e=g('<div class="'+this.s.dt.oClasses.sWrapper+' DTS"><div class="'+this.s.dt.oClasses.sScrollWrapper+'"><div class="'+this.s.dt.oClasses.sScrollBody+'"></div></div></div>')[0];g(t).append("<tbody><tr><td>&nbsp;</td></tr></tbody>"),g("div."+this.s.dt.oClasses.sScrollBody,e).append(t),n.body.appendChild(e),this.s.rowHeight=g("tbody tr",t).outerHeight(),n.body.removeChild(e)},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var t,e=this.s.dt,n=this.dom.scroller.scrollTop,i=this.fnPixelsToRow(n)+1,a=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),r=this.fnPixelsToRow(n+g(this.dom.scroller).height()),s=o<r?o:r,l=e.fnFormatNumber(i),c=e.fnFormatNumber(s),d=e.fnFormatNumber(a),u=e.fnFormatNumber(o);t=0===e.fnRecordsDisplay()&&e.fnRecordsDisplay()==e.fnRecordsTotal()?e.oLanguage.sInfoEmpty+e.oLanguage.sInfoPostFix:0===e.fnRecordsDisplay()?e.oLanguage.sInfoEmpty+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",d)+e.oLanguage.sInfoPostFix:e.fnRecordsDisplay()==e.fnRecordsTotal()?e.oLanguage.sInfo.replace("_START_",l).replace("_END_",c).replace("_TOTAL_",u)+e.oLanguage.sInfoPostFix:e.oLanguage.sInfo.replace("_START_",l).replace("_END_",c).replace("_TOTAL_",u)+" "+e.oLanguage.sInfoFiltered.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()))+e.oLanguage.sInfoPostFix;var h=e.aanFeatures.i;if(void 0!==h)for(var f=0,p=h.length;f<p;f++)g(h[f]).html(t)}}},i.oDefaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},i.prototype.CLASS="Scroller",i.VERSION="1.1.0",i.prototype.VERSION=i.VERSION,"function"==typeof g.fn.dataTable&&"function"==typeof g.fn.dataTableExt.fnVersionCheck&&g.fn.dataTableExt.fnVersionCheck("1.9.0")?g.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e="undefined"==typeof t.oInit.oScroller?{}:t.oInit.oScroller;return new i(t,e).dom.wrapper},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download"),g.fn.dataTable.Scroller=i}(jQuery,window,document),function(n){n.fn.equalHeights=function(){var e=0,t=n(this);return t.each(function(){var t=n(this).innerHeight();e<t&&(e=t)}),t.css("height",e)},n("[data-equal]").each(function(){var t=n(this),e=t.data("equal");t.find(e).equalHeights()})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,a){return jQuery.easing[jQuery.easing.def](t,e,n,i,a)},easeInQuad:function(t,e,n,i,a){return i*(e/=a)*e+n},easeOutQuad:function(t,e,n,i,a){return-i*(e/=a)*(e-2)+n},easeInOutQuad:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,a){return i*(e/=a)*e*e+n},easeOutCubic:function(t,e,n,i,a){return i*((e=e/a-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,a){return i*(e/=a)*e*e*e+n},easeOutQuart:function(t,e,n,i,a){return-i*((e=e/a-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,a){return i*(e/=a)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,a){return i*((e=e/a-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,a){return-i*Math.cos(e/a*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,a){return i*Math.sin(e/a*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,a){return-i/2*(Math.cos(Math.PI*e/a)-1)+n},easeInExpo:function(t,e,n,i,a){return 0==e?n:i*Math.pow(2,10*(e/a-1))+n},easeOutExpo:function(t,e,n,i,a){return e==a?n+i:i*(1-Math.pow(2,-10*e/a))+n},easeInOutExpo:function(t,e,n,i,a){return 0==e?n:e==a?n+i:(e/=a/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,a){return-i*(Math.sqrt(1-(e/=a)*e)-1)+n},easeOutCirc:function(t,e,n,i,a){return i*Math.sqrt(1-(e=e/a-1)*e)+n},easeInOutCirc:function(t,e,n,i,a){return(e/=a/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,a){var o=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=a))return n+i;if(r||(r=.3*a),s<Math.abs(i)){s=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r)+n},easeOutElastic:function(t,e,n,i,a){var o=1.70158,r=0,s=i;if(0==e)return n;if(1==(e/=a))return n+i;if(r||(r=.3*a),s<Math.abs(i)){s=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*e)*Math.sin((e*a-o)*(2*Math.PI)/r)+i+n},easeInOutElastic:function(t,e,n,i,a){var o=1.70158,r=0,s=i;if(0==e)return n;if(2==(e/=a/2))return n+i;if(r||(r=a*(.3*1.5)),s<Math.abs(i)){s=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r)*-.5+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*a-o)*(2*Math.PI)/r)*.5+i+n},easeInBack:function(t,e,n,i,a,o){return o==undefined&&(o=1.70158),i*(e/=a)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,a,o){return o==undefined&&(o=1.70158),i*((e=e/a-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,a,o){return o==undefined&&(o=1.70158),(e/=a/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+n:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,i,a){return i-jQuery.easing.easeOutBounce(t,a-e,0,i,a)+n},easeOutBounce:function(t,e,n,i,a){return(e/=a)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,a){return e<a/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,a)+n:.5*jQuery.easing.easeOutBounce(t,2*e-a,0,i,a)+.5*i+n}}),function(l){function c(t,e){this.$element=l(t),this.options=e,this.enabled=!0,this.fixTitle()}c.prototype={show:function(){var t=this.getTitle();if(t&&this.enabled){var e=this.tip();e.find(".tipsy-inner")[this.options.html?"html":"text"](t),e[0].className="tipsy",e.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var n,i=l.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),a=e[0].offsetWidth,o=e[0].offsetHeight,r="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity;switch(r.charAt(0)){case"n":n={top:i.top+i.height+this.options.offset,left:i.left+i.width/2-a/2};break;case"s":n={top:i.top-o-this.options.offset,left:i.left+i.width/2-a/2};break;case"e":n={top:i.top+i.height/2-o/2,left:i.left-a-this.options.offset};break;case"w":n={top:i.top+i.height/2-o/2,left:i.left+i.width+this.options.offset}}2==r.length&&("w"==r.charAt(1)?n.left=i.left+i.width/2-15:n.left=i.left+i.width/2-a+15),e.css(n).addClass("tipsy-"+r),this.options.fade?e.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):e.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){l(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,n=this.options;return this.fixTitle(),"string"==typeof(n=this.options).title?t=e.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(t=n.title.call(e[0])),(t=(""+t).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=l('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},l.fn.tipsy=function(n){function e(t){var e=l.data(t,"tipsy");return e||(e=new c(t,l.fn.tipsy.elementOptions(t,n)),l.data(t,"tipsy",e)),e}function t(){var t=e(this);t.hoverState="in",0==n.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},n.delayIn))}function i(){var t=e(this);t.hoverState="out",0==n.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},n.delayOut)}if(!0===n)return this.data("tipsy");if("string"==typeof n){var a=this.data("tipsy");return a&&a[n](),this}if((n=l.extend({},l.fn.tipsy.defaults,n)).live||this.each(function(){e(this)}),"manual"!=n.trigger){var o=n.live?"live":"bind",r="hover"==n.trigger?"mouseleave":"blur",s="hover"==n.trigger?"mouseenter":"focus";this[o](s,t)[o](r,i)}return this},l.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:1,title:"title",trigger:"hover"},l.fn.tipsy.elementOptions=function(t,e){return l.metadata?l.extend({},e,l(t).metadata()):e},l.fn.tipsy.autoNS=function(){return l(this).offset().top>l(document).scrollTop()+l(window).height()/2?"s":"n"},l.fn.tipsy.autoWE=function(){return l(this).offset().left>l(document).scrollLeft()+l(window).width()/2?"e":"w"}}(jQuery),function(c){function a(t,e,n){var i,a,o,r=0;0<(i=e[0].data.max(function(t){return t[1]})).length&&(r=Math.ceil(i[0][1])),a=Math.max(1,Math.floor(r/2)),o=-Math.ceil(r/10);var s={},l={chart:{renderTo:t.target.find(".line").get(0),defaultSeriesType:"line"},yAxis:{tickInterval:a,startOnTick:!1,gridLineWidth:0,min:o},tooltip:{formatter:function(){var t=c.humanized_time(Math.round(60*this.y));return d(this.x,this.series.name+":</b> "+t)}},series:e};null!=n&&(s={chart:{height:n[0],width:n[1]}}),new Highcharts.Chart(c.extend(!0,{},u,l,s))}function o(t,e,n){var i={},a={chart:{marginBottom:32,renderTo:t.target.find(".bar").get(0),defaultSeriesType:"column"},xAxis:{type:"datetime",tickInterval:864e5,dateTimeLabelFormats:{day:"%e"},gridLineWidth:1,offset:12,gridLineColor:"#eee"},yAxis:{offset:30,allowDecimals:!1,gridLineWidth:1,gridLineColor:"#eee",min:0},tooltip:{borderRadius:2,formatter:function(){return d(this.x,this.series.name+": "+this.y)}},plotOptions:{series:{pointWidth:20,borderWidth:0,shadow:!1,stacking:"normal"}},series:e};null!=n&&(i={chart:{height:n[0],width:n[1]}}),new Highcharts.Chart(c.extend(!0,{},u,a,i))}function d(t,e){return"<b>"+n(t)+"</b><br/><br/>"+e}function n(t){var e=new Date(t);return str="ja"==i?e.getFullYear()+"\u5e74 "+(e.getMonth()+1)+"\u6708 "+e.getDate()+"\u65e5":e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate(),str}var u={chart:{marginTop:10,marginRight:0,marginBottom:0,backgroundColor:null},yAxis:{showFirstLabel:!1,startOnTick:!1,offset:30,title:{text:null}},xAxis:{lineWidth:0,tickWidth:0},credits:{enabled:!1},title:{text:null},plotOptions:{series:{animation:!1}},legend:{enabled:!1},colors:["#ccc"],tooltip:{borderRadius:2}},i=c("html").attr("lang");c.plot=function(t,e,n,i){"time"==t?a(e,n,i):o(e,n,i)}}(jQuery),function(w){function C(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function _(t,e){var n=parseInt(t.css(e),10);if(n)return n;var i=t[0].currentStyle;return i&&i.width&&parseInt(i.width,10)}function S(t){var e=t.data("events");return e&&e.onSlide}function a(s,l){function i(t,e,n,i){if(n===undefined?n=e/u*g:i&&(n-=l.min),m&&(
n=Math.round(n/m)*m),(e===undefined||m)&&(e=n*u/g),isNaN(n))return h;e=Math.max(m/g*u,Math.min(e,u)),n=e/u*g,!i&&c||(n+=l.min),c&&(i?e=u-e:n=l.max-n),n=C(n,y);var a="click"==t.type;if(b&&d!==undefined&&!a&&(t.type="onSlide",v.trigger(t,[n,e]),t.isDefaultPrevented()))return h;var o=a?l.speed:0,r=a?function(){t.type="change",v.trigger(t,[n])}:null;return c?(f.animate({top:e},o,r),l.progress&&p.animate({height:u-e+f.width()/2},o)):(f.animate({left:e},o,r),l.progress&&p.animate({width:e+f.width()/2},o)),d=n,e,s.val(n),h}function n(){(c=l.vertical||_(o,"height")>_(o,"width"))?(u=_(o,"height")-_(f,"height"),a=o.offset().top+u):(u=_(o,"width")-_(f,"width"),a=o.offset().left)}function t(){n(),h.setValue(l.value!==undefined?l.value:l.min)}var c,d,a,u,h=this,e=l.css,o=w("<div><div/><a href='#'/></div>").data("rangeinput",h);s.before(o);var f=o.addClass(e.slider).find("a").addClass(e.handle),p=o.find("div").addClass(e.progress);w.each("min,max,step,value".split(","),function(t,e){var n=s.attr(e);parseFloat(n)&&(l[e]=parseFloat(n,10))});var g=l.max-l.min,m="any"==l.step?0:l.step,y=l.precision;if(y===undefined)try{y=m.toString().split(".")[1].length}catch(x){y=0}if("range"==s.attr("type")){var r=w("<input/>");w.each("class,disabled,id,maxlength,name,readonly,required,size,style,tabindex,title,value".split(","),function(t,e){r.attr(e,s.attr(e))}),r.val(l.value),s.replaceWith(r),s=r}s.addClass(e.input),s.addClass("hidden");var v=w(h).add(s),b=!0;w.extend(h,{getValue:function(){return d},setValue:function(t,e){return n(),i(e||w.Event("api"),undefined,t,!0)},getConf:function(){return l},getProgress:function(){return p},getHandle:function(){return f},getInput:function(){return s},step:function(t,e){e=e||w.Event();var n="any"==l.step?1:l.step;h.setValue(d+n*(t||1),e)},stepUp:function(t){return h.step(t||1)},stepDown:function(t){return h.step(-t||-1)}}),w.each("onSlide,change".split(","),function(t,e){w.isFunction(l[e])&&w(h).bind(e,l[e]),h[e]=function(t){return t&&w(h).bind(e,t),h}}),f.drag({drag:!1}).bind("dragStart",function(){n(),b=S(w(h))||S(s)}).bind("drag",function(t,e,n){if(s.is(":disabled"))return!1;i(t,c?e:n)}).bind("dragEnd",function(t){t.isDefaultPrevented()||(t.type="change",v.trigger(t,[d]))}).click(function(t){return t.preventDefault()}),o.click(function(t){if(s.is(":disabled")||t.target==f[0])return t.preventDefault();n();var e=f.width()/2;i(t,c?u-a-e+t.pageY:t.pageX-a-e)}),l.keyboard&&s.keydown(function(t){if(!s.attr("readonly")){var e=t.keyCode,n=-1!=w([75,76,38,33,39]).index(e),i=-1!=w([74,72,40,34,37]).index(e);return!n&&!i||t.shiftKey||t.altKey||t.ctrlKey?void 0:(n?h.step(33==e?10:1,t):i&&h.step(34==e?-10:-1,t),t.preventDefault())}}),s.blur(function(t){var e=w(this).val();e!==d&&h.setValue(e,t)}),w.extend(s[0],{stepUp:h.stepUp,stepDown:h.stepDown}),t(),u||w(window).load(t)}var t,n,c;w.tools=w.tools||{version:"1.2.5"},t=w.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}},w.fn.drag=function(l){return document.ondragstart=function(){return!1},l=w.extend({x:!0,y:!0,drag:!0},l),n=n||w(document).bind("mousedown mouseup",function(t){var a=w(t.target);if("mousedown"==t.type&&a.data("drag")){var e=a.position(),o=t.pageX-e.left,r=t.pageY-e.top,s=!0;n.bind("mousemove.drag",function(t){var e=t.pageX-o,n=t.pageY-r,i={};l.x&&(i.left=e),l.y&&(i.top=n),s&&(a.trigger("dragStart"),s=!1),l.drag&&a.css(i),a.trigger("drag",[n,e]),c=a}),t.preventDefault()}else try{c&&c.trigger("dragEnd")}finally{n.unbind("mousemove.drag"),c=null}}),this.data("drag",!0)},w.expr[":"].range=function(t){var e=t.getAttribute("type");return e&&"range"==e||!!w(t).filter("input").data("rangeinput")},w.fn.rangeinput=function(n){return this.data("rangeinput")?this:(n=w.extend(!0,{},t.conf,n),this.each(function(){var t=new a(w(this),w.extend(!0,{},n)),e=t.getInput().data("rangeinput",t);i=i?i.add(e):e}),i||this);var i}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(s){function n(t){return s.isFunction(t)||"object"==typeof t?t:{top:t,left:t}}var y=s.scrollTo=function(t,e,n){return s(window).scrollTo(t,e,n)};return y.defaults={axis:"xy",duration:1.3<=parseFloat(s.fn.jquery)?0:1,limit:!0},y.window=function(){return s(window)._scrollable()},s.fn._scrollable=function(){return this.map(function(){var t=this;if(!(!t.nodeName||-1!=s.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])))return t;var e=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==e.compatMode?e.body:e.documentElement})},s.fn.scrollTo=function(t,e,m){return"object"==typeof e&&(m=e,e=0),"function"==typeof m&&(m={onAfter:m}),"max"==t&&(t=9e9),m=s.extend({},y.defaults,m),e=e||m.duration,m.queue=m.queue&&1<m.axis.length,m.queue&&(e/=2),m.offset=n(m.offset),m.over=n(m.over),this._scrollable().each(function(){function l(t){u.animate(f,e,m.easing,t&&function(){t.call(this,h,m)})}if(null!=t){var c,d=this,u=s(d),h=t,f={},p=u.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=n(h);break}if(!(h=p?s(h):s(h,this)).length)return;case"object":(h.is||h.style)&&(c=(h=s(h)).offset())}var g=s.isFunction(m.offset)&&m.offset(d,h)||m.offset;s.each(m.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",i=n.toLowerCase(),a="scroll"+n,o=d[a],r=y.max(d,e);if(c)f[a]=c[i]+(p?0:o-u.offset()[i]),m.margin&&(f[a]-=parseInt(h.css("margin"+n))||0,f[a]-=parseInt(h.css("border"+n+"Width"))||0),f[a]+=g[i]||0,m.over[i]&&(f[a]+=h["x"==e?"width":"height"]()*m.over[i]);else{var s=h[i];f[a]=s.slice&&"%"==s.slice(-1)?parseFloat(s)/100*r:s}m.limit&&/^\d+$/.test(f[a])&&(f[a]=f[a]<=0?0:Math.min(f[a],r)),!t&&m.queue&&(o!=f[a]&&l(m.onAfterFirst),delete f[a])}),l(m.onAfter)}}).end()},y.max=function(t,e){var n="x"==e?"Width":"Height",i="scroll"+n;if(!s(t).is("html,body"))return t[i]-s(t)[n.toLowerCase()]();var a="client"+n,o=t.ownerDocument.documentElement,r=t.ownerDocument.body;return Math.max(o[i],r[i])-Math.min(o[a],r[a])},y}),function(I){I.isScrollToFixed=function(t){return I(t).data("ScrollToFixed")!==undefined},I.ScrollToFixed=function(t,e){function a(){x.trigger("preUnfixed.ScrollToFixed"),u(),x.trigger("unfixed.ScrollToFixed"),S=-1,w=x.offset().top,C=x.offset().left,m.options.offsets&&(C+=x.offset().left-x.position().left),-1==_&&(_=C),i=x.css("position"),b=!0,-1!=m.options.bottom&&(x.trigger("preFixed.ScrollToFixed"),c(),x.trigger("fixed.ScrollToFixed"))}function o(){var t=m.options.limit;return t?"function"==typeof t?t.apply(x):t:0}function r(){return"fixed"===i}function s(){return"absolute"===i}function l(){return!(r()||s())}function c(){r()||(T.css({display:x.css("display"),width:x.outerWidth(!0),height:x.outerHeight(!0),"float":x.css("float")}),cssOptions={position:"fixed",top:-1==m.options.bottom?f():"",bottom:-1==m.options.bottom?"":m.options.bottom},m.options.dontSetWidth||(cssOptions.width=x.width()),x.css(cssOptions),x.addClass("scroll-to-fixed-fixed"),m.options.className&&x.addClass(m.options.className),i="fixed")}function d(){var t=o();m.options.removeOffsets&&(0,t-=w),cssOptions={position:"absolute",top:t,"margin-left":"0px",bottom:""},m.options.dontSetWidth||(cssOptions.width=x.width()),x.css(cssOptions),i="absolute"}function u(){l()||(S=-1,T.css("display","none"),x.css({width:"",position:y,left:"",top:v.top,"margin-left":""}),x.removeClass("scroll-to-fixed-fixed"),m.options.className&&x.removeClass(m.options.className),i=null)}function h(t){t!=S&&(x.css("left",C-t),S=t)}function f(){var t=m.options.marginTop;return t?"function"==typeof t?t.apply(x):t:0}function n(){if(I.isScrollToFixed(x)){var t=b;b||a();var e=I(window).scrollLeft(),n=I(window).scrollTop(),i=o();m.options.minWidth&&I(window).width()<m.options.minWidth?l()&&t||(g(),x.trigger("preUnfixed.ScrollToFixed"),u(),x.trigger("unfixed.ScrollToFixed")):-1==m.options.bottom?0<i&&n>=i-f()+140?s()&&t||(g(),x.trigger("preAbsolute.ScrollToFixed"),d(),x.trigger("unfixed.ScrollToFixed")):n>=w-f()?(r()&&t||(g(),x.trigger("preFixed.ScrollToFixed"),c(),S=-1,x.trigger("fixed.ScrollToFixed")),h(e)):l()&&t||(g(),x.trigger("preUnfixed.ScrollToFixed"),u(),x.trigger("unfixed.ScrollToFixed")):0<i?n+I(window).height()-x.outerHeight(!0)>=i-(f()||-p())?r()&&(g(),x.trigger("preUnfixed.ScrollToFixed"),"absolute"===y?d():u(),x.trigger("unfixed.ScrollToFixed")):(r()||(g(),x.trigger("preFixed.ScrollToFixed"),c()),h(e),x.trigger("fixed.ScrollToFixed")):h(e)}}function p(){return m.options.bottom?m.options.bottom:0}function g(){var t=x.css("position");"absolute"==t?x.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?x.trigger("postFixed.ScrollToFixed"):x.trigger("postUnfixed.ScrollToFixed")}var m=this;m.$el=I(t),m.el=t,m.$el.data("ScrollToFixed",m);var i,y,v,b=!1,x=m.$el,w=0,C=0,_=-1,S=-1,T=null,k=function(){x.is(":visible")&&(b=!1,n())},D=function(){n()},A=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1};m.init=function(){m.options=I.extend({},I.ScrollToFixed.defaultOptions,e),m.$el.css("z-index",m.options.zIndex),T=I("<div />"),i=x.css("position"),y=x.css("position"),v=I.extend({},x.offset()),l()&&m.$el.after(T),I(window).bind("resize.ScrollToFixed",k),I(window).bind("scroll.ScrollToFixed",D),m.options.preFixed&&x.bind("preFixed.ScrollToFixed",m.options.preFixed),m.options.postFixed&&x.bind("postFixed.ScrollToFixed",m.options.postFixed),m.options.preUnfixed&&x.bind("preUnfixed.ScrollToFixed",m.options.preUnfixed),m.options.postUnfixed&&x.bind("postUnfixed.ScrollToFixed",m.options.postUnfixed),m.options.preAbsolute&&x.bind("preAbsolute.ScrollToFixed",m.options.preAbsolute),m.options.postAbsolute&&x.bind("postAbsolute.ScrollToFixed",m.options.postAbsolute),m.options.fixed&&x.bind("fixed.ScrollToFixed",m.options.fixed),m.options.unfixed&&x.bind("unfixed.ScrollToFixed",m.options.unfixed),m.options.spacerClass&&T.addClass(m.options.spacerClass),x.bind("resize.ScrollToFixed",function(){T.height(x.height())}),x.bind("scroll.ScrollToFixed",function(){x.trigger("preUnfixed.ScrollToFixed"),u(),x.trigger("unfixed.ScrollToFixed"),n()}),x.bind("detach.ScrollToFixed",function(t){A(t),x.trigger("preUnfixed.ScrollToFixed"),u(),x.trigger("unfixed.ScrollToFixed"),I(window).unbind("resize.ScrollToFixed",k),I(window).unbind("scroll.ScrollToFixed",D),x.unbind(".ScrollToFixed"),m.$el.removeData("ScrollToFixed")}),k()},m.init()},I.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3},I.fn.scrollToFixed=function(t){return console.log("Warning: this library was modified for use on the live_tour. Use with caution."),this.each(function(){new I.ScrollToFixed(this,t)})}}(jQuery),function(c,d,u){function h(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var t,f="hashchange",p=document,e=c.event.special,n=p.documentMode,g="on"+f in d&&(n===u||7<n);c.fn[f]=function(t){return t?this.bind(f,t):this.trigger(f)},c.fn[f].delay=50,e[f]=c.extend(e[f],{setup:function(){if(g)return!1;c(t.start)},teardown:function(){if(g)return!1;c(t.stop)}}),t=function(){function n(){var t=h(),e=l(o);t!==o?(s(o=t,e),c(d).trigger(f)):e!==o&&(location.href=location.href.replace(/#.*/,"")+e),i=setTimeout(n,c.fn[f].delay)}var i,a,t,e={},o=h(),r=function(t){return t},s=r,l=r;return e.start=function(){i||n()},e.stop=function(){i&&clearTimeout(i),i=u},c.browser.msie&&!g&&(e.start=function(){a||(t=(t=c.fn[f].src)&&t+h(),a=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){t||s(h()),n()}).attr("src",t||"javascript:0").insertAfter("body")[0].contentWindow,p.onpropertychange=function(){try{"title"===event.propertyName&&(a.document.title=p.title)}catch(t){}})},e.stop=r,l=function(){return h(a.location.href)},s=function(t,e){var n=a.document,i=c.fn[f].domain;t!==e&&(n.title=p.title,n.open(),i&&n.write('<script>document.domain="'+i+'"</script>'),n.close(),a.location.hash=t)}),e}()}(jQuery,this),function(c){function t(t){if("string"==typeof t.data){var s=t.handler,l=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var e="keypress"!==t.type&&c.hotkeys.specialKeys[t.which],n=String.fromCharCode(t.which).toLowerCase(),i="",a={};t.altKey&&"alt"!==e&&(i+="alt+"),t.ctrlKey&&"ctrl"!==e&&(i+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==e&&(i+="meta+"),t.shiftKey&&"shift"!==e&&(i+="shift+"),e?a[i+e]=!0:(a[i+n]=!0,a[i+c.hotkeys.shiftNums[n]]=!0,"shift+"===i&&(a[c.hotkeys.shiftNums[n]]=!0));for(var o=0,r=l.length;o<r;o++)if(a[l[o]])return s.apply(this,arguments)}}}}c.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},c.each(["keydown","keyup","keypress"],function(){c.event.special[this]={add:t}})}(jQuery),function(w){function C(t){if(!t)return!1;this.x=String(t).replace(/middle/i,"center").match(/left|right|center/i)[0].toLowerCase(),this.y=String(t).replace(/middle/i,"center").match(/top|bottom|center/i)[0].toLowerCase(),this.offset={left:0,top:0},this.precedance=-1<t.charAt(0).search(/^(t|b)/)?"y":"x",this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y}}function s(t,e,n){var i={bottomright:[[0,0],[e,n],[e,0]],bottomleft:[[0,0],[e,0],[0,n]],topright:[[0,n],[e,0],[e,n]],topleft:[[0,0],[0,n],[e,n]],topcenter:[[0,n],[e/2,0],[e,n]],bottomcenter:[[0,0],[e,0],[e/2,n]],rightcenter:[[0,0],[e,n/2],[0,n]],leftcenter:[[e,0],[e,n],[0,n/2]]};return i.lefttop=i.bottomright,i.righttop=i.bottomleft,i.leftbottom=i.topright,i.rightbottom=i.topleft,i[t]}function g(t){var e;return w("<canvas />").get(0).getContext?e={topLeft:[t,t],topRight:[0,t],bottomLeft:[t,0],bottomRight:[0,0]}:w.browser.msie&&(e={topLeft:[-90,90,0],topRight:[-90,90,-t],bottomLeft:[90,270,0],bottomRight:[90,270,-t]}),e}function o(t,e){var n,i;for(i in n=w.extend(!0,{},t))!0===e&&/(tip|classes)/i.test(i)?delete n[i]:!e&&/(width|border|tip|title|classes|user)/i.test(i)&&delete n[i];return n}function h(t){return"object"!=typeof t.tip&&(t.tip={corner:t.tip}),"object"!=typeof t.tip.size&&(t.tip.size={width:t.tip.size,height:t.tip.size}),"object"!=typeof t.border&&(t.border={width:t.border}),"object"!=typeof t.width&&(t.width={value:t.width}),"string"==typeof t.width.max&&(t.width.max=parseInt(t.width.max.replace(/([0-9]+)/i,"$1"),10)),"string"==typeof t.width.min&&(t.width.min=parseInt(t.width.min.replace(/([0-9]+)/i,"$1"),10)),"number"==typeof t.tip.size.x&&(t.tip.size.width=t.tip.size.x,delete t.tip.size.x),"number"==typeof t.tip.size.y&&(t.tip.size.height=t.tip.size.y,delete t.tip.size.y),t}function f(t){var e,n,i,a,o,r;for(e=this,i=[!0,{}],n=0;n<arguments.length;n++)i.push(arguments[n]);for(a=[w.extend.apply(w,i)];"string"==typeof a[0].name;)a.unshift(h(w.fn.qtip.styles[a[0].name]));return a.unshift(!0,{classes:{tooltip:"qtip-"+(t.name||"defaults")}},w.fn.qtip.styles.defaults),o=w.extend.apply(w,a),r=w.browser.msie?1:0,o.tip.size.width+=r,o.tip.size.height+=r,0<o.tip.size.width%2&&(o.tip.size.width+=1),0<o.tip.size.height%2&&(o.tip.size.height+=1),!0===o.tip.corner&&("center"===e.options.position.corner.tooltip&&"center"===e.options.position.corner.target?o.tip.corner=!1:o.tip.corner=e.options.position.corner.tooltip),o}function m(t,e,n,i){var a=t.get(0).getContext("2d");a.fillStyle=i,a.beginPath(),a.arc(e[0],e[1],n,0,2*Math.PI,!1),a.fill()}function r(){var t,e,n,i,a,o,r,s,l,c,d,u,h,f,p;for(e in(t=this).elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove(),n=t.options.style.border.width,i=t.options.style.border.radius,a=t.options.style.border.color||t.options.style.tip.color,r={},o=g(i))r[e]='<div rel="'+e+'" style="'+(/Left/.test(e)?"left":"right")+":0; position:absolute; height:"+i+"px; width:"+i+'px; overflow:hidden; line-height:0.1px; font-size:1px">',w("<canvas />").get(0).getContext?r[e]+='<canvas height="'+i+'" width="'+i+'" style="vertical-align: top"></canvas>':w.browser.msie&&(s=2*i+3,r[e]+='<v:arc stroked="false" fillcolor="'+a+'" startangle="'+o[e][0]+'" endangle="'+o[e][1]+'" style="width:'+s+"px; height:"+s+"px; margin-top:"+(/bottom/.test(e)?-2:-1)+"px; margin-left:"+(/Right/.test(e)?o[e][2]-3.5:-1)+'px; vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'),r[e]+="</div>";l=t.getDimensions().width-2*Math.max(n,i),c='<div class="qtip-betweenCorners" style="height:'+i+"px; width:"+l+"px; overflow:hidden; background-color:"+a+'; line-height:0.1px; font-size:1px;">',d='<div class="qtip-borderTop" dir="ltr" style="height:'+i+"px; margin-left:"+i+'px; line-height:0.1px; font-size:1px; padding:0;">'+r.topLeft+r.topRight+c,t.elements.wrapper.prepend(d),u='<div class="qtip-borderBottom" dir="ltr" style="height:'+i+"px; margin-left:"+i+'px; line-height:0.1px; font-size:1px; padding:0;">'+r.bottomLeft+r.bottomRight+c,t.elements.wrapper.append(u),w("<canvas />").get(0).getContext?t.elements.wrapper.find("canvas").each(function(){h=o[w(this).parent("[rel]:first").attr("rel")],m.call(t,w(this),h,i,a)}):w.browser.msie&&t.elements.tooltip.append('<v:image style="behavior:url(#default#VML);"></v:image>'),f=Math.max(i,i+(n-i)),p=Math.max(n-i,0),t.elements.contentWrapper.css({border:"0px solid "+a,borderWidth:p+"px "+f+"px"})}function l(t,e,n){var i=t.get(0).getContext("2d");i.fillStyle=n,i.beginPath(),i.moveTo(e[0][0],e[0][1]),i.lineTo(e[1][0],e[1][1]),i.lineTo(e[2][0],e[2][1]),i.fill()}function c(t){var e,n,i,a,o,r;!1!==(e=this).options.style.tip.corner&&e.elements.tip&&(t||(t=new C(e.elements.tip.attr("rel"))),n=i=w.browser.msie?1:0,e.elements.tip.css(t[t.precedance],0),"y"===t.precedance?(w.browser.msie&&(i=6===parseInt(w.browser.version.charAt(0),10)?"top"===t.y?-3:1:"top"===t.y?1:2),"center"===t.x?e.elements.tip.css({left:"50%",marginLeft:-e.options.style.tip.size.width/2}):"left"===t.x?e.elements.tip.css({left:e.options.style.border.radius-n}):e.elements.tip.css({right:e.options.style.border.radius+n}),"top"===t.y?e.elements.tip.css({top:-i}):e.elements.tip.css({bottom:i})):(w.browser.msie&&(i=6===parseInt(w.browser.version.charAt(0),10)?1:"left"===t.x?1:2),"center"===t.y?e.elements.tip.css({top:"50%",marginTop:-e.options.style.tip.size.height/2}):"top"===t.y?e.elements.tip.css({top:e.options.style.border.radius-n}):e.elements.tip.css({bottom:e.options.style.border.radius+n}),"left"===t.x?e.elements.tip.css({left:-i}):e.elements.tip.css({right:i})),a="padding-"+t[t.precedance],o=e.options.style.tip.size["x"===t.precedance?"width":"height"],e.elements.tooltip.css("padding",0).css(a,o),w.browser.msie&&6===parseInt(w.browser.version.charAt(0),6)&&(r=parseInt(e.elements.tip.css("margin-top"),10)||0,r+=parseInt(e.elements.content.css("margin-top"),10)||0,e.elements.tip.css({marginTop:r})))}function _(t){var e,n,i,a,o,r;null!==(e=this).elements.tip&&e.elements.tip.remove(),n=e.options.style.tip.color||e.options.style.border.color,!1!==e.options.style.tip.corner&&(t||(t=new C(e.options.style.tip.corner)),i=s(t.string(),e.options.style.tip.size.width,e.options.style.tip.size.height),e.elements.tip='<div class="'+e.options.style.classes.tip+'" dir="ltr" rel="'+t.string()+'" style="position:absolute; height:'+e.options.style.tip.size.height+"px; width:"+e.options.style.tip.size.width+'px; margin:0 auto; line-height:0.1px; font-size:1px;"></div>',e.elements.tooltip.prepend(e.elements.tip),w("<canvas />").get(0).getContext?r='<canvas height="'+e.options.style.tip.size.height+'" width="'+e.options.style.tip.size.width+'"></canvas>':w.browser.msie&&(a=e.options.style.tip.size.width+","+e.options.style.tip.size.height,o="m"+i[0][0]+","+i[0][1],o+=" l"+i[1][0]+","+i[1][1],o+=" "+i[2][0]+","+i[2][1],r='<v:shape fillcolor="'+n+'" stroked="false" filled="true" path="'+(o+=" xe")+'" coordsize="'+a+'" style="width:'+e.options.style.tip.size.width+"px; height:"+e.options.style.tip.size.height+"px; line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+("top"===t.y?"bottom":"top")+'"></v:shape>',r+='<v:image style="behavior:url(#default#VML);"></v:image>',e.elements.contentWrapper.css("position","relative")),e.elements.tip=e.elements.tooltip.find("."+e.options.style.classes.tip).eq(0),e.elements.tip.html(r),w("<canvas  />").get(0).getContext&&l.call(e,e.elements.tip.find("canvas:first"),i,n),"top"===t.y&&w.browser.msie&&6===parseInt(w.browser.version.charAt(0),10)&&e.elements.tip.css({marginTop:-4}),c.call(e,t))}function d(){var e=this;null!==e.elements.title&&e.elements.title.remove(),e.elements.tooltip.attr("aria-labelledby","qtip-"+e.id+"-title"),e.elements.title=w('<div id="qtip-'+e.id+'-title" class="'+e.options.style.classes.title+'"></div>').css(o(e.options.style.title,!0)).css({zoom:w.browser.msie?1:0}).prependTo(e.elements.contentWrapper),e.options.content.title.text&&e.updateTitle.call(e,e.options.content.title.text),!1!==e.options.content.title.button&&"string"==typeof e.options.content.title.button&&(e.elements.button=w('<a class="'+e.options.style.classes.button+'" role="button" style="float:right; position: relative"></a>').css(o(e.options.style.button,!0)).html(e.options.content.title.button).prependTo(e.elements.title).click(function(t){e.status.disabled||e.hide(t)}))}function u(){function e(t){!0!==a.status.disabled&&(clearTimeout(a.timers.inactive),a.timers.inactive=setTimeout(function(){w(r).each(function(){o.unbind(this+".qtip-inactive"),a.elements.content.unbind(this+".qtip-inactive")}),a.hide(t)},a.options.hide.delay))}function n(t){!0!==a.status.disabled&&("inactive"===a.options.hide.when.event&&(w(r).each(function(){o.bind(this+".qtip-inactive",e),a.elements.content.bind(this+".qtip-inactive",e)}),e()),clearTimeout(a.timers.show),clearTimeout(a.timers.hide),0<a.options.show.delay?a.timers.show=setTimeout(function(){a.show(t)},a.options.show.delay):a.show(t))}function i(t){if(!0!==a.status.disabled){if(!0===a.options.hide.fixed&&/mouse(out|leave)/i.test(a.options.hide.when.event)&&0<w(t.relatedTarget).parents('div.qtip[id^="qtip"]').length)return t.stopPropagation(),t.preventDefault(),clearTimeout(a.timers.hide),!1;clearTimeout(a.timers.show),clearTimeout(a.timers.hide),a.elements.tooltip.stop(!0,!0),a.timers.hide=setTimeout(function(){a.hide(t)},a.options.hide.delay)}}var a,t,o,r;t=(a=this).options.show.when.target,o=a.options.hide.when.target,a.options.hide.fixed&&(o=o.add(a.elements.tooltip)),r=["click","dblclick","mousedown","mouseup","mousemove","mouseout","mouseenter","mouseleave","mouseover"],!0===a.options.hide.fixed&&a.elements.tooltip.bind("mouseover.qtip",function(){!0!==a.status.disabled&&clearTimeout(a.timers.hide)}),"mouse"===a.options.position.target&&"static"!==a.options.position.type&&t.bind("mousemove.qtip",function(t){!(a.cache.mouse={left:t.pageX,top:t.pageY})===a.status.disabled&&!0===a.options.position.adjust.mouse&&"static"!==a.options.position.type&&"none"!==a.elements.tooltip.css("display")&&a.updatePosition(t)}),1===a.options.show.when.target.add(a.options.hide.when.target).length&&a.options.show.when.event===a.options.hide.when.event&&"inactive"!==a.options.hide.when.event||"unfocus"===a.options.hide.when.event?(a.cache.toggle=0,t.bind(a.options.show.when.event+".qtip",function(t){0===a.cache.toggle?n(t):i(t)})):(t.bind(a.options.show.when.event+".qtip",n),"inactive"!==a.options.hide.when.event&&o.bind(a.options.hide.when.event+".qtip",i)),/(fixed|absolute)/.test(a.options.position.type)&&a.elements.tooltip.bind("mouseover.qtip",a.focus)}function S(){var t,e,n;e='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+(n=(t=this).getDimensions()).height+"px; width:"+n.width+'px" />',t.elements.bgiframe=t.elements.wrapper.prepend(e).children(".qtip-bgiframe:first")}function p(){var t,e,n,i,a;(t=this).beforeRender.call(t),t.status.rendered=2,t.elements.tooltip='<div qtip="'+t.id+'" id="qtip-'+t.id+'" role="tooltip" aria-describedby="qtip-'+t.id+'-content" class="qtip '+(t.options.style.classes.tooltip||t.options.style)+'" style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0; position:'+t.options.position.type+';">   <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">     <div class="qtip-contentWrapper" style="overflow:hidden;">        <div id="qtip-'+t.id+'-content" class="qtip-content '+t.options.style.classes.content+'"></div> </div></div></div>',t.elements.tooltip=w(t.elements.tooltip),t.elements.tooltip.appendTo(t.options.position.container),t.elements.tooltip.data("qtip",{current:0,interfaces:[t]}),t.elements.wrapper=t.elements.tooltip.children("div:first"),t.elements.contentWrapper=t.elements.wrapper.children("div:first"),t.elements.content=t.elements.contentWrapper.children("div:first").css(o(t.options.style)),w.browser.msie&&t.elements.wrapper.add(t.elements.content).css({zoom:1}),"unfocus"===t.options.hide.when.event&&t.elements.tooltip.attr("unfocus",!0),"number"==typeof t.options.style.width.value&&t.updateWidth(),w("<canvas />").get(0).getContext||w.browser.msie?(0<t.options.style.border.radius?r.call(t):t.elements.contentWrapper.css({border:t.options.style.border.width+"px solid "+t.options.style.border.color}),!1!==t.options.style.tip.corner&&_.call(t)):(t.elements.contentWrapper.css({border:t.options.style.border.width+"px solid "+t.options.style.border.color}),t.options.style.border.radius=0,t.options.style.tip.corner=!1),e="string"==typeof t.options.content.text&&0<t.options.content.text.length||t.options.content.text.jquery&&0<t.options.content.text.length?t.options.content.text:" ",!1!==t.options.content.title.text&&d.call(t),t.updateContent(e,!1),u.call(t),!0===t.options.show.ready&&t.show(),!1!==t.options.content.url&&(n=t.options.content.url,i=t.options.content.data,a=t.options.content.method||"get",t.loadContent(n,i,a)),t.status.rendered=!0,t.onRender.call(t)}function y(t,b,e){var x=this;x.id=e,x.options=b,x.status={animated:!1,rendered:!1,disabled:!1,focused:!1},x.elements={target:t.addClass(x.options.style.classes.target),tooltip:null,wrapper:null,content:null,contentWrapper:null,title:null,button:null,tip:null,bgiframe:null},x.cache={attr:!1,mouse:{},toggle:0,overflow:{left:!1,top:!1}},x.timers={},w.extend(x,x.options.api,{show:function(e){function t(){if(x.elements.tooltip.attr("aria-hidden",!0),"static"!==x.options.position.type&&x.focus(),x.onShow.call(x,e),w.browser.msie){var t=x.elements.tooltip.get(0).style;t.removeAttribute("filter"),t.removeAttribute("opacity")}else x.elements.tooltip.css({opacity:""})}var n;if(!x.status.rendered)return!1;if("none"!==x.elements.tooltip.css("display"))return x;if(x.elements.tooltip.stop(!0,!1),!1===x.beforeShow.call(x,e))return x;if(x.cache.toggle=1,"static"!==x.options.position.type&&x.updatePosition(e,0<x.options.show.effect.length&&2!==x.rendered),"object"==typeof x.options.show.solo?n=w(x.options.show.solo):!0===x.options.show.solo&&(n=w("div.qtip").not(x.elements.tooltip)),n&&n.each(function(){!0===w(this).qtip("api").status.rendered&&w(this).qtip("api").hide()}),"function"==typeof x.options.show.effect.type)x.options.show.effect.type.call(x.elements.tooltip,x.options.show.effect.length),x.elements.tooltip.queue(function(){t(),w(this).dequeue()});else{switch(x.options.show.effect.type.toLowerCase()){case"fade":x.elements.tooltip.fadeIn(x.options.show.effect.length,t);break;case"slide":x.elements.tooltip.slideDown(x.options.show.effect.length,function(){t(),"static"!==x.options.position.type&&x.updatePosition(e,!0)});break;case"grow":x.elements.tooltip.show(x.options.show.effect.length,t);break;default:x.elements.tooltip.show(null,t)}x.elements.tooltip.addClass(x.options.style.classes.active)}return x},hide:function(t){function e(){x.elements.tooltip.attr("aria-hidden",!0),w.browser.msie?x.elements.tooltip.get(0).style.removeAttribute("opacity"):x.elements.tooltip.css({opacity:""}),x.onHide.call(x,t)}if(!x.status.rendered)return!1;if("none"===x.elements.tooltip.css("display"))return x;if(clearTimeout(x.timers.show),x.elements.tooltip.stop(!0,!1),!1===x.beforeHide.call(x,t))return x;if(x.cache.toggle=0,"function"==typeof x.options.hide.effect.type)x.options.hide.effect.type.call(x.elements.tooltip,x.options.hide.effect.length),x.elements.tooltip.queue(function(){e(),w(this).dequeue()});else{switch(x.options.hide.effect.type.toLowerCase()){case"fade":x.elements.tooltip.fadeOut(x.options.hide.effect.length,e);break;case"slide":x.elements.tooltip.slideUp(x.options.hide.effect.length,e);break;case"grow":x.elements.tooltip.hide(x.options.hide.effect.length,e);break;default:x.elements.tooltip.hide(null,e)}x.elements.tooltip.removeClass(x.options.style.classes.active)}return x},toggle:function(t,e){var n=/boolean|number/.test(typeof e)?e:!x.elements.tooltip.is(":visible");return x[n?"show":"hide"](t),x},updatePosition:function(t,e){if(!x.status.rendered)return!1;var l,c,d,n,i,a,o,r,s,u,h=b.position,f=w(h.target),p=x.elements.tooltip.outerWidth(),g=x.elements.tooltip.outerHeight(),m=h.corner.tooltip,y=h.corner.target,v={left:function(){var t,e=w(window).scrollLeft(),n=w(window).width()+w(window).scrollLeft(),i="center"===m.x?p/2:p,a="center"===m.x?l/2:l,o=("center"===m.x?1:2)*x.options.style.border.radius,r=-2*h.adjust.x,s=d.left+p;return n<s&&(t=r-i-a+o,d.left+t>e||e-(d.left+t)<s-n)?{adjust:t,tip:"right"}:d.left<e&&(s+(t=r+i+a-o)<n||s+t-n<e-d.left)?{adjust:t,tip:"left"}:{adjust:0,tip:m.x}},top:function(){var t,e=w(window).scrollTop(),n=w(window).height()+w(window).scrollTop(),i="center"===m.y?g/2:g,a="center"===m.y?c/2:c,o=("center"===m.y?1:2)*x.options.style.border.radius,r=-2*h.adjust.y,s=d.top+g;return n<s&&(t=r-i-a+o,d.top+t>e||e-(d.top+t)<s-n)?{adjust:t,tip:"bottom"}:d.top<e&&(s+(t=r+i+a-o)<n||s+t-n<e-d.top)?{adjust:t,tip:"top"}:{adjust:0,tip:m.y}}};if(t&&"mouse"===b.position.target)y={x:"left",y:"top"},l=c=0,d=t.pageX?{top:t.pageY,left:t.pageX}:x.cache.mouse;else{if(f[0]===document)l=f.width(),c=f.height(),d={top:0,left:0};else if(f[0]===window)l=f.width(),c=f.height(),d={top:f.scrollTop(),left:f.scrollLeft()};else if(f.is("area")){for(n=x.options.position.target.attr("coords").split(","),i=0;i<n.length;i++)n[i]=parseInt(n[i],10);switch(a=x.options.position.target.parent("map").attr("name"),o=w('img[usemap="#'+a+'"]:first').offset(),d={left:Math.floor(o.left+n[0]),top:Math.floor(o.top+n[1])},x.options.position.target.attr("shape").toLowerCase()){case"rect":l=Math.ceil(Math.abs(n[2]-n[0])),c=Math.ceil(Math.abs(n[3]-n[1]));break;case"circle":l=n[2]+1,c=n[2]+1;break;case"poly":for(l=n[0],c=n[1],i=0;i<n.length;i++)i%2==0?(n[i]>l&&(l=n[i]),n[i]<n[0]&&(d.left=Math.floor(o.left+n[i]))):(n[i]>c&&(c=n[i]),n[i]<n[1]&&(d.top=Math.floor(o.top+n[i])));l-=d.left-o.left,c-=d.top-o.top}l-=2,c-=2}else l=f.outerWidth(),c=f.outerHeight(),x.elements.tooltip.is(":visible")||x.elements.tooltip.css({left:"-10000000em"}).show(),h.adjust.offset&&x.elements.tooltip.offsetParent()[0]!==document.body?((d=f.position()).top+=f.offsetParent().scrollTop(),d.left+=f.offsetParent().scrollLeft()):d=f.offset();d.left+="right"===y.x?l:"center"===y.x?l/2:0,d.top+="bottom"===y.y?c:"center"===y.y?c/2:0}return d.left+=h.adjust.x+("right"===m.x?-p:"center"===m.x?-p/2:0),d.top+=h.adjust.y+("bottom"===m.y?-g:"center"===m.y?-g/2:0),0<x.options.style.border.radius&&("left"===m.x?d.left-=x.options.style.border.radius:"right"===m.x&&(d.left+=x.options.style.border.radius),"top"===m.y?d.top-=x.options.style.border.radius:"bottom"===m.y&&(d.top+=x.options.style.border.radius)),h.adjust.screen&&(r={x:0,y:0},s={x:v.left(),y:v.top()},u=new C(b.style.tip.corner),x.elements.tip&&u&&(0!==s.y.adjust&&(d.top+=s.y.adjust,u.y=r.y=s.y.tip),0!==s.x.adjust&&(d.left+=s.x.adjust,u.x=r.x=s.x.tip),x.cache.overflow={left:!1===r.x,top:!1===r.y},x.elements.tip.attr("rel")!==u.string()&&_.call(x,u))),!x.elements.bgiframe&&w.browser.msie&&6===parseInt(w.browser.version.charAt(0),10)&&S.call(x),!1===x.beforePositionUpdate.call(x,t)||("mouse"!==b.position.target&&!0===e?(x.status.animated=!0,x.elements.tooltip.stop().animate(d,200,"swing",function(){x.status.animated=!1})):x.elements.tooltip.css(d),
x.onPositionUpdate.call(x,t)),x},updateWidth:function(t){if(!x.status.rendered||t&&"number"!=typeof t)return!1;var e=x.elements.contentWrapper.siblings().add(x.elements.tip).add(x.elements.button),n=x.elements.wrapper.add(x.elements.contentWrapper.children()),i=x.elements.tooltip,a=x.options.style.width.max,o=x.options.style.width.min;return t||("number"==typeof x.options.style.width.value?t=x.options.style.width.value:(x.elements.tooltip.css({width:"auto"}),e.hide(),i.width(t),w.browser.msie&&n.css({zoom:""}),t=x.getDimensions().width,x.options.style.width.value||(t=Math.min(Math.max(t,o),a)))),t%2&&(t+=1),x.elements.tooltip.width(t),e.show(),x.options.style.border.radius&&x.elements.tooltip.find(".qtip-betweenCorners").each(function(){w(this).width(t-2*x.options.style.border.radius)}),w.browser.msie&&(n.css({zoom:1}),x.elements.wrapper.width(t),x.elements.bgiframe&&x.elements.bgiframe.width(t).height(x.getDimensions.height)),x},updateStyle:function(t){var e,n,i,a;return!(!x.status.rendered||"string"!=typeof t||!w.fn.qtip.styles[t])&&(x.options.style=f.call(x,w.fn.qtip.styles[t],x.options.user.style),x.elements.content.css(o(x.options.style)),!1!==x.options.content.title.text&&x.elements.title.css(o(x.options.style.title,!0)),x.elements.contentWrapper.css({borderColor:x.options.style.border.color}),!1!==x.options.style.tip.corner&&(w("<canvas />").get(0).getContext?(e=x.elements.tooltip.find(".qtip-tip canvas:first"),e.get(0).getContext("2d").clearRect(0,0,300,300),a=s(i=e.parent("div[rel]:first").attr("rel"),x.options.style.tip.size.width,x.options.style.tip.size.height),l.call(x,e,a,x.options.style.tip.color||x.options.style.border.color)):w.browser.msie&&(e=x.elements.tooltip.find('.qtip-tip [nodeName="shape"]')).attr("fillcolor",x.options.style.tip.color||x.options.style.border.color)),0<x.options.style.border.radius&&(x.elements.tooltip.find(".qtip-betweenCorners").css({backgroundColor:x.options.style.border.color}),w("<canvas />").get(0).getContext?(n=g(x.options.style.border.radius),x.elements.tooltip.find(".qtip-wrapper canvas").each(function(){w(this).get(0).getContext("2d").clearRect(0,0,300,300),i=w(this).parent("div[rel]:first").attr("rel"),m.call(x,w(this),n[i],x.options.style.border.radius,x.options.style.border.color)})):w.browser.msie&&x.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){w(this).attr("fillcolor",x.options.style.border.color)})),x)},updateContent:function(t,e){function n(){x.updateWidth(),!1!==e&&("static"!==x.options.position.type&&x.updatePosition(x.elements.tooltip.is(":visible"),!0),!1!==x.options.style.tip.corner&&c.call(x))}var i,a,o;if(!t)return!1;if("string"==typeof(i=x.beforeContentUpdate.call(x,t)))t=i;else if(!1===i)return;return x.status.rendered?(w.browser.msie&&x.elements.contentWrapper.children().css({zoom:"normal"}),t.jquery&&0<t.length?t.clone(!0).appendTo(x.elements.content).show():x.elements.content.html(t),0<(a=x.elements.content.find("img[complete=false]")).length?(o=0,a.each(function(){w('<img src="'+w(this).attr("src")+'" />').load(function(){++o===a.length&&n()})})):n()):x.options.content.text=t,x.onContentUpdate.call(x),x},loadContent:function(t,e,n){function i(t){x.onContentLoad.call(x),x.updateContent(t)}return!!x.status.rendered&&(!1===x.beforeContentLoad.call(x)||("post"===n?w.post(t,e,i):w.get(t,e,i)),x)},updateTitle:function(t){return!(!x.status.rendered||!t)&&(!1===x.beforeTitleUpdate.call(x)||(x.elements.button&&(x.elements.button=x.elements.button.clone(!0)),x.elements.title.html(t),x.elements.button&&x.elements.title.prepend(x.elements.button),x.onTitleUpdate.call(x)),x)},focus:function(t){var e,n,i;if(!x.status.rendered||"static"===x.options.position.type)return!1;if(e=parseInt(x.elements.tooltip.css("z-index"),10),n=15e3+w('div.qtip[id^="qtip"]').length-1,!x.status.focused&&e!==n){if(!1===x.beforeFocus.call(x,t))return x;w('div.qtip[id^="qtip"]').not(x.elements.tooltip).each(function(){!0===w(this).qtip("api").status.rendered&&("number"==typeof(i=parseInt(w(this).css("z-index"),10))&&-1<i&&w(this).css({zIndex:parseInt(w(this).css("z-index"),10)-1}),w(this).qtip("api").status.focused=!1)}),x.elements.tooltip.css({zIndex:n}),x.status.focused=!0,x.onFocus.call(x,t)}return x},disable:function(t){return x.status.disabled=!!t,x},destroy:function(){var t,e,n=x.elements.target.data("old"+x.cache.attr[0]);if(!1===x.beforeDestroy.call(x))return x;if(x.status.rendered?(x.options.show.when.target.unbind("mousemove.qtip",x.updatePosition),x.options.show.when.target.unbind("mouseout.qtip",x.hide),x.options.show.when.target.unbind(x.options.show.when.event+".qtip"),x.options.hide.when.target.unbind(x.options.hide.when.event+".qtip"),x.elements.tooltip.unbind(x.options.hide.when.event+".qtip"),x.elements.tooltip.unbind("mouseover.qtip",x.focus),x.elements.tooltip.remove()):x.options.show.when.target.unbind(x.options.show.when.event+".qtip-"+x.id+"-create"),"object"==typeof x.elements.target.data("qtip")&&"object"==typeof(e=x.elements.target.data("qtip").interfaces)&&0<e.length)for(t=0;t<e.length-1;t++)e[t].id===x.id&&e.splice(t,1);return w.fn.qtip.interfaces.splice(x.id,1),"object"==typeof e&&0<e.length?x.elements.target.data("qtip").current=e.length-1:x.elements.target.removeData("qtip"),n&&x.elements.target.attr(x.cache.attr[0],n),x.onDestroy.call(x),x.elements.target},getPosition:function(){var t,e;return!!x.status.rendered&&((t="none"===x.elements.tooltip.css("display"))&&x.elements.tooltip.css({visiblity:"hidden"}).show(),e=x.elements.tooltip.offset(),t&&x.elements.tooltip.css({visiblity:"visible"}).hide(),e)},getDimensions:function(){var t,e;return!!x.status.rendered&&((t=!x.elements.tooltip.is(":visible"))&&x.elements.tooltip.css({visiblity:"hidden"}).show(),e={height:x.elements.tooltip.outerHeight(),width:x.elements.tooltip.outerWidth()},t&&x.elements.tooltip.css({visiblity:"visible"}).hide(),e)}})}w(document).ready(function(){var n;w(window).bind("resize scroll",function(t){for(n=0;n<w.fn.qtip.interfaces.length;n++){var e=w.fn.qtip.interfaces[n];e&&e.status&&e.status.rendered&&"static"!==e.options.position.type&&e.elements.tooltip.is(":visible")&&(e.options.position.adjust.scroll&&"scroll"===t.type||e.options.position.adjust.resize&&"resize"===t.type)&&e.updatePosition(t,!0)}}),w(document).bind("mouseenter.qtip",function(t){if(0===w(t.target).parents("div.qtip").length){var e=w(".qtipSelector"),n=e.qtip("api");e.is(":visible")&&n&&n.status&&!n.status.disabled&&1<w(t.target).add(n.elements.target).length&&n.hide(t)}})}),w.fn.qtip=function(t,e){var n,o,r,s,l,c,d,u;if("string"==typeof t){if(!w(this).data("qtip"))return w(this);if("api"===t)return w(this).data("qtip").interfaces[w(this).data("qtip").current];if("interfaces"===t)return w(this).data("qtip").interfaces}else t||(t={}),("object"!=typeof t.content||t.content.jquery&&0<t.content.length)&&(t.content={text:t.content}),"object"!=typeof t.content.title&&(t.content.title={text:t.content.title}),"object"!=typeof t.position&&(t.position={corner:t.position}),"object"!=typeof t.position.corner&&(t.position.corner={target:t.position.corner,tooltip:t.position.corner}),"object"!=typeof t.show&&(t.show={when:t.show}),"object"!=typeof t.show.when&&(t.show.when={event:t.show.when}),"object"!=typeof t.show.effect&&(t.show.effect={type:t.show.effect}),"object"!=typeof t.hide&&(t.hide={when:t.hide}),"object"!=typeof t.hide.when&&(t.hide.when={event:t.hide.when}),"object"!=typeof t.hide.effect&&(t.hide.effect={type:t.hide.effect}),"object"!=typeof t.style&&(t.style={name:t.style}),t.style=h(t.style),(s=w.extend(!0,{},w.fn.qtip.defaults,t)).style=f.call({options:s},s.style),s.user=w.extend(!0,{},t);return w(this).each(function(){var i=w(this),a=!1;if("string"==typeof t){if(c=t.toLowerCase(),"object"==typeof(r=w(this).qtip("interfaces")))if(!0===e&&"destroy"===c)for(n=r.length-1;-1<n;n--)"object"==typeof r[n]&&r[n].destroy();else for(!0!==e&&(r=[w(this).qtip("api")]),n=0;n<r.length;n++)"destroy"===c?r[n].destroy():!0===r[n].status.rendered&&("show"===c?r[n].show():"hide"===c?r[n].hide():"focus"===c?r[n].focus():"disable"===c?r[n].disable(!0):"enable"===c?r[n].disable(!1):"update"===c&&r[n].updatePosition())}else{for((d=w.extend(!0,{},s)).hide.effect.length=s.hide.effect.length,d.show.effect.length=s.show.effect.length,!1===d.position.container&&(d.position.container=w(document.body)),!1===d.position.target&&(d.position.target=w(this)),!1===d.show.when.target&&(d.show.when.target=w(this)),!1===d.hide.when.target&&(d.hide.when.target=w(this)),d.position.corner.tooltip=new C(d.position.corner.tooltip),d.position.corner.target=new C(d.position.corner.target),d.content.text.length||w(["title","alt"]).each(function(t,e){var n=i.attr(e);if(n&&n.length)return a=[e,n],i.data("old"+e,n).removeAttr(e),d.content.text=n.replace(/\n/gi,"<br />"),!1}),o=w.fn.qtip.interfaces.length,n=0;n<o;n++)if("undefined"==typeof w.fn.qtip.interfaces[n]){o=n;break}l=new y(w(this),d,o),(w.fn.qtip.interfaces[o]=l).cache.attr=a,"object"==typeof w(this).data("qtip")&&w(this).data("qtip")?(void 0===w(this).attr("qtip")&&(w(this).data("qtip").current=w(this).data("qtip").interfaces.length),w(this).data("qtip").interfaces.push(l)):w(this).data("qtip",{current:0,interfaces:[l]}),!1===d.content.prerender&&!1!==d.show.when.event&&!0!==d.show.ready?d.show.when.target.bind(d.show.when.event+".qtip-"+o+"-create",{qtip:o},function(t){(u=w.fn.qtip.interfaces[t.data.qtip]).options.show.when.target.unbind(u.options.show.when.event+".qtip-"+t.data.qtip+"-create"),u.cache.mouse={left:t.pageX,top:t.pageY},p.call(u),u.options.show.when.target.trigger(u.options.show.when.event)}):(l.cache.mouse={left:d.show.when.target.offset().left,top:d.show.when.target.offset().top},p.call(l))}})},w.fn.qtip.interfaces=[],w.fn.qtip.fn={attr:w.fn.attr},w.fn.attr=function(t){var e=w(this).qtip("api");return 1===arguments.length&&/title|alt/i.test(t)&&e.status&&!0===e.status.rendered?w(this).data("old"+e.cache.attr[0]):w.fn.qtip.fn.attr.apply(this,arguments)},w.fn.qtip.defaults={content:{prerender:!1,text:!1,url:!1,data:null,title:{text:!1,button:!1}},position:{target:!1,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:!0,screen:!1,scroll:!0,resize:!0,offset:!1},type:"absolute",container:!1},show:{when:{target:!1,event:"mouseover"},effect:{type:"fade",length:100},delay:140,solo:!1,ready:!1},hide:{when:{target:!1,event:"mouseout"},effect:{type:"fade",length:100},delay:0,fixed:!1},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}},w.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:"hidden",textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:!1,color:!1,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}}(jQuery),function(c){c.PaginationCalculator=function(t,e){this.maxentries=t,this.opts=e},c.extend(c.PaginationCalculator.prototype,{numPages:function(){return Math.ceil(this.maxentries/this.opts.items_per_page)},getInterval:function(t){var e=Math.floor(this.opts.num_display_entries/2),n=this.numPages(),i=n-this.opts.num_display_entries;return{start:e<t?Math.max(Math.min(t-e,i),0):0,end:e<t?Math.min(t+e+this.opts.num_display_entries%2,n):Math.min(this.opts.num_display_entries,n)}}}),c.PaginationRenderers={},c.PaginationRenderers.defaultRenderer=function(t,e){this.maxentries=t,this.opts=e,this.pc=new c.PaginationCalculator(t,e)},c.extend(c.PaginationRenderers.defaultRenderer.prototype,{createLink:function(t,e,n){var i,a=this.pc.numPages();return t=t<0?0:t<a?t:a-1,n=c.extend({text:t+1,classes:""},n||{}),i=t==e?c("<span class='current'>"+n.text+"</span>"):c("<a>"+n.text+"</a>").attr("href",this.opts.link_to.replace(/__id__/,t)),n.classes&&i.addClass(n.classes),i.data("page_id",t),i},appendRange:function(t,e,n,i,a){var o;for(o=n;o<i;o++)this.createLink(o,e,a).appendTo(t)},getLinks:function(t,e){var n,i,a=this.pc.getInterval(t),o=this.pc.numPages(),r=c("<div class='pagination'></div>");return this.opts.prev_text&&(0<t||this.opts.prev_show_always)&&r.append(this.createLink(t-1,t,{text:this.opts.prev_text,classes:"prev"})),0<a.start&&0<this.opts.num_edge_entries&&(i=Math.min(this.opts.num_edge_entries,a.start),this.appendRange(r,t,0,i,{classes:"sp"}),this.opts.num_edge_entries<a.start&&this.opts.ellipse_text&&jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(r)),this.appendRange(r,t,a.start,a.end),a.end<o&&0<this.opts.num_edge_entries&&(o-this.opts.num_edge_entries>a.end&&this.opts.ellipse_text&&jQuery("<span>"+this.opts.ellipse_text+"</span>").appendTo(r),n=Math.max(o-this.opts.num_edge_entries,a.end),this.appendRange(r,t,n,o,{classes:"ep"})),this.opts.next_text&&(t<o-1||this.opts.next_show_always)&&r.append(this.createLink(t+1,t,{text:this.opts.next_text,classes:"next"})),c("a",r).click(e),r}}),c.fn.pagination=function(t,e){function n(t){var e=i(c(t.target).data("page_id"));return e||t.stopPropagation(),e}function i(t){return s.data("current_page",t),o=a.getLinks(t,n),s.empty(),o.appendTo(s),e.callback(t,s)}e=jQuery.extend({items_per_page:10,num_display_entries:11,current_page:0,num_edge_entries:0,link_to:"#",prev_text:"Prev",next_text:"Next",ellipse_text:"...",prev_show_always:!0,next_show_always:!0,renderer:"defaultRenderer",callback:function(){return!1}},e||{});var a,o,r,s=this;if(r=e.current_page,s.data("current_page",r),t=!t||t<0?1:t,e.items_per_page=!e.items_per_page||e.items_per_page<0?1:e.items_per_page,!c.PaginationRenderers[e.renderer])throw new ReferenceError("Pagination renderer '"+e.renderer+"' was not found in jQuery.PaginationRenderers object.");a=new c.PaginationRenderers[e.renderer](t,e);var l=new c.PaginationCalculator(t,e).numPages();s.bind("setPage",{numPages:l},function(t,e){if(0<=e&&e<t.data.numPages)return i(e),!1}),s.bind("prevPage",function(){var t=c(this).data("current_page");return 0<t&&i(t-1),!1}),s.bind("nextPage",{numPages:l},function(t){var e=c(this).data("current_page");return e<t.data.numPages-1&&i(e+1),!1}),o=a.getLinks(r,n),s.empty(),o.appendTo(s),e.callback(r,s)}}(jQuery),function(X){"use strict";var e,n,V="file_upload",Y="undefined",J="function",Q=function(t,e){var n=0,i=[];e&&(e.length?i=e:i[e-1]=null),this.complete=function(){(n+=1)===i.length&&(t(i),n=0,i=[])},this.push=function(t){i.push(t)},this.getList=function(){return i}},Z=function(){var e=[];this.push=function(t){e.push(t),1===e.length&&t()},this.next=function(){e.shift(),e.length&&e[0]()}};e=function(e){var i,n,r,a=this,s={namespace:V,uploadFormFilter:function(){return!0},fileInputFilter:function(){return!0},cssClass:V,dragDropSupport:!0,dropZone:e,url:function(t){return t.attr("action")},method:function(t){return t.attr("method")},fieldName:function(t){return t.attr("name")},formData:function(t){return t.serializeArray()},requestHeaders:null,multipart:!0,multiFileRequest:!1,withCredentials:!1,forceIframeUpload:!1,sequentialUploads:!1,maxChunkSize:null,maxFileReaderSize:5e7,replaceFileInput:!0},t={},o={},l=/^http(s)?:\/\//,c=new Q(function(t){typeof s.onLoadAll===J&&s.onLoadAll(t)}),d=new Z,u=function(){c.complete(),d.next()},h=function(){return typeof XMLHttpRequest!==Y&&typeof XMLHttpRequestUpload!==Y&&typeof File!==Y&&(!s.multipart||typeof FormData!==Y||typeof FileReader!==Y&&typeof XMLHttpRequest.prototype.sendAsBinary===J)},f=function(){s.dragDropSupport&&(typeof s.onDocumentDragEnter===J&&(t["dragenter."+s.namespace]=function(t){s.onDocumentDragEnter(t)}),typeof s.onDocumentDragLeave===J&&(t["dragleave."+s.namespace]=function(t){s.onDocumentDragLeave(t)}),t["dragover."+s.namespace]=a.onDocumentDragOver,t["drop."+s.namespace]=a.onDocumentDrop,X(document).bind(t),typeof s.onDragEnter===J&&(o["dragenter."+s.namespace]=function(t){s.onDragEnter(t)}),typeof s.onDragLeave===J&&(o["dragleave."+s.namespace]=function(t){s.onDragLeave(t)}),o["dragover."+s.namespace]=a.onDragOver,o["drop."+s.namespace]=a.onDrop,s.dropZone.bind(o)),n.bind("change."+s.namespace,a.onChange)},p=function(){X.each(t,function(t,e){X(document).unbind(t,e)}),X.each(o,function(t,e){s.dropZone.unbind(t,e)}),n.unbind("change."+s.namespace)},g=function(t){return typeof t.uploadedBytes!==Y},m=function(t,e,n){var i;return typeof document.createEvent===J&&typeof ProgressEvent!==Y?(i=document.createEvent("ProgressEvent")).initProgressEvent&&i.initProgressEvent("progress",!1,!1,t,e,n):i={lengthComputable:!0,loaded:e,total:n},i},y=function(t,e,n){var i,a;if(typeof n.progressTotal===Y)if(t[e])a=t[e].size,n.progressTotal=a||1;else{for(i=a=0;i<t.length;i+=1)a+=t[i].size;n.progressTotal=a}return n.progressTotal},v=function(t,e,n,i,a){var o,r,s=0,l=0;t.lengthComputable&&typeof a.onProgressAll===J&&(a.progressLoaded=parseInt(t.loaded/t.total*y(e,n,a),10),r=c.getList(),X.each(r,function(t,e){s+=e[3].progressLoaded||0,l+=y(e[0],e[1],e[3])}),o=m(!0,s,l),a.onProgressAll(o,r))},b=function(t,e,n,i,a){var o;g(a)&&(a.uploadedBytes+=a.chunkSize,o=m(!0,a.uploadedBytes,e[n].size),typeof a.onProgress===J&&a.onProgress(o,e,n,i,a),v(o,e,n,i,a),a.uploadedBytes<e[n].size)?typeof a.resumeUpload===J?a.resumeUpload(t,e,n,i,a,function(){M(t,e,n,i,a,!0)}):M(t,e,n,i,a,!0):(a.progressLoaded=y(e,n,a),typeof a.onLoad===J&&a.onLoad(t,e,n,i,a),u())},x=function(t,e,n,i,a){var o=t;g(a)&&t.lengthComputable&&(o=m(!0,a.uploadedBytes+parseInt(t.loaded/t.total*a.chunkSize,10),e[n].size)),typeof a.onProgress===J&&a.onProgress(o,e,n,i,a),v(o,e,n,i,a)},w=function(e,n,i,a){i.upload&&(i.upload.onprogress=function(t){x(t,e,n,i,a)}),i.onload=function(t){b(t,e,n,i,a)},i.onabort=function(t){a.progressTotal=a.progressLoaded,typeof a.onAbort===J&&a.onAbort(t,e,n,i,a),u()},i.onerror=function(t){a.progressTotal=a.progressLoaded,typeof a.onError===J&&a.onError(t,e,n,i,a),u()}},C=function(t){return typeof t.url===J?t.url(t.uploadForm||i):t.url},_=function(t){return typeof t.method===J?t.method(t.uploadForm||i):t.method},S=function(t){return typeof t.fieldName===J?t.fieldName(t.fileInput||n):t.fieldName},T=function(t){var n;return typeof t.formData===J?t.formData(t.uploadForm||i):X.isArray(t.formData)?t.formData:t.formData?(n=[],X.each(t.formData,function(t,e){n.push({name:t,value:e})}),n):[]},k=function(t){if(l.test(t)){var e=location.host,n=location.protocol.length+2,i=t.indexOf(e,n),a=i+e.length;return!(i!==n&&i!==t.indexOf("@",n)+1||t.length!==a&&-1===X.inArray(t.charAt(a),["/","?","#"]))}return!0},D=function(t,e,n,i){var a=t[e],o=C(i),r=k(o);n.open(_(i),o,!0),r?(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.multipart&&!g(i)||(n.setRequestHeader("X-File-Name",a.name),n.setRequestHeader("X-File-Type",a.type),n.setRequestHeader("X-File-Size",a.size),g(i)?i.multipart||n.setRequestHeader("Content-Type","application/octet-stream"):n.setRequestHeader("Content-Type",a.type))):i.withCredentials&&(n.withCredentials=!0),X.isArray(i.requestHeaders)?X.each(i.requestHeaders,function(t,e){n.setRequestHeader(e.name,e.value)}):i.requestHeaders&&X.each(i.requestHeaders,function(t,e){n.setRequestHeader(t,e)})},A=function(t,e,n){var i,a=new FormData;for(X.each(T(n),function(t,e){a.append(e.name,e.value)}),i=0;i<t.length;i+=1)a.append(S(n),t[i]);e.send(a)},I=function(t,e){t.reader=new FileReader,t.reader.onload=e,t.reader.readAsBinaryString(t)},P=function(t){return unescape(encodeURIComponent(t))},L=function(n,t,i,e){var a="--",o="\r\n",r="",s=[];return X.each(e,function(t,e){r+=a+n+o+'Content-Disposition: form-data; name="'+P(e.name)+'"'+o+o+P(e.value)+o}),X.each(t,function(t,e){r+=a+n+o+'Content-Disposition: form-data; name="'+P(i)+'"; filename="'+P(e.name)+'"'+o+"Content-Type: "+P(e.type)+o+o,s.push(r),s.push(e.reader.result),delete e.reader,r=o}),r+=a+n+a+o,s.push(r),s.join("")},j=function(t,e,n){var i,a,o="----MultiPartFormBoundary"+(new Date).getTime();for(e.setRequestHeader("Content-Type","multipart/form-data; boundary="+o),i=new Q(function(){e.sendAsBinary(L(o,t,S(n),T(n)))},t.length),a=0;a<t.length;a+=1)I(t[a],i.complete)},F=function(t,e){var n,i=e.uploadedBytes,a=e.maxChunkSize;return t&&typeof t.slice===J&&(i||a&&a<t.size)?(e.uploadedBytes=i=i||0,n=t.slice(i,a||t.size-i),e.chunkSize=n.size,n):t},M=function(n,i,a,o,r,s){var t;t=function(){if(s||typeof r.onSend!==J||!1!==r.onSend(n,i,a,o,r)){var t,e=F(i[a],r);w(i,a,o,r),D(i,a,o,r),r.multipart?(t="number"==typeof a?[e]:i,typeof FormData!==Y?A(t,o,r):typeof FileReader!==Y&&typeof o.sendAsBinary===J?j(t,o,r):X.error("Browser does not support multipart/form-data XHR file uploads")):o.upload?o.send(e):X.error("Browser does not support XHR file uploads")}else u()},s||(c.push(Array.prototype.slice.call(arguments,1)),!r.sequentialUploads)?t():d.push(t)},E=function(t,e,n,i,a){var o=new XMLHttpRequest,r=X.extend({},s);r.fileInput=n,r.uploadForm=i,typeof r.initUpload===J?r.initUpload(t,e,a,o,r,function(){M(t,e,a,o,r)}):M(t,e,a,o,r)},R=function(t,e,n,i,a){var o,r=0;typeof n===Y?X.each(e,function(t,e){r+=e.size?e.size:1}):r=e[n].size?e[n].size:1,o=m(!0,r,r),a.progressLoaded=r,v(o,e,n,i,a)},O=function(t,n,i){var e=T(i);n.find(":input").not(":disabled").attr("disabled",!0).addClass(i.namespace+"_disabled"),X.each(e,function(t,e){X('<input type="hidden"/>').attr("name",e.name).val(e.value).addClass(i.namespace+"_form_data").appendTo(n)}),t.attr("name",S(i)).appendTo(n)},N=function(t,e,n){t.detach(),e.find("."+n.namespace+"_disabled").removeAttr("disabled").removeClass(n.namespace+"_disabled"),e.find("."+n.namespace+"_form_data").remove()},H=function(e,n,i,a,o,r,s){var t;t=function(){if(typeof r.onSend!==J||!1!==r.onSend(e,n,s,o,r)){var t={action:a.attr("action"),method:a.attr("method"),target:a.attr("target"),enctype:a.attr("enctype")};o.unbind("abort").bind("abort",function(t){o.readyState=0,o.unbind("load").attr("src","javascript".concat(":false;")),R(t,n,s,o,r),typeof r.onAbort===J&&r.onAbort(t,n,s,o,r),u()}).unbind("load").bind("load",function(t){o.readyState=4,R(t,n,s,o,r),typeof r.onLoad===J&&r.onLoad(t,n,s,o,r),X('<iframe src="javascript:false;" style="display:none;"></iframe>').appendTo(a).remove(),u()}),a.attr("action",C(r)).attr("method",_(r)).attr("target",o.attr("name")).attr("enctype","multipart/form-data"),O(i,a,r),o.readyState=2,a.get(0).submit(),N(i,a,r),X.each(t,function(t,e){e?a.attr(t,e):a.removeAttr(t)})}else u()},c.push([n,s,o,r]),r.sequentialUploads?d.push(t):t()},z=function(t,e){typeof e.name===Y&&typeof e.size===Y&&(e.name=e.fileName,e.size=e.fileSize)},B=function(t,e,n,i){if(t&&e&&n){var a=X('<iframe src="javascript:false;" style="display:none;" name="iframe_'+s.namespace+"_"+(new Date).getTime()+'"></iframe>'),o=X.extend({},s),r=t.target&&t.target.files;r=r?Array.prototype.slice.call(r,0):[{name:e.val(),type:null,size:null}],X.each(r,z),i=1===r.length?0:i,o.fileInput=e,o.uploadForm=n,a.readyState=0,a.abort=function(){a.trigger("abort")},a.bind("load",function(){a.unbind("load"),typeof o.initUpload===J?o.initUpload(t,r,i,a,o,function(){H(t,r,e,n,a,o,i)}):H(t,r,e,n,a,o,i)}).appendTo(n)}else X.error("Iframe based File Upload requires a file input change event")},$=function(t){var e,n=0,i=0;if(s.multipart&&typeof FormData===Y){for(e=0;e<t.length;e+=1){if((n=t[e].size)>s.maxFileReaderSize)return!1;i+=n}if(s.multiFileRequest&&i>s.maxFileReaderSize)return!1}return!0},G=function(t,e,n,i){var a;if($(e))if(e=Array.prototype.slice.call(e,0),X.each(e,z),s.multiFileRequest&&s.multipart&&e.length)E(t,e,n,i);else for(a=0;a<e.length;a+=1)E(t,e,n,i,a);else B(t,n,i)},q=function(){i=(e.is("form")?e:e.find("form")).filter(s.uploadFormFilter)},W=function(){n=(i.length?i:e).find("input:file").filter(s.fileInputFilter)},U=function(t){var e=t.clone(!0);X("<form/>").append(e).get(0).reset(),t.after(e).detach(),W()};this.onDocumentDragOver=function(t){if(typeof s.onDocumentDragOver===J&&!1===s.onDocumentDragOver(t))return!1;t.preventDefault()},this.onDocumentDrop=function(t){if(typeof s.onDocumentDrop===J&&!1===s.onDocumentDrop(t))return!1;t.preventDefault()},this.onDragOver=function(t){if(typeof s.onDragOver===J&&!1===s.onDragOver(t))return!1;var e=t.originalEvent.dataTransfer;e&&e.files&&(e.dropEffect=e.effectAllowed="copy",t.preventDefault())},this.onDrop=function(t){if(typeof s.onDrop===J&&!1===s.onDrop(t))return!1;var e=t.originalEvent.dataTransfer;e&&e.files&&h()&&G(t,e.files),t.preventDefault()},this.onChange=function(t){if(typeof s.onChange===J&&!1===s.onChange(t))return!1;var e=X(t.target),n=X(t.target.form);1===n.length?s.replaceFileInput&&(e.data(V+"_form",n),U(e)):n=e.data(V+"_form"),!s.forceIframeUpload&&t.target.files&&h()?G(t,t.target.files,e,n):B(t,e,n)},this.init=function(t){t&&(X.extend(s,t),r=t),q(),W(),e.data(s.namespace)?X.error('FileUpload with namespace "'+s.namespace+'" already assigned to this element'):(e.data(s.namespace,a).addClass(s.cssClass),s.dropZone.not(e).addClass(s.cssClass),f(),typeof s.init===J&&s.init())},this.options=function(t){var n,i,a,o;if(typeof t===Y)return X.extend({},s);r&&X.extend(r,t),p(),X.each(t,function(t,e){switch(t){case"namespace":return void X.error("The FileUpload namespace cannot be updated.");case"uploadFormFilter":o=a=!0;break;case"fileInputFilter":o=!0;break;case"cssClass":n=s.cssClass;break;case"dropZone":i=s.dropZone}s[t]=e}),a&&q(),o&&W(),typeof n!==Y?(e.removeClass(n).addClass(s.cssClass),(i||s.dropZone).not(e).removeClass(n),s.dropZone.not(e).addClass(s.cssClass)):i&&(i.not(e).removeClass(s.cssClass),s.dropZone.not(e).addClass(s.cssClass)),f()},this.option=function(t,e){var n;if(typeof e===Y)return s[t];(n={})[t]=e,a.options(n)},this.destroy=function(){typeof s.destroy===J&&s.destroy(),p(),e.removeData(s.namespace).removeClass(s.cssClass),s.dropZone.not(e).removeClass(s.cssClass)},this.upload=function(t){typeof t.length===Y&&(t=[t]),G(null,t)}},n={init:function(t){return this.each(function(){new e(X(this)).init(t)})},option:function(e,n,i){i=i||V;var t=X(this).data(i);if(t){if(!e)return t.options();if("string"==typeof e&&typeof n===Y)return t.option(e)}else X.error('No FileUpload with namespace "'+i+'" assigned to this element');return this.each(function(){var t=X(this).data(i);t?"string"==typeof e?t.option(e,n):t.options(e):X.error('No FileUpload with namespace "'+i+'" assigned to this element')})},destroy:function(e){return e=e||V,this.each(function(){var t=X(this).data(e);t?t.destroy():X.error('No FileUpload with namespace "'+e+'" assigned to this element')})},upload:function(e,n){return n=n||V,this.each(function(){var t=X(this).data(n);t?t.upload(e):X.error('No FileUpload with namespace "'+n+'" assigned to this element')})}},X.fn.fileUpload=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void X.error('Method "'+t+'" does not exist on jQuery.fileUpload'):n.init.apply(this,arguments)}}(jQuery),function(o){"use strict";var e,n,u="undefined",h="function",r=function(t){var e=0,n=[];this.complete=function(){(e+=1)===n.length+1&&(t(n),e=0,n=[])},this.push=function(t){n.push(t)},this.getList=function(){return n}};e=function(t,e){var n,i,a=this,l=new r(function(t){a.hideProgressBarAll(function(){a.resetProgressBarAll(),typeof a.onCompleteAll===h&&a.onCompleteAll(t)})}),c=function(t){return typeof t.uploadTable===h?t.uploadTable(t):t.uploadTable},d=function(t){return typeof t.downloadTable===h?t.downloadTable(t):t.downloadTable};this.requestHeaders={Accept:"application/json, text/javascript, */*; q=0.01"},this.dropZone=t,this.imageTypes=/^image\/(gif|jpeg|png)$/,this.previewMaxWidth=this.previewMaxHeight=80,this.previewLoadDelay=100,this.previewAsCanvas=!0,this.previewSelector=".file_upload_preview",this.progressSelector=".file_upload_progress div",this.cancelSelector=".file_upload_cancel button",this.cssClassSmall="file_upload_small",this.cssClassLarge="file_upload_large",this.cssClassHighlight="file_upload_highlight",this.dropEffect="highlight",this.uploadTable=this.downloadTable=null,this.buildUploadRow=this.buildDownloadRow=null,this.progressAllNode=null,this.loadImage=function(t,e,i,a,n,o){var r,s,l,c;if(n&&!n.test(t.type))return null;s=function(t){var e=document.createElement("canvas"),n=Math.min((i||t.width)/t.width,(a||t.height)/t.height);return 1<n&&(n=1),t.width=parseInt(t.width*n,10),t.height=parseInt(t.height*n,10),o||typeof e.getContext!==h?t:(e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height),e)},r=document.createElement("img"),(l=typeof URL!==u?URL:typeof webkitURL!==u?webkitURL:null)&&typeof l.createObjectURL===h?(r.onload=function(){l.revokeObjectURL(this.src),e(s(r))},r.src=l.createObjectURL(t)):typeof FileReader!==u&&typeof FileReader.prototype.readAsDataURL===h?(r.onload=function(){e(s(r))},(c=new FileReader).onload=function(t){r.src=t.target.result},c.readAsDataURL(t)):e(null)},this.addNode=function(t,e,n){t&&t.length&&e&&e.length?e.css("display","none").appendTo(t).fadeIn(function(){if(typeof n===h)try{n()}catch(t){throw e.stop(),t}}):typeof n===h&&n()},this.removeNode=function(e,n){e&&e.length?e.fadeOut(function(){if(e.remove(),typeof n===h)try{n()}catch(t){throw e.stop(),t}}):typeof n===h&&n()},this.replaceNode=function(e,n,i){if(!n||!n.length)return a.removeNode(e,i);e&&e.length?e.fadeOut(function(){n.css("display","none"),e.replaceWith(n),n.fadeIn(function(){if(typeof i===h)try{i()}catch(t){throw e.stop(),n.stop(),t}})}):typeof i===h&&i()},this.resetProgressBarAll=function(){a.progressbarAll&&a.progressbarAll.progressbar("value",0)},this.hideProgressBarAll=function(t){a.progressbarAll&&!o(c(a)).find(a.progressSelector+":visible:first").length?a.progressbarAll.fadeOut(t):typeof t===h&&t()},this.onAbort=function(t,e,n,i,a){a.removeNode(a.uploadRow,a.hideProgressBarAll)},this.cancelUpload=function(t,e,n,i,a){var o=i.readyState;i.abort(),("number"!=typeof o||o<2)&&a.onAbort(t,e,n,i,a)},this.initProgressBar=function(t,e){return t&&t.length?typeof t.progressbar===h?t.progressbar({value:e}):(t.addClass("progressbar").append(o("<div/>").css("width",e+"%")).progressbar=function(t,e){return this.each(function(){"destroy"===t?o(this).removeClass("progressbar").empty():o(this).children().css("width",e+"%")})},t):null},this.destroyProgressBar=function(t){return t&&t.length?t.progressbar("destroy"):null},this.initUploadProgress=function(t,e){!t.upload&&e.progressbar&&e.progressbar.progressbar("value",100)},this.initUploadProgressAll=function(){a.progressbarAll&&a.progressbarAll.is(":hidden")&&a.progressbarAll.fadeIn()},this.onSend=function(t,e,n,i,a){a.initUploadProgress(i,a)},this.onProgress=function(t,e,n,i,a){a.progressbar&&t.lengthComputable&&a.progressbar.progressbar("value",parseInt(t.loaded/t.total*100,10))},this.onProgressAll=function(t){a.progressbarAll&&t.lengthComputable&&a.progressbarAll.progressbar("value",parseInt(t.loaded/t.total*100,10))},this.onLoadAll=function(){l.complete()},this.initProgressBarAll=function(){a.progressbarAll||(a.progressbarAll=a.initProgressBar(typeof a.progressAllNode===h?a.progressAllNode(a):a.progressAllNode,0))},this.destroyProgressBarAll=function(){a.destroyProgressBar(a.progressbarAll)},this.loadPreviewImage=function(n,i,a){i=i||0,a.uploadRow.find(a.previewSelector).each(function(){var e=o(this),t=n[i];setTimeout(function(){a.loadImage(t,function(t){a.addNode(e,o(t))},a.previewMaxWidth,a.previewMaxHeight,a.imageTypes,!a.previewAsCanvas)},a.previewLoadDelay),i+=1})},
this.initUploadRow=function(t,e,n,i,a){var o=a.uploadRow=typeof a.buildUploadRow===h?a.buildUploadRow(e,n,a):null;o&&(a.progressbar=a.initProgressBar(o.find(a.progressSelector),0),o.find(a.cancelSelector).click(function(t){a.cancelUpload(t,e,n,i,a),t.preventDefault()}),a.loadPreviewImage(e,n,a))},this.initUpload=function(t,e,n,i,a,o){a.initUploadRow(t,e,n,i,a),a.addNode(c(a),a.uploadRow,function(){typeof a.beforeSend===h?a.beforeSend(t,e,n,i,a,o):o()}),a.initUploadProgressAll()},this.parseResponse=function(t){return typeof t.responseText!==u?o.parseJSON(t.responseText):o.parseJSON(t.contents().text())},this.initDownloadRow=function(t,e,n,i,a){var o;try{o=a.response=a.parseResponse(i,a)}catch(r){if(typeof a.onError!==h)throw r;a.originalEvent=t,a.onError(r,e,n,i,a)}a.downloadRow=typeof a.buildDownloadRow===h?a.buildDownloadRow(o,a):null},this.onLoad=function(t,e,n,i,a){var o=c(a),r=d(a),s=function(){typeof a.onComplete===h&&a.onComplete(t,e,n,i,a),l.complete()};l.push(Array.prototype.slice.call(arguments,1)),a.initDownloadRow(t,e,n,i,a),o&&a.uploadRow&&a.uploadRow.length&&(!r||o.get(0)===r.get(0))?a.replaceNode(a.uploadRow,a.downloadRow,s):a.removeNode(a.uploadRow,function(){a.addNode(r,a.downloadRow,s)})},this.dropZoneEnlarge=function(){i||(typeof a.dropZone.switchClass===h?a.dropZone.switchClass(a.cssClassSmall,a.cssClassLarge):(a.dropZone.addClass(a.cssClassLarge),a.dropZone.removeClass(a.cssClassSmall)),i=!0)},this.dropZoneReduce=function(){typeof a.dropZone.switchClass===h?a.dropZone.switchClass(a.cssClassLarge,a.cssClassSmall):(a.dropZone.addClass(a.cssClassSmall),a.dropZone.removeClass(a.cssClassLarge)),i=!1},this.onDocumentDragEnter=function(){a.dropZoneEnlarge()},this.onDocumentDragOver=function(){n&&clearTimeout(n),n=setTimeout(function(){a.dropZoneReduce()},200)},this.onDragEnter=this.onDragLeave=function(){a.dropZone.toggleClass(a.cssClassHighlight)},this.onDrop=function(){n&&clearTimeout(n),a.dropEffect&&typeof a.dropZone.effect===h?a.dropZone.effect(a.dropEffect,function(){a.dropZone.removeClass(a.cssClassHighlight),a.dropZoneReduce()}):(a.dropZone.removeClass(a.cssClassHighlight),a.dropZoneReduce())},this.init=function(){a.initProgressBarAll(),typeof a.initExtended===h&&a.initExtended()},this.destroy=function(){typeof a.destroyExtended===h&&a.destroyExtended(),a.destroyProgressBarAll()},o.extend(this,e)},n={init:function(t){return this.each(function(){o(this).fileUpload(new e(o(this),t))})},option:function(t,e,n){return!t||"string"==typeof t&&typeof e===u?o(this).fileUpload("option",t,e,n):this.each(function(){o(this).fileUpload("option",t,e,n)})},destroy:function(t){return this.each(function(){o(this).fileUpload("destroy",t)})},upload:function(t,e){return this.each(function(){o(this).fileUpload("upload",t,e)})}},o.fn.fileUploadUI=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void o.error('Method "'+t+'" does not exist on jQuery.fileUploadUI'):n.init.apply(this,arguments)}}(jQuery),function(e){function t(){e(".dropdown").dropdown()}e.fn.dropdown=function(){this.each(function(){var t=e(this);t.parent().hover(function(){t.addClass("hover")},function(){t.removeClass("hover")})})},e(document).ready(t)}(jQuery),jQuery&&function(C){C.extend(C.fn,{miniColors:function(t,e){var n=function(e,t){var n=g(e.val());n||(n="FFFFFF");var i=x(n),a=C('<a class="miniColors-trigger" style="background-color: #'+n+'" href="#"></a>');a.insertAfter(e),e.addClass("miniColors").attr("maxlength",7).attr("autocomplete","off"),e.data("trigger",a),e.data("hsb",i),t.change&&e.data("change",t.change),t.readonly&&e.attr("readonly",!0),t.disabled&&o(e),a.bind("click.miniColors",function(t){t.preventDefault(),e.trigger("focus")}),e.bind("focus.miniColors",function(){r(e)}),e.bind("blur.miniColors",function(){var t=g(e.val());e.val(t||"")}),e.bind("keydown.miniColors",function(t){9===t.keyCode&&s(e)}),e.bind("keyup.miniColors",function(){var t=e.val().replace(/[^A-F0-9#]/gi,"");e.val(t),u(e)||e.data("trigger").css("backgroundColor","#FFF")}),e.bind("paste.miniColors",function(){setTimeout(function(){e.trigger("keyup")},5)})},i=function(t){s(),(t=C(t)).data("trigger").remove(),t.removeAttr("autocomplete"),t.removeData("trigger"),t.removeData("selector"),t.removeData("hsb"),t.removeData("huePicker"),t.removeData("colorPicker"),t.removeData("mousebutton"),t.removeData("moving"),t.unbind("click.miniColors"),t.unbind("focus.miniColors"),t.unbind("blur.miniColors"),t.unbind("keyup.miniColors"),t.unbind("keydown.miniColors"),t.unbind("paste.miniColors"),C(document).unbind("mousedown.miniColors"),C(document).unbind("mousemove.miniColors")},a=function(t){t.attr("disabled",!1),t.data("trigger").css("opacity",1)},o=function(t){s(t),t.attr("disabled",!0),t.data("trigger").css("opacity",.5)},r=function(e){if(e.attr("disabled"))return!1;s();var t=C('<div class="miniColors-selector"></div>');t.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>'),t.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>'),t.css({top:e.is(":visible")?e.offset().top+e.outerHeight():e.data("trigger").offset().top+e.data("trigger").outerHeight(),left:e.is(":visible")?e.offset().left:e.data("trigger").offset().left,display:"none"}).addClass(e.attr("class"));var n=e.data("hsb");t.find(".miniColors-colors").css("backgroundColor","#"+w({h:n.h,s:100,b:100}));var i=e.data("colorPosition");i||(i=f(n)),t.find(".miniColors-colorPicker").css("top",i.y+"px").css("left",i.x+"px");var a=e.data("huePosition");a||(a=p(n)),t.find(".miniColors-huePicker").css("top",a.y+"px"),e.data("selector",t),e.data("huePicker",t.find(".miniColors-huePicker")),e.data("colorPicker",t.find(".miniColors-colorPicker")),e.data("mousebutton",0),C("BODY").append(t),t.fadeIn(100),t.bind("selectstart",function(){return!1}),C(document).bind("mousedown.miniColors",function(t){e.data("mousebutton",1),C(t.target).parents().andSelf().hasClass("miniColors-colors")&&(t.preventDefault(),e.data("moving","colors"),l(e,t)),C(t.target).parents().andSelf().hasClass("miniColors-hues")&&(t.preventDefault(),e.data("moving","hues"),c(e,t)),C(t.target).parents().andSelf().hasClass("miniColors-selector")?t.preventDefault():C(t.target).parents().andSelf().hasClass("miniColors")||s(e)}),C(document).bind("mouseup.miniColors",function(){e.data("mousebutton",0),e.removeData("moving")}),C(document).bind("mousemove.miniColors",function(t){1===e.data("mousebutton")&&("colors"===e.data("moving")&&l(e,t),"hues"===e.data("moving")&&c(e,t))})},s=function(t){t||(t=".miniColors"),C(t).each(function(){var t=C(this).data("selector");C(this).removeData("selector"),C(t).fadeOut(100,function(){C(this).remove()})}),C(document).unbind("mousedown.miniColors"),C(document).unbind("mousemove.miniColors")},l=function(t,e){var n=t.data("colorPicker");n.hide();var i={x:e.clientX-t.data("selector").find(".miniColors-colors").offset().left+C(document).scrollLeft()-5,y:e.clientY-t.data("selector").find(".miniColors-colors").offset().top+C(document).scrollTop()-5};i.x<=-5&&(i.x=-5),144<=i.x&&(i.x=144),i.y<=-5&&(i.y=-5),144<=i.y&&(i.y=144),t.data("colorPosition",i),n.css("left",i.x).css("top",i.y).show();var a=Math.round(.67*(i.x+5));a<0&&(a=0),100<a&&(a=100);var o=100-Math.round(.67*(i.y+5));o<0&&(o=0),100<o&&(o=100);var r=t.data("hsb");r.s=a,r.b=o,d(t,r,!0)},c=function(t,e){var n=t.data("huePicker");n.hide();var i={y:e.clientY-t.data("selector").find(".miniColors-colors").offset().top+C(document).scrollTop()-1};i.y<=-1&&(i.y=-1),149<=i.y&&(i.y=149),t.data("huePosition",i),n.css("top",i.y).show();var a=Math.round(2.4*(150-i.y-1));a<0&&(a=0),360<a&&(a=360);var o=t.data("hsb");o.h=a,d(t,o,!0)},d=function(t,e,n){t.data("hsb",e);var i=w(e);n&&t.val(i),t.data("trigger").css("backgroundColor","#"+i),t.data("selector")&&t.data("selector").find(".miniColors-colors").css("backgroundColor","#"+w({h:e.h,s:100,b:100})),t.data("change")&&t.data("change").call(t,"#"+i,m(e))},u=function(t){var e=g(t.val());if(!e)return!1;var n=x(e),i=t.data("hsb");if(n.h===i.h&&n.s===i.s&&n.b===i.b)return!0;var a=f(n);C(t.data("colorPicker")).css("top",a.y+"px").css("left",a.x+"px");var o=p(n);return C(t.data("huePicker")).css("top",o.y+"px"),d(t,n,!1),!0},f=function(t){var e=Math.ceil(t.s/.67);e<0&&(e=0),150<e&&(e=150);var n=150-Math.ceil(t.b/.67);return n<0&&(n=0),150<n&&(n=150),{x:e-5,y:n-5}},p=function(t){var e=150-t.h/2.4;return e<0&&(h=0),150<e&&(h=150),{y:e-1}},g=function(t){return 3==(t=t.replace(/[^A-Fa-f0-9]/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6===t.length?t:null},m=function(t){var e={},n=Math.round(t.h),i=Math.round(255*t.s/100),a=Math.round(255*t.b/100);if(0==i)e.r=e.g=e.b=a;else{var o=a,r=(255-i)*a/255,s=n%60*(o-r)/60;360==n&&(n=0),n<60?(e.r=o,e.b=r,e.g=r+s):n<120?(e.g=o,e.b=r,e.r=o-s):n<180?(e.g=o,e.r=r,e.b=r+s):n<240?(e.b=o,e.r=r,e.g=o-s):n<300?(e.b=o,e.g=r,e.r=r+s):n<360?(e.r=o,e.g=r,e.b=o-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},y=function(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return C.each(n,function(t,e){1==e.length&&(n[t]="0"+e)}),n.join("")},v=function(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}},b=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),a=i-n;return e.b=i,e.s=0!=i?255*a/i:0,0!=e.s?t.r==i?e.h=(t.g-t.b)/a:t.g==i?e.h=2+(t.b-t.r)/a:e.h=4+(t.r-t.g)/a:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},x=function(t){var e=b(v(t));return 0===e.s&&(e.h=360),e},w=function(t){return y(m(t))};switch(t){case"readonly":return C(this).each(function(){C(this).attr("readonly",e)}),C(this);case"disabled":return C(this).each(function(){e?o(C(this)):a(C(this))}),C(this);case"value":return C(this).each(function(){C(this).val(e).trigger("keyup")}),C(this);case"destroy":return C(this).each(function(){i(C(this))}),C(this);default:return t||(t={}),C(this).each(function(){"input"===C(this)[0].tagName.toLowerCase()&&(C(this).data("trigger")||n(C(this),t,e))}),C(this)}}})}(jQuery),function(n,i){function a(t,e){for(var n=decodeURI(t),i=c[e?"strict":"loose"].exec(n),a={attr:{},param:{},seg:{}},o=14;o--;)a.attr[s[o]]=i[o]||"";return a.param.query={},a.param.fragment={},a.attr.query.replace(d,function(t,e,n){e&&(a.param.query[e]=n)}),a.attr.fragment.replace(u,function(t,e,n){e&&(a.param.fragment[e]=n)}),a.seg.path=a.attr.path.replace(/^\/+|\/+$/g,"").split("/"),a.seg.fragment=a.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),a.attr.base=a.attr.host?a.attr.protocol+"://"+a.attr.host+(a.attr.port?":"+a.attr.port:""):"",a}function o(t){var e=t.tagName;return e!==i?r[e.toLowerCase()]:e}var r={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],l={anchor:"fragment"},c={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},d=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,u=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;n.fn.url=function(t){var e="";return this.length&&(e=n(this).attr(o(this[0]))||""),n.url(e,t)},n.url=function(t,e){return 1===arguments.length&&!0===t&&(e=!0,t=i),e=e||!1,{data:a(t=t||window.location.toString(),e),attr:function(t){return(t=l[t]||t)!==i?this.data.attr[t]:this.data.attr},param:function(t){return t!==i?this.data.param.query[t]:this.data.param.query},fparam:function(t){return t!==i?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return t===i?this.data.seg.path:(t=t<0?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return t===i?this.data.seg.fragment:(t=t<0?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}}(jQuery),function(c){c.widget("ui.stars",{options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,disableValue:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"},_create:function(){function n(t,e){if(-1!=t){var n=e?s.starHoverClass:s.starOnClass,i=e?s.starOnClass:s.starHoverClass;r.$stars.eq(t).prevAll("."+s.starClass).andSelf().removeClass(i).addClass(n),r.$stars.eq(t).nextAll("."+s.starClass).removeClass(s.starHoverClass+" "+s.starOnClass),r._showCap(s.id2title[t])}else a()}function a(){r.$stars.removeClass(s.starOnClass+" "+s.starHoverClass),r._showCap("")}var r=this,s=this.options,l=0;this.element.data("former.stars",this.element.html()),s.isSelect="select"==s.inputType,this.$form=c(this.element).closest("form"),this.$selec=s.isSelect?c("select",this.element):null,this.$rboxs=s.isSelect?c("option",this.$selec):c(":radio",this.element),this.$stars=this.$rboxs.map(function(t){var e={value:this.value,title:(s.isSelect?this.text:this.title)||this.value,isDefault:s.isSelect&&this.defaultSelected||this.defaultChecked};if(0==t&&(s.split="number"!=typeof s.split?0:s.split,s.val2id=[],s.id2val=[],s.id2title=[],s.name=s.isSelect?r.$selec.get(0).name:this.name,s.disabled=s.disabled||(s.isSelect?c(r.$selec).prop("disabled"):c(this).prop("disabled"))),e.value==s.cancelValue)return s.cancelTitle=e.title,null;s.val2id[e.value]=l,s.id2val[l]=e.value,s.id2title[l]=e.title,e.isDefault&&(s.checked=l,s.value=s.defaultValue=e.value,s.title=e.title);var n=c("<div/>").addClass(s.starClass),i=c("<a/>").attr("title",s.showTitles?e.title:"").text(e.value);if(s.split){var a=l%s.split,o=Math.floor(s.starWidth/s.split);n.width(o),i.css("margin-left","-"+a*o+"px")}return l++,n.append(i).get(0)}),s.items=l,s.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=c("<div/>").addClass(s.cancelClass).append(c("<a/>").attr("title",s.showTitles?s.cancelTitle:"").text(s.cancelValue)),s.cancelShow&=!s.disabled&&!s.oneVoteOnly,s.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),s.checked===undefined&&(s.checked=-1,s.value=s.defaultValue=s.cancelValue,s.title=""),this.$value=c("<input type='hidden' name='"+s.name+"' value='"+s.value+"' />"),this.element.append(this.$value),this.$stars.bind("click.stars",function(t){if(!s.forceSelect&&s.disabled)return!1;var e=r.$stars.index(this);s.checked=e,s.value=s.id2val[e],s.title=s.id2title[e],r.$value.val(s.value),r.$value.prop("disabled",s.disabled),n(e,!1),r._disableCancel(),!s.forceSelect&&r.callback(t,"star")}).bind("mouseover.stars",function(){if(s.disabled)return!1;n(r.$stars.index(this),!0)}).bind("mouseout.stars",function(){if(s.disabled)return!1;n(r.options.checked,!1)}),this.$cancel.bind("click.stars",function(t){if(!s.forceSelect&&(s.disabled||s.value==s.cancelValue))return!1;s.checked=-1,s.value=s.cancelValue,s.title="",r.$value.val(s.value),s.disableValue&&r.$value.prop("disabled",!0),a(),r._disableCancel(),!s.forceSelect&&r.callback(t,"cancel")}).bind("mouseover.stars",function(){if(r._disableCancel())return!1;r.$cancel.addClass(s.cancelHoverClass),a(),r._showCap(s.cancelTitle)}).bind("mouseout.stars",function(){if(r._disableCancel())return!1;r.$cancel.removeClass(s.cancelHoverClass),r.$stars.triggerHandler("mouseout.stars")}),this.$form.bind("reset.stars",function(){!s.disabled&&r.select(s.defaultValue)}),c(window).unload(function(){r.$cancel.unbind(".stars"),r.$stars.unbind(".stars"),r.$form.unbind(".stars"),r.$selec=r.$rboxs=r.$stars=r.$value=r.$cancel=r.$form=null}),this.select(s.value),s.disabled&&this.disable()},_disableCancel:function(){var t=this.options,e=t.disabled||t.oneVoteOnly||t.value==t.cancelValue;return e?this.$cancel.removeClass(t.cancelHoverClass).addClass(t.cancelDisabledClass):this.$cancel.removeClass(t.cancelDisabledClass),this.$cancel.css("opacity",e?.5:1),e},_disableAll:function(){var t=this.options;this._disableCancel(),t.disabled?this.$stars.filter("div").addClass(t.starDisabledClass):this.$stars.filter("div").removeClass(t.starDisabledClass)},_showCap:function(t){var e=this.options;e.captionEl&&e.captionEl.text(t)},value:function(){return this.options.value},select:function(t){var e=this.options,n=t==e.cancelValue?this.$cancel:this.$stars.eq(e.val2id[t]);e.forceSelect=!0,n.triggerHandler("click.stars"),e.forceSelect=!1},selectID:function(t){var e=this.options,n=-1==t?this.$cancel:this.$stars.eq(t);e.forceSelect=!0,n.triggerHandler("click.stars"),e.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()},destroy:function(){return this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").html(this.element.data("former.stars")).removeData("stars"),this},callback:function(t,e){var n=this.options;n.callback&&n.callback(this,e,n.value,t),n.oneVoteOnly&&!n.disabled&&this.disable()}}),c.extend(c.ui.stars,{version:"@VERSION@"})}(jQuery),$(function(){$.fn.knob=function(t,e){function n(){var t=1.5*Math.PI,e=t+l,n=d.width/2,i=n*d.thickness;c.clearRect(0,0,d.width,d.width),c.lineWidth=i;var a=d.ticks,o=d.tickLength,r=d.tickWidth;for(tick=0;tick<a;tick++){c.beginPath(),l>2*Math.PI/a*tick&&d.tickColorizeValues?c.strokeStyle=d.fgColor:c.strokeStyle=d.tickColor;var s=2*Math.PI/a*tick-.5*Math.PI;c.arc(n,n,n-i/2-o,s,s+r,!1),c.stroke()}switch(c.beginPath(),c.strokeStyle=d.fgColor,c.arc(n,n,n-i/2,t,e+.001,!1),c.stroke(),d.skin){case"default":c.beginPath(),c.strokeStyle=d.bgColor,c.arc(n,n,n-i/2,t,e+.001,!0),c.stroke();break;case"tron":c.lineWidth=2,c.beginPath(),c.strokeStyle=d.fgColor,c.arc(n,n,n-i+1+2*i/3,0,2*Math.PI,!1),c.stroke()}}if(0===this.length)return this;if(1<this.length)return this.each(function(){$(this).knob(t,e)});100<=t&&(t=99.95);var l=2*t*Math.PI/100;"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this[0]);var c=this[0].getContext("2d"),d=$.extend({width:this.width(),height:this.height(),thickness:.4,bgColor:"#EEEEEE",tickColor:"#EEEEEE",fgColor:"#A3DB52",skin:"default"},e);n()}}),function(f){f.fn.hoverIntent=function(n,i){var a=this;if(!(1<a.length)){var o,r,s,l,c={sensitivity:7,interval:100,timeout:0,include:null};c=f.extend(c,i?{over:n,out:i}:n);var d=function(t){o=t.pageX,r=t.pageY},u=function(t,e){if(e.hoverIntent_t=clearTimeout(e.hoverIntent_t),Math.abs(s-o)+Math.abs(l-r)<c.sensitivity)return f(e).unbind("mousemove",d),e.hoverIntent_s=1,c.over.apply(e,[t]);s=o,l=r,e.hoverIntent_t=setTimeout(function(){u(t,e)},c.interval)},h=function(t,e){return e.hoverIntent_t=clearTimeout(e.hoverIntent_t),e.hoverIntent_s=0,c.out.apply(e,[t])},t=function(t){var e=jQuery.extend({},t),n=a;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"==t.type?(s=e.pageX,l=e.pageY,f(n).bind("mousemove",d),1!=n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){u(e,n)},c.interval))):(f(n).unbind("mousemove",d),1==n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){h(e,n)},c.timeout)))};return c.include&&c.include.bind("mouseenter",t).bind("mouseleave",t),this.bind("mouseenter",t).bind("mouseleave",t)}a.each(function(t,e){f(e).hoverIntent(n,i)})}}(jQuery),function(){var r=!1,p=0;$.fn.popup=function(n){function t(){var t=h.width(),e=(h.height(),l.offset().left+l.width()/2),n=l.offset().top+l.height();if(d=e-t/2,u=n,0!==c.length){var i=c.offset().left,a=c.width();i+a<d+t&&(d=i+a-t),d<i&&(d=i)}var o=e-d-7;o<3&&(o=3),t-17<o&&(o=t-17),f.removeClass("top right left").addClass("bottom"),f.css("left",o),s(),h.css({left:d,top:u})}function e(){var t=h.width(),e=h.height(),n=l.offset().left+l.width()/2,i=l.offset().top;if(d=n-t/2,u=i-e,0!==c.length){var a=c.offset().left,o=c.width();a+o<d+t&&(d=a+o-t),d<a&&(d=a)}var r=n-d-7;r<3&&(r=3),t-17<r&&(r=t-17),f.removeClass("bottom right left").addClass("top"),f.css("left",r),s(),h.css({left:d,top:u})}function s(){n.offsetTop&&(u+=n.offsetTop),n.offsetLeft&&(d+=n.offsetLeft)}function i(){"bottom"==(n.position||"bottom")?t():e(),$(".popup_content").css("z-index",0),h.css("z-index",1),r?(r.fadeOut(100),h.show().css({left:d,top:u})):h.show().css("opacity",1).animate({opacity:1,left:d,top:u,duration:0,easing:"easeOutExp"}),r=h,p++}function a(){0===--p&&(r=!1),h.hide()}var o=$(this);if(n=$.extend({},n),1<o.length)o.each(function(t,e){$(e).popup(n)});else{var l=o.find(".popup_anchor:first");0===l.length&&(l=o);var c=o.find(".popup_align:first");0===c.length&&(c=o.parents(".popup_align:first")),o.hasClass("popup_align")&&(c=o);var d,u,h=n.content?$(n.content):o.find(".popup_content:first"),f=h.find(".pin:first");0===f.length&&(f=$("<div/>").addClass("pin").appendTo(h)),0===h.find(".inner").length&&$('<div class="inner clearfix"/>').append(h.children()).appendTo(h),h.appendTo("body"),o.hoverIntent({over:i,out:a,interval:50,timeout:250,sensitivity:5,include:h})}},$(".with_popup").popup(),$(".with_top_popup").popup({position:"top"})}(),function(){function _(t,e){var n=0;for(n=0;n<t.length;n++)e(t[n],n,t)}function l(t){for(var e=/(\d+)(\d{3})/,n=t.toString();n.match(e);)n=n.replace(e,"$1,$2");return n}$.fn.chart=function(C){this.each(function(){function t(e,n,t){var i;return i=n?-Infinity:Infinity,_(C.dataSets,function(t){_(t.points,function(t){(n&&t[e]>i||!n&&t[e]<i)&&(i=t[e])})}),t&&(i=Math.max(i+Math.ceil(i*t),1)),i}function e(){var t,e,n,i,a,o;if(C.lines&&(t=C.lines.number||5,e=(s-r)/t,n=C.lines.unit?' <span class="unit">'+C.lines.unit+"</span>":"",current=r,0!==s))for(;current<s;)o!=(a=l(Math.round(current)))&&(i=g(current),$('<span class="tick">'+a+n+"</span>").appendTo(m).css({left:0,top:i})),o=a,current+=e}function n(n){for(var i=n.length-1;0<i;)_(n[i].points,function(t,e){n[i-1].points[e][1]+=t[1]}),i--}function p(t,e){return e||(e=0),w===x?0:Math.round((t-x)/(w-x)*(v-e))}function g(t){return s===r?b:b-Math.round((t-r)/(s-r)*b)}var m,i,y,v,b,x=0,w=0,r=0,s=0;m=$(this),i=$('<canvas width="'+m.width()+'" height='+m.height()+'"" />').appendTo(m)[0],"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i),y=i.getContext("2d"),C.stack&&1<C.dataSets.length&&n(C.dataSets),w=C.maxX||t(0,!0),x=C.minX||t(0,!1),s=C.maxY||t(1,!0,.1),C.scaleY&&(r=C.minY||t(1,!1)),v=m.width(),b=m.height(),e(),_(C.dataSets,function(a,s){function t(){var t;y.fillStyle=c,d&&(t=d.match(/^(\d+)px solid (.+)$/))&&(y.lineWidth=parseInt(t[1]),y.lineJoin="round",y.strokeStyle=t[2]),y.beginPath(),_(a.points,function(t,e){n(t,0===e)}),e()}function n(t,e){var n,i,a,o,r;n=p(t[0]),i=g(t[1]),e?y.moveTo(n,i):y.lineTo(n,i),o=1.2*y.lineWidth,a=y.strokeStyle,r=$('<span class="dot" />').appendTo(m).css({left:n-o/2,top:i-o/1.4,width:o,height:o,backgroundColor:a,borderColor:a}),C.columns&&0==s&&!e&&l(t,n),C.eachPoint&&C.eachPoint(t,r,s),f=n}function l(t,e){var n,i;n=e-f,i=$('<span class="column" />').appendTo(m).css({left:e-n,top:0,width:n,height:b}),C.eachColumn&&C.eachColumn(t,i,s)}function e(){var t;t=p(a.points[0][0]),d&&y.stroke(),y.lineTo(f,b),y.lineTo(t,b),y.closePath(),c&&y.fill()}function i(){r(),_(a.points,function(t){o(t)})}function o(t){var e,n,i;e=p(t[0],h),n=g(t[1]),i=$('<span class="bar" />').appendTo(m).css({left:e,top:n,height:b-n,width:h,zIndex:s+2,borderColor:c,backgroundColor:c}),C.eachPoint&&C.eachPoint(t,i,s)}function r(){var e,n,t,i=Infinity;_(a.points,function(t){n&&(e=t[0]-n)<i&&(i=e),n=t[0]}),t=2,h=Math.floor(i/(w-x+i)*v)-t}var c,d,u,h,f;0!==a.points.length&&(u=a.type||C.type||"line",c=a.background!==undefined?a.background:"#fff",d=a.border!==undefined?a.border:"6px solid #555",a.points.sort(function(t,e){return t[0]-e[0]}),"bar"===u?i():t())}),m.removeClass("loading")})}}(),jQuery.fn.insertAtCaret=function(t){return this.each(function(){!document.selection||"TEXTAREA"!=this.tagName&&"INPUT"!=this.tagName?this.selectionStart||"0"==this.selectionStart?(startPos=this.selectionStart,endPos=this.selectionEnd,scrollTop=this.scrollTop,this.value=this.value.substring(0,startPos)+t+this.value.substring(endPos,this.value.length),this.focus(),this.selectionStart=startPos+t.length,this.selectionEnd=startPos+t.length,this.scrollTop=scrollTop):(this.value+=t,this.focus(),this.value=this.value):(this.focus(),sel=document.selection.createRange(),sel.text=t,this.focus())})},function(i){function t(){s||(i(document).on("click",l,e),i(document).on("click",n),s=!0)}function e(t){var e=i(this).find(".menu"),n=r&&e[0]===r[0];r&&a(),n||(e.show(),r=e),t.stopImmediatePropagation()}function a(){r&&(r.hide(),r=null)}function n(){a()}function o(){i(l).revealMenu()}var r,s=!1,l="[data-reveal-menu]";i.fn.revealMenu=function(){"click"===this.data("reveal-menu")&&t()},i(o)}(jQuery),function(r){r.fn.serializeForm=function(){var a,o,t,e;return!(this.length<1)&&(o=a={},e=':input[type!="checkbox"][type!="radio"], input:checked',t=function(){var t,e,n,i;if(e=(i=this.name.replace(/\[([^\]]+)?\]/g,",$1").split(",")).length-1,t=r(this),i[0]){for(n=0;n<e;)o=o[i[n]]=o[i[n]]||(""===i[n+1]?[]:{}),n++;return o.length!==undefined?o.push(t.val()):o[i[e]]=t.val(),o=a}},this.filter(e).each(t),this.find(e).each(t),a)}}(jQuery),function(){function I(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t}function P(){var t,e,n=arguments,i={},a=function(t,e){var n,i;for(i in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(i)&&((n=e[i])&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?t[i]=a(t[i]||{},n):t[i]=e[i]);return t};for(!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=a(i,n[t]);return i}function t(){for(var t=0,e=arguments,n=e.length,i={};t<n;t++)i[e[t++]]=e[t];return i}function S(t,e){return parseInt(t,e||10)}function _(t){return"string"==typeof t}function d(t){return"object"==typeof t}function T(t){return"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"number"==typeof t}function D(t){return pt.log(t)/pt.LN10}function A(t){return pt.pow(10,t)}function u(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function F(t){return t!==U&&null!==t}function L(t,e,n){var i,a;if(_(e))F(n)?t.setAttribute(e,n):t&&t.getAttribute&&(a=t.getAttribute(e));else if(F(e)&&d(e))for(i in e)t.setAttribute(i,e[i]);return a}function y(t){return T(t)?t:[t]}function $(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e}function j(t,e){Dt&&!Ft&&e&&e.opacity!==U&&(e.filter="alpha(opacity="+100*e.opacity+")"),I(t.style,e)}function R(t,e,n,i,a){var o=ht.createElement(t);return e&&I(o,e),a&&j(o,{padding:0,border:Jt,margin:0}),n&&j(o,n),i&&i.appendChild(o),o}function e(t,e){var n=function(){};return n.prototype=new t,I(n.prototype,e),n}function h(t,e,n,i){var a=X.lang,o=+t||0,r=-1===e?(o.toString().split(".")[1]||"").length:isNaN(e=xt(e))?2:e,s=n===undefined?a.decimalPoint:n,l=i===undefined?a.thousandsSep:i,c=o<0?"-":"",d=String(S(o=xt(o).toFixed(r))),u=3<d.length?d.length%3:0;return c+(u?d.substr(0,u)+l:"")+d.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+l)+(r?s+xt(o-d).toFixed(r).slice(2):"")}function f(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function a(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}}function p(t,e){var n,i=/f$/,a=/\.([0-9])/,o=X.lang;return i.test(t)?(n=(n=t.match(a))?n[1]:-1,null!==e&&(e=h(e,n,o.decimalPoint,-1<t.indexOf(",")?o.thousandsSep:""))):e=C(t,e),e}function M(t,e){for(var n,i,a,o,r,s,l,c="{",d=!1,u=[];-1!==(l=t.indexOf(c));){if(n=t.slice(0,l),d){for(r=(a=(i=n.split(":")).shift().split(".")).length,s=e,o=0;o<r;o++)s=s[a[o]];i.length&&(s=p(i.join(":"),s)),u.push(s)}else u.push(n);t=t.slice(l+1),c=(d=!d)?"}":"{"}return u.push(t),u.join("")}function E(t){return pt.pow(10,mt(pt.log(t)/pt.LN10))}function O(t,e,n,i){var a,o;for(a=t/(n=$(n,1)),e||(e=[1,2,2.5,5,10],i&&!1===i.allowDecimals&&(1===n?e=[1,2,5,10]:n<=.1&&(e=[1/n]))),o=0;o<e.length&&(t=e[o],!(a<=(e[o]+(e[o+1]||e[o]))/2));o++);return t*=n}function l(){this.color=0,this.symbol=0}function g(t,n){var i,e,a=t.length;for(e=0;e<a;e++)t[e].ss_i=e;for(t.sort(function(t,e){return 0===(i=n(t,e))?t.ss_i-e.ss_i:i}),e=0;e<a;e++)delete t[e].ss_i}function N(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function G(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function r(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function s(t){w||(w=R(Gt)),t&&w.appendChild(t),w.innerHTML=""}function H(t,e){var n="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw n;ft.console&&console.log(n)}function z(t){return parseFloat(t.toPrecision(14))}function v(t,e){V=$(t,e.animation)}function n(){var t=X.global.useUTC,e=t?"getUTC":"get",n=t?"setUTC":"set";K=6e4*(t&&X.global.timezoneOffset||0),Z=t?Date.UTC:function(t,e,n,i,a,o){return new Date(t,e,$(n,1),$(i,0),$(a,0),$(o,0)).getTime()},tt=e+"Minutes",et=e+"Hours",nt=e+"Day",it=e+"Date",at=e+"Month",ot=e+"FullYear",rt=n+"Minutes",st=n+"Hours",lt=n+"Date",ct=n+"Month",dt=n+"FullYear"}function i(t){return X=P(!0,X,t),n(),X}function o(){return X}function B(){}function q(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function c(){this.init.apply(this,arguments)}function m(){this.init.apply(this,arguments)}function W(t,e,n,i,a){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=a,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:$(e.y,o?4:n?14:-6),x:$(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var U,b,x,w,X,C,V,Y,J,Q,Z,K,tt,et,nt,it,at,ot,rt,st,lt,ct,dt,ut,ht=document,ft=window,pt=Math,gt=pt.round,mt=pt.floor,yt=pt.ceil,vt=pt.max,bt=pt.min,xt=pt.abs,wt=pt.cos,Ct=pt.sin,_t=pt.PI,St=2*_t/360,Tt=navigator.userAgent,kt=ft.opera,Dt=/msie/i.test(Tt)&&!kt,At=8===ht.documentMode,It=/AppleWebKit/.test(Tt),Pt=/Firefox/.test(Tt),Lt=/(Mobile|Android|Windows Phone)/.test(Tt),jt="http://www.w3.org/2000/svg",Ft=!!ht.createElementNS&&!!ht.createElementNS(jt,"svg").createSVGRect,Mt=Pt&&parseInt(Tt.split("Firefox/")[1],10)<4,Et=!Ft&&!Dt&&!!ht.createElement("canvas").getContext,Rt={},Ot=0,Nt=function(){},Ht=[],zt=0,Bt="Highcharts",$t="4.0.1",Gt="div",qt="absolute",Wt="relative",Ut="hidden",Xt="highcharts-",Vt="visible",Yt="px",Jt="none",Qt="M",Zt="L",Kt=/^[0-9]+$/,te="",ee="hover",ne="select",ie="millisecond",ae="second",oe="minute",re="hour",se="day",le="week",ce="month",de="year",ue="stroke-width",he={},fe=ft.Highcharts=ft.Highcharts?H(16,!0):{};C=function(t,e,n){if(!F(e)||isNaN(e))return"Invalid date";t=$(t,"%Y-%m-%d %H:%M:%S");var i,a=new Date(e-K),o=a[et](),r=a[nt](),s=a[it](),l=a[at](),c=a[ot](),d=X.lang,u=d.weekdays,h=I({a:u[r].substr(0,3),A:u[r],d:f(s),e:s,b:d.shortMonths[l],B:d.months[l],m:f(l+1),y:c.toString().substr(2,2),Y:c,H:f(o),I:f(o%12||12),l:o%12||12,M:f(a[tt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:f(a.getSeconds()),L:f(gt(e%1e3),3)},fe.dateFormats);for(i in h)for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof h[i]?h[i](e):h[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},l.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},J=t(ie,1,ae,1e3,oe,6e4,re,36e5,se,864e5,le,6048e5,ce,26784e5,de,31556952e3),Y={init:function(t,e,n){e=e||"";var i,a,o,r,s,l=t.shift,c=-1<e.indexOf("C"),d=c?7:3,u=e.split(" "),h=[].concat(n),f=function(t){for(o=t.length;o--;)t[o]===Qt&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(c&&(f(u),f(h)),t.isArea&&(r=u.splice(u.length-6,6),s=h.splice(h.length-6,6)),l<=h.length/d&&u.length===h.length)for(;l--;)h=[].concat(h).splice(0,d).concat(h);if(t.shift=0,u.length)for(i=h.length;u.length<i;)a=[].concat(u).splice(u.length-d,d),c&&(a[d-6]=a[d-2],a[d-5]=a[d-1]),u=u.concat(a);return r&&(u=u.concat(r),h=h.concat(s)),[u,h]},step:function(t,e,n,i){var a,o=[],r=t.length;if(1===n)o=i;else if(r===e.length&&n<1)for(;r--;)a=parseFloat(t[r]),o[r]=isNaN(a)?t[r]:n*parseFloat(e[r]-a)+a;else o=e;return o}},ut=ft.jQuery,ft.HighchartsAdapter=ft.HighchartsAdapter||ut&&{init:function(i){var t,e=ut.fx,o=e.step,r=ut.Tween,s=r&&r.propHooks,n=ut.cssHooks.opacity;ut.extend(ut.easing,{easeOutQuad:function(t,e,n,i,a){return-i*(e/=a)*(e-2)+n}}),ut.each(["cur","_default","width","height","opacity"],function(n,i){var a,t=o
;"cur"===i?t=e.prototype:"_default"===i&&r&&(t=s[i],i="set"),(a=t[i])&&(t[i]=function(t){var e;if("align"!==(t=n?t:this).prop)return(e=t.elem).attr?e.attr(t.prop,"cur"===i?U:t.now):a.apply(this,arguments)})}),a(n,"get",function(t,e,n){return e.attr?e.opacity||0:t.call(this,e,n)}),t=function(t){var e,n=t.elem;t.started||(e=i.init(n,n.d,n.toD),t.start=e[0],t.end=e[1],t.started=!0),n.attr("d",i.step(t.start,t.end,t.pos,n.toD))},r?s.d={set:t}:o.d=t,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var n=0,i=t.length;n<i;n++)if(!1===e.call(t[n],t[n],n,t))return n},ut.fn.highcharts=function(){var t,e,n="Chart",i=arguments;return this[0]&&(_(i[0])&&(n=i[0],i=Array.prototype.slice.call(i,1)),(t=i[0])!==U&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new fe[n](t,i[1]),e=this),t===U&&(e=Ht[L(this[0],"data-highcharts-chart")])),e}},getScript:ut.getScript,inArray:ut.inArray,adapterRun:function(t,e){return ut(t)[e]()},grep:ut.grep,map:function(t,e){for(var n=[],i=0,a=t.length;i<a;i++)n[i]=e.call(t[i],t[i],i,t);return n},offset:function(t){return ut(t).offset()},addEvent:function(t,e,n){ut(t).bind(e,n)},removeEvent:function(t,e,n){var i=ht.removeEventListener?"removeEventListener":"detachEvent";ht[i]&&t&&!t[i]&&(t[i]=function(){}),ut(t).unbind(e,n)},fireEvent:function(t,e,n,i){var a,o=ut.Event(e),r="detached"+e;!Dt&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),I(o,n),t[e]&&(t[r]=t[e],t[e]=null),ut.each(["preventDefault","stopPropagation"],function(t,e){var n=o[e];o[e]=function(){try{n.call(o)}catch(t){"preventDefault"===e&&(a=!0)}}}),ut(t).trigger(o),t[r]&&(t[e]=t[r],t[r]=null),!i||o.isDefaultPrevented()||a||i(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===U&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,e,n){var i=ut(t);t.style||(t.style={}),e.d&&(t.toD=e.d,e.d=1),i.stop(),e.opacity!==U&&t.attr&&(e.opacity+="px"),i.animate(e,n)},stop:function(t){ut(t).stop()}};var pe=ft.HighchartsAdapter,ge=pe||{};pe&&pe.init.call(pe,Y);var me=ge.adapterRun,ye=ge.getScript,ve=ge.inArray,be=ge.each,xe=ge.grep,we=ge.offset,Ce=ge.map,_e=ge.addEvent,Se=ge.removeEvent,Te=ge.fireEvent,ke=ge.washMouseEvent,De=ge.animate,Ae=ge.stop,Ie={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}},Pe=(X={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:P(Ie,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":h(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:qt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:qt,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Wt,top:"1em"},style:{position:qt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ft,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Lt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,Le=Pe.line;n();var je=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Fe=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Me=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Ee=function(t){function e(t){t&&t.stops?r=Ce(t.stops,function(t){return Ee(t[1])}):(o=je.exec(t))?s=[S(o[1]),S(o[2]),S(o[3]),parseFloat(o[4],10)]:(o=Fe.exec(t))?s=[S(o[1],16),S(o[2],16),S(o[3],16),1]:(o=Me.exec(t))&&(s=[S(o[1]),S(o[2]),S(o[3]),1])}function n(n){var i;return r?((i=P(t)).stops=[].concat(i.stops),be(r,function(t,e){i.stops[e]=[i.stops[e][0],t.get(n)]})):i=s&&!isNaN(s[0])?"rgb"===n?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===n?s[3]:"rgba("+s.join(",")+")":t,i}function i(e){if(r)be(r,function(t){t.brighten(e)});else if(k(e)&&0!==e){var t;for(t=0;t<3;t++)s[t]+=S(255*e),s[t]<0&&(s[t]=0),255<s[t]&&(s[t]=255)}return this}function a(t){return s[3]=t,this}var o,r,s=[];return e(t),{get:n,brighten:i,rgba:s,setOpacity:a}};B.prototype={init:function(t,e){var n=this;n.element="span"===e?R(e):ht.createElementNS(jt,e),n.renderer=t},opacity:1,animate:function(t,e,n){var i=$(e,V,!0);Ae(this),i?(i=P(i,{}),n&&(i.complete=n),De(this,t,i)):(this.attr(t),n&&n())},colorGradient:function(t,e,n){var i,a,o,r,s,l,c,d,u,h,f,p=this.renderer,g=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){for(h in o=t[a],r=p.gradients,l=t.stops,u=n.radialReference,T(o)&&(t[a]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&u&&!F(o.gradientUnits)&&(o=P(o,{cx:u[0]-u[2]/2+o.cx*u[2],cy:u[1]-u[2]/2+o.cy*u[2],r:o.r*u[2],gradientUnits:"userSpaceOnUse"})),o)"id"!==h&&g.push(h,o[h]);for(h in l)g.push(l[h]);r[g=g.join(",")]?f=r[g].attr("id"):(o.id=f=Xt+Ot++,r[g]=s=p.createElement(a).attr(o).add(p.defs),s.stops=[],be(l,function(t){var e;0===t[1].indexOf("rgba")?(i=Ee(t[1]),c=i.get("rgb"),d=i.get("a")):(c=t[1],d=1),e=p.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":d}).add(s),s.stops.push(e)})),n.setAttribute(e,"url("+p.url+"#"+f+")")}},attr:function(t,e){var n,i,a,o,r=this.element,s=this;if("string"==typeof t&&e!==U&&(n=t,(t={})[n]=e),"string"==typeof t)s=(this[t+"Getter"]||this._defaultGetter).call(this,t,r);else{for(n in t)i=t[n],o=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(a||(this.symbolAttr(t),a=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(this[n+"Setter"]||this._defaultSetter).call(this,i,n,r),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(t,e){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(t,"height"===t?vt(e-(n[i].cutHeight||0),0):"d"===t?this.d:e)},addClass:function(t){var e=this.element,n=L(e,"class")||"";return-1===n.indexOf(t)&&L(e,"class",n+" "+t),this},symbolAttr:function(e){var n=this;be(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(t){n[t]=$(e[t],n[t])}),n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Jt)},crisp:function(t){var e,n,i=this,a={},o=t.strokeWidth||i.strokeWidth||i.attr&&i.attr("stroke-width")||0;for(e in n=gt(o)%2/2,t.x=mt(t.x||i.x||0)+n,t.y=mt(t.y||i.y||0)+n,t.width=mt((t.width||i.width||0)-2*n),t.height=mt((t.height||i.height||0)-2*n),t.strokeWidth=o,t)i[e]!==t[e]&&(i[e]=a[e]=t[e]);return a},css:function(t){var e,n,i,a=this,o=a.styles,r={},s=a.element,l="",c=!o;if(t&&t.color&&(t.fill=t.color),o)for(n in t)t[n]!==o[n]&&(r[n]=t[n],c=!0);if(c){if(e=a.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&S(t.width),o&&(t=I(o,r)),a.styles=t,e&&(Et||!Ft&&a.renderer.forExport)&&delete t.width,Dt&&!Ft)j(a.element,t);else{for(n in i=function(t,e){return"-"+e.toLowerCase()},t)l+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";L(s,"style",l)}e&&a.added&&a.renderer.buildText(a)}return a},on:function(t,e){var n=this,i=n.element;return x&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===Tt.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,a=e.scaleX,o=e.scaleY,r=e.inverted,s=e.rotation,l=e.element;r&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],r?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(F(a)||F(o))&&t.push("scale("+$(a,1)+" "+$(o,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,a,o,r,s,l={},c=this.renderer,d=c.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,n&&!_(n)||(this.alignTo=s=n||"renderer",u(d,this),d.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,s=this.alignTo),n=$(n,c[s],c),i=t.align,a=t.verticalAlign,o=(n.x||0)+(t.x||0),r=(n.y||0)+(t.y||0),"right"!==i&&"center"!==i||(o+=(n.width-(t.width||0))/{right:1,center:2}[i]),l[e?"translateX":"x"]=gt(o),"bottom"!==a&&"middle"!==a||(r+=(n.height-(t.height||0))/({bottom:1,middle:2}[a]||1)),l[e?"translateY":"y"]=gt(r),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var t,e,n,i=this,a=i.bBox,o=i.renderer,r=i.rotation,s=i.element,l=i.styles,c=r*St,d=i.textStr;if((""===d||Kt.test(d))&&(n="num."+d.toString().length+(l?"|"+l.fontSize+"|"+l.fontFamily:"")),n&&(a=o.cache[n]),!a){if(s.namespaceURI===jt||o.forExport){try{a=s.getBBox?I({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight}}catch(u){}(!a||a.width<0)&&(a={width:0,height:0})}else a=i.htmlGetBBox();o.isSVG&&(t=a.width,e=a.height,Dt&&l&&"11px"===l.fontSize&&"16.9"===e.toPrecision(3)&&(a.height=e=14),r&&(a.width=xt(e*Ct(c))+xt(t*wt(c)),a.height=xt(e*wt(c))+xt(t*Ct(c)))),i.bBox=a,n&&(o.cache[n]=a)}return a},show:function(t){return t&&this.element.namespaceURI===jt?(this.element.removeAttribute("visibility"),this):this.attr({visibility:t?"inherit":Vt})},hide:function(){return this.attr({visibility:Ut})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,n,i,a,o,r=this.renderer,s=t||r,l=s.element||r.box,c=this.element,d=this.zIndex;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,this.textStr!==undefined&&r.buildText(this),d&&(s.handleZ=!0,d=S(d)),s.handleZ)for(e=l.childNodes,a=0;a<e.length;a++)if(i=L(n=e[a],"zIndex"),n!==c&&(S(i)>d||!F(d)&&F(i))){l.insertBefore(c,n),o=!0;break}return o||l.appendChild(c),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,a=i.element||{},o=i.shadows,r=i.renderer.isSVG&&"SPAN"===a.nodeName&&i.parentGroup;if(a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=a.point=null,Ae(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(a),o&&be(o,function(t){i.safeRemoveChild(t)});r&&0===r.div.childNodes.length;)t=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=t;for(e in i.alignTo&&u(i.renderer.alignedObjects,i),i)delete i[e];return null},shadow:function(t,e,n){var i,a,o,r,s,l,c=[],d=this.element;if(t){for(r=$(t.width,3),s=(t.opacity||.15)/r,l=this.parentInverted?"(-1,-1)":"("+$(t.offsetX,1)+", "+$(t.offsetY,1)+")",i=1;i<=r;i++)o=2*r+1-2*i,L(a=d.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:Jt}),n&&(L(a,"height",vt(L(a,"height")-o,0)),a.cutHeight=o),e?e.element.appendChild(a):d.parentNode.insertBefore(a,d),c.push(a);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=$(this[t],this.element?this.element.getAttribute(t):null,0);return/^[0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e;if(t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=S(t[e])*this.element.getAttribute("stroke-width");t=t.join(","),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},"stroke-widthSetter":function(t,e,n){0===t&&(t=1e-5),this.strokeWidth=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=ht.createElementNS(jt,"title"),this.element.appendChild(e)),e.textContent=t},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},zIndexSetter:function(t,e,n){n.setAttribute(e,t),this[e]=t},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},B.prototype.yGetter=B.prototype.xGetter,B.prototype.translateXSetter=B.prototype.translateYSetter=B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},B.prototype.strokeSetter=B.prototype.fillSetter;var Re,Oe,Ne,He,ze=function(){this.init.apply(this,arguments)};if(ze.prototype={Element:B,init:function(t,e,n,i,a){var o,r,s,l,c=this,d=location;r=(o=c.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i))).element,t.appendChild(r),-1===t.innerHTML.indexOf("xmlns")&&L(r,"xmlns",jt),c.isSVG=!0,c.box=r,c.boxWrapper=o,c.alignedObjects=[],c.url=(Pt||It)&&ht.getElementsByTagName("base").length?d.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ht.createTextNode("Created with "+Bt+" "+$t)),c.defs=this.createElement("defs").add(),c.forExport=a,c.gradients={},c.cache={},c.setSize(e,n,!1),Pt&&t.getBoundingClientRect&&(c.subPixelFix=s=function(){j(t,{left:0,top:0}),l=t.getBoundingClientRect(),j(t,{left:yt(l.left)-l.left+Yt,top:yt(l.top)-l.top+Yt})},s(),_e(ft,"resize",s))},getStyle:function(t){return this.style=I({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),r(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&Se(ft,"resize",t.subPixelFix),t.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(p){for(var t,g,m,y=p.element,v=this,b=v.forExport,e=$(p.textStr,"").toString(),n=-1!==e.indexOf("<"),i=y.childNodes,x=L(y,"x"),w=p.styles,C=p.textWidth,a=w&&w.lineHeight,o=i.length,_=function(t){return a?S(a):v.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w&&w.fontSize||v.style.fontSize||12).h};o--;)y.removeChild(i[o]);n||-1!==e.indexOf(" ")?(g=/<.*style="([^"]+)".*>/,m=/<.*href="(http[^"]+)".*>/,C&&!p.added&&this.box.appendChild(y),""===(t=n?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e])[t.length-1]&&t.pop(),be(t,function(t,u){var h,f=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),h=t.split("|||"),be(h,function(t){if(""!==t||1===h.length){var e,n={},i=ht.createElementNS(jt,"tspan");if(g.test(t)&&L(i,"style",e=t.match(g)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),m.test(t)&&!b&&(L(i,"onclick",'location.href="'+t.match(m)[1]+'"'),j(i,{cursor:"pointer"}))," "!==(t=(t.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))&&(i.appendChild(ht.createTextNode(t)),f?n.dx=0:u&&null!==x&&(n.x=x),L(i,n),!f&&u&&(!Ft&&b&&j(i,{display:"block"}),L(i,"dy",_(i),It&&i.offsetHeight)),y.appendChild(i),f++,C))for(var a,o=t.replace(/([^\^])-/g,"$1- ").split(" "),r=1<o.length&&"nowrap"!==w.whiteSpace,s=p._clipHeight,l=[],c=_(),d=1;r&&(o.length||l.length);)delete p.bBox,a=p.getBBox().width,!Ft&&v.forExport&&(a=v.measureSpanWidth(i.firstChild.data,p.styles)),C<a&&1!==o.length?(i.removeChild(i.firstChild),l.unshift(o.pop())):(o=l,l=[],o.length&&(s&&s<++d*c?(o=["..."],p.attr("title",p.textStr)):(L(i=ht.createElementNS(jt,"tspan"),{dy:c,x:x}),e&&L(i,"style",e),y.appendChild(i),C<a&&(C=a)))),o.length&&i.appendChild(ht.createTextNode(o.join(" ").replace(/- /g,"-")))}})})):y.appendChild(ht.createTextNode(e))},button:function(t,e,n,i,a,o,r,s,l){var c,d,u,h,f,p,g=this.label(t,e,n,l,null,null,null,null,"button"),m=0,y={x1:0,y1:0,x2:0,y2:1};return a=P({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a),u=a.style,delete a.style,o=P(a,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),h=o.style,delete o.style,r=P(a,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},r),f=r.style,delete r.style,s=P(a,{style:{color:"#CCC"}},s),p=s.style,delete s.style,_e(g.element,Dt?"mouseover":"mouseenter",function(){3!==m&&g.attr(o).css(h)}),_e(g.element,Dt?"mouseout":"mouseleave",function(){3!==m&&(c=[a,o,r][m],d=[u,h,f][m],g.attr(c).css(d))}),g.setState=function(t){g.state=m=t,t?2===t?g.attr(r).css(f):3===t&&g.attr(s).css(p):g.attr(a).css(u)},g.on("click",function(){3!==m&&i.call(g)}).attr(a).css(I({cursor:"default"},u))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=gt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=gt(t[2])+e%2/2),t},path:function(t){var e={fill:Jt};return T(t)?e.d=t:d(t)&&I(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){var i=d(t)?t:{x:t,y:e,r:n},a=this.createElement("circle");return a.xSetter=function(t){this.element.setAttribute("cx",t)},a.ySetter=function(t){this.element.setAttribute("cy",t)},a.attr(i)},arc:function(t,e,n,i,a,o){var r;return d(t)&&(e=t.y,n=t.r,i=t.innerR,a=t.start,o=t.end,t=t.x),(r=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:a||0,end:o||0})).r=n,r},rect:function(t,e,n,i,a,o){a=d(t)?t.r:a;var r=this.createElement("rect"),s=d(t)?t:t===U?{}:{x:t,y:e,width:vt(n,0),height:vt(i,0)};return o!==U&&(s.strokeWidth=o,s=r.crisp(s)),a&&(s.r=a),r.rSetter=function(t){L(this.element,{rx:t,ry:t})},r.attr(s)},setSize:function(t,e,n){var i=this,a=i.alignedObjects,o=a.length;for(i.width=t,i.height=e,i.boxWrapper[$(n,!0)?"animate":"attr"]({width:t,height:e});o--;)a[o].align()},g:function(t){var e=this.createElement("g");return F(t)?e.attr({"class":Xt+t}):e},image:function(t,e,n,i,a){var o,r={preserveAspectRatio:Jt};return 1<arguments.length&&I(r,{x:e,y:n,width:i,height:a}),(o=this.createElement("image").attr(r)).element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,a,o){var r,s,l,c,d=this.symbols[t],u=d&&d(gt(e),gt(n),i,a,o),h=/^url\((.*?)\)$/;return u?(I(r=this.path(u),{symbolName:t,x:e,y:n,width:i,height:a}),o&&I(r,o)):h.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(gt((i-e[0])/2),gt((a-e[1])/2)))},s=t.match(h)[1],l=Rt[s],(r=this.image(s).attr({x:e,y:n})).isImg=!0,l?c(r,l):(r.attr({width:0,height:0}),R("img",{onload:function(){c(r,Rt[s]=[this.width,this.height])},src:s}))),r},symbols:{circle:function(t,e,n,i){var a=.166*n;return[Qt,t+n/2,e,"C",t+n+a,e,t+n+a,e+i,t+n/2,e+i,"C",t-a,e+i,t-a,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[Qt,t,e,Zt,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[Qt,t+n/2,e,Zt,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[Qt,t,e,Zt,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[Qt,t+n/2,e,Zt,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,a){var o=a.start,r=a.r||n||i,s=a.end-.001,l=a.innerR,c=a.open,d=wt(o),u=Ct(o),h=wt(s),f=Ct(s),p=a.end-o<_t?0:1;return[Qt,t+r*d,e+r*u,"A",r,r,0,p,1,t+r*h,e+r*f,c?Qt:Zt,t+l*h,e+l*f,"A",l,l,0,p,0,t+l*d,e+l*u,c?"":"Z"]},callout:function(t,e,n,i,a){var o,r=6,s=6,l=bt(a&&a.r||0,n,i),c=l+s,d=a&&a.anchorX,u=a&&a.anchorY,h=gt(a.strokeWidth||0)%2/2;return o=["M",(t+=h)+l,e+=h,"L",t+n-l,e,"C",t+n,e,t+n,e,t+n,e+l,"L",t+n,e+i-l,"C",t+n,e+i,t+n,e+i,t+n-l,e+i,"L",t+l,e+i,"C",t,e+i,t,e+i,t,e+i-l,"L",t,e+l,"C",t,e,t,e,t+l,e],d&&n<d&&e+c<u&&u<e+i-c?o.splice(13,3,"L",t+n,u-s,t+n+r,u,t+n,u+s,t+n,e+i-l):d&&d<0&&e+c<u&&u<e+i-c?o.splice(33,3,"L",t,u+s,t-r,u,t,u-s,t,e+l):u&&i<u&&t+c<d&&d<t+n-c?o.splice(23,3,"L",d+s,e+i,d,e+i+r,d-s,e+i,t+l,e+i):u&&u<0&&t+c<d&&d<t+n-c&&o.splice(3,3,"L",d-s,e,d,e-r,d+s,e,n-l,e),o}},clipRect:function(t,e,n,i){var a,o=Xt+Ot++,r=this.createElement("clipPath").attr({id:o}).add(this.defs);return(a=this.rect(t,e,n,i,0).add(r)).id=o,a.clipPath=r,a},text:function(t,e,n,i){var a,o=this,r=Et||!Ft&&o.forExport,s={};return i&&!o.forExport?o.html(t,e,n):(s.x=Math.round(e||0),n&&(s.y=Math.round(n)),(t||0===t)&&(s.text=t),a=o.createElement("text").attr(s),r&&a.css({position:qt}),i||(a.xSetter=function(t,e,n){var i,a,o=n.childNodes;for(a=1;a<o.length;a++)(i=o[a]).getAttribute("x")===n.getAttribute("x")&&i.setAttribute("x",t);n.setAttribute(e,t)}),a)},fontMetrics:function(t){t=t||this.style.fontSize;var e=(t=/px/.test(t)?S(t):/em/.test(t)?12*parseFloat(t):12)<24?t+4:gt(1.2*t);return{h:e,b:gt(.8*e)}},label:function(t,e,n,i,a,o,r,s,l){function c(){var t,e,n=C.element.style;f=(p===undefined||g===undefined||w.styles.textAlign)&&C.textStr&&C.getBBox(),w.width=(p||f.width||0)+2*S+T,w.height=(g||f.height||0)+2*S,v=S+x.fontMetrics(n&&n.fontSize).b,b&&(h||(t=gt(-_*S),e=s?-v:0,w.box=h=i?x.symbol(i,t,e,w.width,w.height,D):x.rect(t,e,w.width,w.height,0,D[ue]),h.attr("fill",Jt).add(w)),h.isImg||h.attr(I({width:gt(w.width),height:gt(w.height)},D)),D=null)}function d(){var t,e=w.styles,n=e&&e.textAlign,i=T+S*(1-_);t=s?0:v,F(p)&&f&&("center"===n||"right"===n)&&(i+={center:.5,right:1}[n]*(p-f.width)),i===C.x&&t===C.y||(C.attr("x",i),t!==U&&C.attr("y",t)),C.x=i,C.y=t}function u(t,e){h?h.attr(t,e):D[t]=e}var h,f,p,g,m,y,v,b,x=this,w=x.g(l),C=x.text("",0,0,r).attr({zIndex:1}),_=0,S=3,T=0,k=0,D={};w.onAdd=function(){C.add(w),w.attr({text:t||"",x:e,y:n}),h&&F(a)&&w.attr({anchorX:a,anchorY:o})},w.widthSetter=function(t){p=t},w.heightSetter=function(t){g=t},w.paddingSetter=function(t){F(t)&&t!==S&&(S=t,d())},w.paddingLeftSetter=function(t){F(t)&&t!==T&&(T=t,d())},w.alignSetter=function(t){_={left:0,center:.5,right:1}[t]},w.textSetter=function(t){t!==U&&C.textSetter(t),c(),d()},w["stroke-widthSetter"]=function(t,e){t&&(b=!0),k=t%2/2,u(e,t)},w.strokeSetter=w.fillSetter=w.rSetter=function(t,e){"fill"===e&&t&&(b=!0),u(e,t)},w.anchorXSetter=function(t,e){u(e,(a=t)+k-m)},w.anchorYSetter=function(t,e){u(e,(o=t)-y)},w.xSetter=function(t){w.x=t,_&&(t-=_*((p||f.width)+S)),m=gt(t),w.attr("translateX",m)},w.ySetter=function(t){y=w.y=gt(t),w.attr("translateY",y)};var A=w.css;return I(w,{css:function(e){if(e){var n={};e=P(e),be(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(t){e[t]!==U&&(n[t]=e[t],delete e[t])}),C.css(n)}return A.call(w,e)},getBBox:function(){return{width:f.width+2*S,height:f.height+2*S,x:f.x-S,y:f.y-S}},shadow:function(t){return h&&h.shadow(t),w},destroy:function(){Se(w.element,"mouseenter"),Se(w.element,"mouseleave"),C&&(C=C.destroy()),h&&(h=h.destroy()),B.prototype.destroy.call(w),w=x=c=d=u=null}})}},b=ze,I(B.prototype,{htmlCss:function(t){var e=this,n=e.element,i=t&&"SPAN"===n.tagName&&t.width;return i&&(delete t.width,e.textWidth=i,e.updateTransform()),e.styles=I(e.styles,t),j(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element,n=t.bBox;return n||("text"===e.nodeName&&(e.style.position=qt),n=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),n},htmlUpdateTransform:function(){if(this.added){var t=this,e=t.renderer,n=t.element,i=t.translateX||0,a=t.translateY||0,o=t.x||0,r=t.y||0,s=t.textAlign||"left",l={left:0,center:.5,right:1}[s],c=t.shadows;if(j(n,{marginLeft:i,marginTop:a}),c&&be(c,function(t){j(t,{marginLeft:i+1,marginTop:a+1})}),t.inverted&&be(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var d,u,h=t.rotation,f=S(t.textWidth),p=[h,s,n.innerHTML,t.textWidth].join(",");p!==t.cTT&&(u=e.fontMetrics(n.style.fontSize).b,F(h)&&t.setSpanRotation(h,l,u),f<(d=$(t.elemWidth,n.offsetWidth))&&/[ \-]/.test(n.textContent||n.innerText)&&(j(n,{width:f+Yt,display:"block",whiteSpace:"normal"}),d=f),t.getSpanCorrection(d,u,l,h,s)),j(n,{left:o+(t.xCorr||0)+Yt,top:r+(t.yCorr||0)+Yt}),It&&(u=n.offsetHeight),t.cTT=p}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var i={},a=Dt?"-ms-transform":It?"-webkit-transform":Pt?"MozTransform":kt?"-o-transform":"";i[a]=i.transform="rotate("+t+"deg)",i[a+(Pt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",j(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),I(ze.prototype,{html:function(t,e,n){var o=this.createElement("span"),r=o.element,s=o.renderer;return o.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t},o.xSetter=o.ySetter=o.alignSetter=o.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform()},o.attr({text:t,x:gt(e),y:gt(n)}).css({position:qt,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.css=o.htmlCss,s.isSVG&&(o.add=function(t){var e,n,a=s.box.parentNode,i=[];if(this.parentGroup=t){if(!(e=t.div)){for(n=t;n;)i.push(n),n=n.parentGroup;be(i.reverse(),function(n){var i;e=n.div=n.div||R(Gt,{className:L(n.element,"class")},{position:qt,left:(n.translateX||0)+Yt,top:(n.translateY||0)+Yt},e||a),i=e.style,I(n,{translateXSetter:function(t,e){i.left=t+Yt,n[e]=t,n.doTransform=!0},translateYSetter:function(t,e){i.top=t+Yt,n[e]=t,n.doTransform=!0},visibilitySetter:function(t,e){i[e]=t}})})}}else e=a;return e.appendChild(r),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o}}),!Ft&&!Et){fe.VMLElement=Oe={init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],a=["position: ",qt,";"],o=e===Gt;("shape"===e||o)&&a.push("left:0;top:0;width:1px;height:1px;"),a.push("visibility: ",o?Ut:Vt),i.push(' style="',a.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=R(i)),n.renderer=t},add:function(t){var e=this,n=e.renderer,i=e.element,a=n.box,o=t&&t.inverted,r=t?t.element||t:a;return o&&n.invertChild(i,r),r.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:B.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=wt(t*St),n=Ct(t*St);j(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):Jt})},getSpanCorrection:function(t,e,n,i,a){var o,r=i?wt(i*St):1,s=i?Ct(i*St):0,l=$(this.elemHeight,this.element.offsetHeight),c=a&&"left"!==a;this.xCorr=r<0&&-t,this.yCorr=s<0&&-l,o=r*s<0,this.xCorr+=s*e*(o?1-n:n),this.yCorr-=r*e*(i?o?n:1-n:1),c&&(this.xCorr-=t*n*(r<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),j(this.element,{textAlign:a}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)k(t[e])?n[e]=gt(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n,i=this;return t?(u(e=t.members,i),e.push(i),i.destroyClip=function(){u(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:At?"inherit":"rect(auto)"}),i.css(n)},css:B.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&s(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),B.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ft.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return 9!==(n=(t=t.split(/[ ,]/)).length)&&11!==n||(t[n-4]=t[n-2]=S(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var i,a,o,r,s,l,c,d=[],u=this.element,h=this.renderer,f=u.style,p=u.path;if(p&&"string"!=typeof p.value&&(p="x"),s=p,t){for(l=$(t.width,3),c=(t.opacity||.15)/l,i=1;i<=3;i++)r=2*l+1-2*i,n&&(s=this.cutOffPath(p.value,r+.5)),o=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',s,'" coordsize="10 10" style="',u.style.cssText,'" />'],a=R(h.prepVML(o),null,{left:S(f.left)+$(t.offsetX,1),top:S(f.top)+$(t.offsetY,1)}),n&&(a.cutOff=r+1),o=['<stroke color="',t.color||"black",'" opacity="',c*i,'"/>'],R(h.prepVML(o),null,null,a),e?e.element.appendChild(a):u.parentNode.insertBefore(a,u),d.push(a);this.shadows=d}return this},updateShadows:Nt,setAttr:function(t,e){At?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||R(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i,a=this.shadows;if(t=t||[],this.d=t.join(" "),n.path=t=this.pathToVML(t),a)for(i=a.length;i--;)a[i].path=a[i].cutOff?this.cutOffPath(t,a[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled=t!==Jt,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},opacitySetter:Nt,rotationSetter:function(t,e,n){var i=n.style;this[e]=i[e]=t,i.left=-gt(Ct(t*St)+1)+Yt,i.top=gt(wt(t*St))+Yt},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,k(this[e]=t)&&(t+=Yt),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(e,n,t){"inherit"===e&&(e=Vt),this.shadows&&be(this.shadows,function(t){t.style[n]=e}),"DIV"===t.nodeName&&(e=e===Ut?"-999em":0,At||(t.style[n]=e?Vt:Ut),n="top"),t.style[n]=e},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},(Oe=e(B,Oe)).prototype.ySetter=Oe.prototype.widthSetter=Oe.prototype.heightSetter=Oe.prototype.xSetter;var Be={Element:Oe,isIE8:-1<Tt.indexOf("MSIE 8.0"),init:function(t,e,n,i){var a,o,r,s=this;if(s.alignedObjects=[],o=(a=s.createElement(Gt).css(I(this.getStyle(i),{position:Wt}))).element,t.appendChild(a.element),s.isVML=!0,s.box=o,s.boxWrapper=a,s.cache={},s.setSize(e,n,!1),
!ht.namespaces.hcv){ht.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),r="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{ht.createStyleSheet().cssText=r}catch(l){ht.styleSheets[0].cssText+=r}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var a=this.createElement(),o=d(t);return I(a,{members:[],left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=t.element,n=e.nodeName,i="shape"===n,a=t.inverted,o=this,r=o.top-(i?e.offsetTop:0),s=o.left,l=s+o.width,c=r+o.height,d={clip:"rect("+gt(a?s:r)+"px,"+gt(a?c:l)+"px,"+gt(a?l:c)+"px,"+gt(a?r:s)+"px)"};return!a&&At&&"DIV"===n&&I(d,{width:l+Yt,height:c+Yt}),d},updateClipping:function(){be(a.members,function(t){t.element&&t.css(a.getCSS(t))})}})},color:function(t,e,n,i){var a,o,r,s=this,l=/^rgba/,c=Jt;if(t&&t.linearGradient?r="gradient":t&&t.radialGradient&&(r="pattern"),r){var d,u,h,f,p,g,m,y,v,b,x,w,C=t.linearGradient||t.radialGradient,_="",S=t.stops,T=[],k=function(){o=['<fill colors="'+T.join(",")+'" opacity="',y,'" o:opacity2="',m,'" type="',r,'" ',_,'focus="100%" method="any" />'],R(s.prepVML(o),null,null,e)};if(x=S[0],w=S[S.length-1],0<x[0]&&S.unshift([0,x[1]]),w[0]<1&&S.push([1,w[1]]),be(S,function(t,e){l.test(t[1])?(a=Ee(t[1]),d=a.get("rgb"),u=a.get("a")):(d=t[1],u=1),T.push(100*t[0]+"% "+d),e?(y=u,v=d):(m=u,b=d)}),"fill"===n)if("gradient"===r)h=C.x1||C[0]||0,f=C.y1||C[1]||0,p=C.x2||C[2]||0,g=C.y2||C[3]||0,_='angle="'+(90-180*pt.atan((g-f)/(p-h))/_t)+'"',k();else{var D,A=C.r,I=2*A,P=2*A,L=C.cx,j=C.cy,F=e.radialReference,M=function(){F&&(D=i.getBBox(),L+=(F[0]-D.x)/D.width-.5,j+=(F[1]-D.y)/D.height-.5,I*=F[2]/D.width,P*=F[2]/D.height),_='src="'+X.global.VMLRadialGradientURL+'" size="'+I+","+P+'" origin="0.5,0.5" position="'+L+","+j+'" color2="'+b+'" ',k()};i.added?M():i.onAdd=M,c=v}else c=d}else if(l.test(t)&&"IMG"!==e.tagName)a=Ee(t),o=["<",n,' opacity="',a.get("a"),'"/>'],R(this.prepVML(o),null,null,e),c=a.get("rgb");else{var E=e.getElementsByTagName(n);E.length&&(E[0].opacity=1,E[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),t=n?-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e):t.replace("<","<hcv:")},text:ze.prototype.html,path:function(t){var e={coordsize:"10 10"};return T(t)?e.d=t:d(t)&&I(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return d(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:Xt+t,"class":Xt+t}),this.createElement(Gt).attr(e)},image:function(t,e,n,i,a){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:n,width:i,height:a}),o},createElement:function(t){return"rect"===t?this.symbol(t):ze.prototype.createElement.call(this,t)},invertChild:function(e,t){var n=this,i=t.style,a="IMG"===e.tagName&&e.style;j(e,{flip:"x",left:S(i.width)-(a?S(a.top):1),top:S(i.height)-(a?S(a.left):1),rotation:-90}),be(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(t,e,n,i,a){var o,r=a.start,s=a.end,l=a.r||n||i,c=a.innerR,d=wt(r),u=Ct(r),h=wt(s),f=Ct(s);return s-r==0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*d,e+l*u,t+l*h,e+l*f],a.open&&!c&&o.push("e",Qt,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*h,e+c*f,t+c*d,e+c*u,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,a){return a&&(n=i=2*a.r),a&&a.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,a){return ze.prototype.symbols[F(a)&&a.r?"callout":"square"].call(0,t,e,n,i,a)}}};fe.VMLRenderer=Re=function(){this.init.apply(this,arguments)},Re.prototype=P(ze.prototype,Be),b=Re}ze.prototype.measureSpanWidth=function(t,e){var n,i=ht.createElement("span"),a=ht.createTextNode(t);return i.appendChild(a),j(i,e),this.box.appendChild(i),n=i.offsetWidth,s(i),n},Et&&(fe.CanVGRenderer=Ne=function(){jt="http://www.w3.org/1999/xhtml"},Ne.prototype.symbols={},He=function(){function n(){var t,e=i.length;for(t=0;t<e;t++)i[t]();i=[]}var i=[];return{push:function(t,e){0===i.length&&ye(e,n),i.push(t)}}}(),b=Ne),q.prototype={addLabel:function(){var t,e,n,i,a=this,o=a.axis,r=o.options,s=o.chart,l=o.horiz,c=o.categories,d=o.names,u=a.pos,h=r.labels,f=o.tickPositions,p=l&&c&&!h.step&&!h.staggerLines&&!h.rotation&&s.plotWidth/f.length||!l&&(s.margin[3]||.33*s.chartWidth),g=u===f[0],m=u===f[f.length-1],y=c?$(c[u],d[u],u):u,v=a.label,b=f.info;o.isDatetimeAxis&&b&&(i=r.dateTimeLabelFormats[b.higherRanks[u]||b.unitName]),a.isFirst=g,a.isLast=m,t=o.labelFormatter.call({axis:o,chart:s,isFirst:g,isLast:m,dateTimeLabelFormat:i,value:o.isLog?z(A(y)):y}),e=I(e=p&&{width:vt(1,gt(p-2*(h.padding||10)))+Yt},h.style),F(v)?v&&v.attr({text:t}).css(e):(n={align:o.labelAlign},k(h.rotation)&&(n.rotation=h.rotation),p&&h.ellipsis&&(n._clipHeight=o.len/f.length),a.label=F(t)&&h.enabled?s.renderer.text(t,0,0,h.useHTML).attr(n).css(e).add(o.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,n=e.horiz,i=e.options.labels,a=n?t.width:t.height,o=n?i.x-a*{left:0,center:.5,right:1}[e.labelAlign]:0;return[o,n?a+o:a]},handleOverflow:function(t,e){var n,i,a,o,r,s=!0,l=this.axis,c=this.isFirst,d=this.isLast,u=l.horiz?e.x:e.y,h=l.reversed,f=l.tickPositions,p=this.getLabelSides(),g=p[0],m=p[1],y=this.label.line||0,v=l.labelEdge,b=l.justifyLabels&&(c||d);if(v[y]===U||u+g>v[y]?v[y]=u+m:b||(s=!1),b){for(n=(r=l.justifyToPlot)?l.pos:0,i=r?n+l.len:l.chart.chartWidth;t+=c?1:-1,a=l.ticks[f[t]],f[t]&&(!a||a.label.line!==y););o=a&&a.label.xy&&a.label.xy.x+a.getLabelSides()[c?0:1],c&&!h||d&&h?u+g<n&&(u=n-g,a&&o<u+m&&(s=!1)):i<u+m&&(u=i-m,a&&u+g<o&&(s=!1)),e.x=u}return s},getPosition:function(t,e,n,i){var a=this.axis,o=a.chart,r=i&&o.oldChartHeight||o.chartHeight;return{x:t?a.translate(e+n,null,null,i)+a.transB:a.left+a.offset+(a.opposite?(i&&o.oldChartWidth||o.chartWidth)-a.right-a.left:0),y:t?r-a.bottom+a.offset-(a.opposite?a.height:0):r-a.translate(e+n,null,null,i)-a.transB}},getLabelPosition:function(t,e,n,i,a,o,r,s){var l=this.axis,c=l.transA,d=l.reversed,u=l.staggerLines,h=l.chart.renderer.fontMetrics(a.style.fontSize).b,f=a.rotation;return t=t+a.x-(o&&i?o*c*(d?-1:1):0),e=e+a.y-(o&&!i?o*c*(d?1:-1):0),f&&2===l.side&&(e-=h-h*wt(f*St)),F(a.y)||f||(e+=h-n.getBBox().height/2),u&&(n.line=r/(s||1)%u,e+=n.line*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,n,i,a,o){return o.crispLine([Qt,t,e,Zt,t+(a?0:-n),e+(a?n:0)],i)},render:function(t,e,n){var i,a,o,r=this,s=r.axis,l=s.options,c=s.chart.renderer,d=s.horiz,u=r.type,h=r.label,f=r.pos,p=l.labels,g=r.gridLine,m=u?u+"Grid":"grid",y=u?u+"Tick":"tick",v=l[m+"LineWidth"],b=l[m+"LineColor"],x=l[m+"LineDashStyle"],w=l[y+"Length"],C=l[y+"Width"]||0,_=l[y+"Color"],S=l[y+"Position"],T=r.mark,k=p.step,D=!0,A=s.tickmarkOffset,I=r.getPosition(d,f,A,e),P=I.x,L=I.y,j=d&&P===s.pos+s.len||!d&&L===s.pos?-1:1;this.isActive=!0,v&&(i=s.getPlotLinePath(f+A,v*j,e,!0),g===U&&(o={stroke:b,"stroke-width":v},x&&(o.dashstyle=x),u||(o.zIndex=1),e&&(o.opacity=0),r.gridLine=g=v?c.path(i).attr(o).add(s.gridGroup):null),!e&&g&&i&&g[r.isNew?"attr":"animate"]({d:i,opacity:n})),C&&w&&("inside"===S&&(w=-w),s.opposite&&(w=-w),a=r.getMarkPath(P,L,w,C*j,d,c),T?T.animate({d:a,opacity:n}):r.mark=c.path(a).attr({stroke:_,"stroke-width":C,opacity:n}).add(s.axisGroup)),h&&!isNaN(P)&&(h.xy=I=r.getLabelPosition(P,L,h,d,p,A,t,k),r.isFirst&&!r.isLast&&!$(l.showFirstLabel,1)||r.isLast&&!r.isFirst&&!$(l.showLastLabel,1)?D=!1:s.isRadial||p.step||p.rotation||e||0===n||(D=r.handleOverflow(t,I)),k&&t%k&&(D=!1),D&&!isNaN(I.y)?(I.opacity=n,h[r.isNew?"attr":"animate"](I),r.isNew=!1):h.attr("y",-9999))},destroy:function(){r(this,this.axis)}},fe.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},fe.PlotLineOrBand.prototype={render:function(){var t,e,n,i,a,o,r=this,s=r.axis,l=s.horiz,c=(s.pointRange||0)/2,d=r.options,u=d.label,h=r.label,f=d.width,p=d.to,g=d.from,m=F(g)&&F(p),y=d.value,v=d.dashStyle,b=r.svgElem,x=[],w=d.color,C=d.zIndex,_=d.events,S={},T=s.chart.renderer;if(s.isLog&&(g=D(g),p=D(p),y=D(y)),f)x=s.getPlotLinePath(y,f),S={stroke:w,"stroke-width":f},v&&(S.dashstyle=v);else{if(!m)return;g=vt(g,s.min-c),p=bt(p,s.max+c),x=s.getPlotBandPath(g,p,d),w&&(S.fill=w),d.borderWidth&&(S.stroke=d.borderColor,S["stroke-width"]=d.borderWidth)}if(F(C)&&(S.zIndex=C),b)x?b.animate({d:x},null,b.onGetPath):(b.hide(),b.onGetPath=function(){b.show()},h&&(r.label=h=h.destroy()));else if(x&&x.length&&(r.svgElem=b=T.path(x).attr(S).add(),_))for(e in t=function(e){b.on(e,function(t){_[e].apply(r,[t])})},_)t(e);return u&&F(u.text)&&x&&x.length&&0<s.width&&0<s.height?(u=P({align:l&&m&&"center",x:l?!m&&4:10,verticalAlign:!l&&m&&"middle",y:l?m?16:10:m?6:-4,rotation:l&&!m&&90},u),h||(S={align:u.textAlign||u.align,rotation:u.rotation},F(C)&&(S.zIndex=C),r.label=h=T.text(u.text,0,0,u.useHTML).attr(S).css(u.style).add()),n=[x[1],x[4],$(x[6],x[1])],i=[x[2],x[5],$(x[7],x[2])],a=N(n),o=N(i),h.align(u,!1,{x:a,y:o,width:G(n)-a,height:G(i)-o}),h.show()):h&&h.hide(),r},destroy:function(){u(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},Q={getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e),i=this.getPlotLinePath(t);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new fe.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,a=t.length;a--;)t[a].id===e&&t[a].destroy();be([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(a=t.length;a--;)t[a].id===e&&u(t,t[a])})}},c.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ie,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return h(this.total,-1)},style:Ie.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,e){var n=e.isX,i=this;i.horiz=t.inverted?!n:n,i.isXAxis=n,i.coll=n?"xAxis":"yAxis",i.opposite=e.opposite,i.side=e.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(e);var a=this.options,o=a.type,r="datetime"===o;i.labelFormatter=a.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.chart=t,i.reversed=a.reversed,i.zoomEnabled=!1!==a.zoomEnabled,i.categories=a.categories||"category"===o,i.names=[],i.isLog="logarithmic"===o,i.isDatetimeAxis=r,i.isLinked=F(a.linkedTo),i.tickmarkOffset=i.categories&&"between"===a.tickmarkPlacement?.5:0,i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=a.minRange||a.maxZoom,i.range=a.range,i.offset=a.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=$(a.crosshair,y(t.options.tooltip.crosshairs)[n?0:1],!1);var s,l=i.options.events;for(s in-1===ve(i,t.axes)&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&n&&i.reversed===U&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine,l)_e(i,s,l[s]);i.isLog&&(i.val2lin=D,i.lin2val=A)},setOptions:function(t){this.options=P(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],P(X[this.coll],t))},defaultLabelFormatter:function(){var t,e,n=this.axis,i=this.value,a=n.categories,o=this.dateTimeLabelFormat,r=X.lang.numericSymbols,s=r&&r.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)e=M(l,this);else if(a)e=i;else if(o)e=C(o,i);else if(s&&1e3<=c)for(;s--&&e===U;)(t=Math.pow(1e3,s+1))<=c&&null!==r[s]&&(e=h(i/t,-1)+r[s]);return e===U&&(e=1e4<=xt(i)?h(i,0):h(i,-1,U,"")),e},getSeriesExtremes:function(){var o=this,r=o.chart;o.hasVisibleSeries=!1,o.dataMin=o.dataMax=null,o.buildStacks&&o.buildStacks(),be(o.series,function(t){if(t.visible||!r.options.chart.ignoreHiddenSeries){var e,n,i,a=t.options.threshold;o.hasVisibleSeries=!0,o.isLog&&a<=0&&(a=null),o.isXAxis?(e=t.xData).length&&(o.dataMin=bt($(o.dataMin,e[0]),N(e)),o.dataMax=vt($(o.dataMax,e[0]),G(e))):(t.getExtremes(),i=t.dataMax,F(n=t.dataMin)&&F(i)&&(o.dataMin=bt($(o.dataMin,n),n),o.dataMax=vt($(o.dataMax,i),i)),F(a)&&(o.dataMin>=a?(o.dataMin=a,o.ignoreMinPadding=!0):o.dataMax<a&&(o.dataMax=a,o.ignoreMaxPadding=!0)))}})},translate:function(t,e,n,i,a,o){var r,s=this,l=1,c=0,d=i?s.oldTransA:s.transA,u=i?s.oldMin:s.min,h=s.minPixelPadding,f=(s.options.ordinal||s.isLog&&a)&&s.lin2val;return d||(d=s.transA),n&&(l*=-1,c=s.len),s.reversed&&(c-=(l*=-1)*(s.sector||s.len)),e?(t=t*l+c,r=(t-=h)/d+u,f&&(r=s.lin2val(r))):(f&&(t=s.val2lin(t)),"between"===o&&(o=.5),r=l*(t-u)*d+c+l*h+(k(o)?d*o*s.pointRange:0)),r},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,a){var o,r,s,l,c,d=this,u=d.chart,h=d.left,f=d.top,p=n&&u.oldChartHeight||u.chartHeight,g=n&&u.oldChartWidth||u.chartWidth,m=d.transB;return a=$(a,d.translate(t,null,null,n)),o=s=gt(a+m),r=l=gt(p-a-m),isNaN(a)?c=!0:d.horiz?(r=f,l=p-d.bottom,(o<h||o>h+d.width)&&(c=!0)):(o=h,s=g-d.right,(r<f||r>f+d.height)&&(c=!0)),c&&!i?null:u.renderer.crispLine([Qt,o,r,Zt,s,l],e||1)},getLinearTickPositions:function(t,e,n){var i,a,o=z(mt(e/t)*t),r=z(yt(n/t)*t),s=[];if(e===n&&k(e))return[e];for(i=o;i<=r&&(s.push(i),(i=z(i+t))!==a);)a=i;return s},getMinorTickPositions:function(){var t,e,n,i=this,a=i.options,o=i.tickPositions,r=i.minorTickInterval,s=[];if(i.isLog)for(n=o.length,e=1;e<n;e++)s=s.concat(i.getLogTickPositions(r,o[e-1],o[e],!0));else if(i.isDatetimeAxis&&"auto"===a.minorTickInterval)(s=s.concat(i.getTimeTicks(i.normalizeTimeTickInterval(r),i.min,i.max,a.startOfWeek)))[0]<i.min&&s.shift();else for(t=i.min+(o[0]-i.min)%r;t<=i.max;t+=r)s.push(t);return s},adjustForMinRange:function(){var t,e,n,i,a,o,r,s,l=this,c=l.options,d=l.min,u=l.max,h=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===U&&!l.isLog&&(F(c.min)||F(c.max)?l.minRange=null:(be(l.series,function(t){for(a=t.xData,o=t.xIncrement?1:a.length-1,n=o;0<n;n--)i=a[n]-a[n-1],(e===U||i<e)&&(e=i)}),l.minRange=bt(5*e,l.dataMax-l.dataMin))),u-d<l.minRange){var f=l.minRange;r=[d-(t=(f-u+d)/2),$(c.min,d-t)],h&&(r[2]=l.dataMin),s=[(d=G(r))+f,$(c.max,d+f)],h&&(s[2]=l.dataMax),(u=N(s))-d<f&&(r[0]=u-f,r[1]=$(c.min,u-f),d=G(r))}l.min=d,l.max=u},setAxisTranslation:function(t){var a,e,o=this,r=o.max-o.min,s=o.axisPointRange||0,l=0,c=0,n=o.linkedParent,d=!!o.categories,i=o.transA;(o.isXAxis||d||s)&&(n?(l=n.minPointOffset,c=n.pointRangePadding):be(o.series,function(t){var e=d?1:o.isXAxis?t.pointRange:o.axisPointRange||0,n=t.options.pointPlacement,i=t.closestPointRange;r<e&&(e=0),s=vt(s,e),l=vt(l,_(n)?0:e/2),c=vt(c,"on"===n?0:e),!t.noSharedTooltip&&F(i)&&(a=F(a)?bt(a,i):i)}),e=o.ordinalSlope&&a?o.ordinalSlope/a:1,o.minPointOffset=l*=e,o.pointRangePadding=c*=e,o.pointRange=bt(s,r),o.closestPointRange=a),t&&(o.oldTransA=i),o.translationSlope=o.transA=i=o.len/(r+c||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=i*l},setTickPositions:function(t){var e,n,i,a,o=this,r=o.chart,s=o.options,l=o.isLog,c=o.isDatetimeAxis,d=o.isXAxis,u=o.isLinked,h=o.options.tickPositioner,f=s.maxPadding,p=s.minPadding,g=s.tickInterval,m=s.minTickInterval,y=s.tickPixelInterval,v=o.categories;if(u?(o.linkedParent=r[o.coll][s.linkedTo],n=o.linkedParent.getExtremes(),o.min=$(n.min,n.dataMin),o.max=$(n.max,n.dataMax),s.type!==o.linkedParent.options.type&&H(11,1)):(o.min=$(o.userMin,s.min,o.dataMin),o.max=$(o.userMax,s.max,o.dataMax)),l&&(!t&&bt(o.min,$(o.dataMin,o.min))<=0&&H(10,1),o.min=z(D(o.min)),o.max=z(D(o.max))),o.range&&F(o.max)&&(o.userMin=o.min=vt(o.min,o.max-o.range),o.userMax=o.max,o.range=null),o.beforePadding&&o.beforePadding(),o.adjustForMinRange(),v||o.axisPointRange||o.usePercentage||u||!F(o.min)||!F(o.max)||(e=o.max-o.min)&&(F(s.min)||F(o.userMin)||!p||!(o.dataMin<0)&&o.ignoreMinPadding||(o.min-=e*p),F(s.max)||F(o.userMax)||!f||!(0<o.dataMax)&&o.ignoreMaxPadding||(o.max+=e*f)),k(s.floor)&&(o.min=vt(o.min,s.floor)),k(s.ceiling)&&(o.max=bt(o.max,s.ceiling)),o.min===o.max||o.min===undefined||o.max===undefined?o.tickInterval=1:u&&!g&&y===o.linkedParent.options.tickPixelInterval?o.tickInterval=o.linkedParent.tickInterval:(o.tickInterval=$(g,v?1:(o.max-o.min)*y/vt(o.len,y)),!F(g)&&o.len<y&&!this.isRadial&&!this.isLog&&!v&&s.startOnTick&&s.endOnTick&&(a=!0,o.tickInterval/=4)),d&&!t&&be(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(!0),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),o.pointRange&&(o.tickInterval=vt(o.pointRange,o.tickInterval)),!g&&o.tickInterval<m&&(o.tickInterval=m),c||l||g||(o.tickInterval=O(o.tickInterval,null,E(o.tickInterval),s)),o.minorTickInterval="auto"===s.minorTickInterval&&o.tickInterval?o.tickInterval/5:s.minorTickInterval,o.tickPositions=i=s.tickPositions?[].concat(s.tickPositions):h&&h.apply(o,[o.min,o.max]),i||(!o.ordinalPositions&&(o.max-o.min)/o.tickInterval>vt(2*o.len,200)&&H(19,!0),i=c?o.getTimeTicks(o.normalizeTimeTickInterval(o.tickInterval,s.units),o.min,o.max,s.startOfWeek,o.ordinalPositions,o.closestPointRange,!0):l?o.getLogTickPositions(o.tickInterval,o.min,o.max):o.getLinearTickPositions(o.tickInterval,o.min,o.max),a&&i.splice(1,i.length-2),o.tickPositions=i),!u){var b,x=i[0],w=i[i.length-1],C=o.minPointOffset||0;s.startOnTick?o.min=x:o.min-C>x&&i.shift(),s.endOnTick?o.max=w:o.max+C<w&&i.pop(),1===i.length&&(b=1e13<xt(o.max)?1:.001,o.min-=b,o.max+=b)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(e[i]||0)&&!1!==this.options.alignTicks&&(e[i]=n.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,n=t._maxTicksKey,i=t.tickPositions,a=e.maxTicks;if(a&&a[n]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&!1!==t.options.alignTicks&&this.min!==U){var o,r=t.tickAmount,s=i.length;if(t.tickAmount=o=a[n],s<o){for(;i.length<o;)i.push(z(i[i.length-1]+t.tickInterval));t.transA*=(s-1)/(o-1),t.max=i[i.length-1]}F(r)&&o!==r&&(t.isDirty=!0)}},setScale:function(){var t,e,n,i,a=this,o=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a.setAxisSize(),i=a.len!==a.oldAxisLength,be(a.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(n=!0)}),i||n||a.isLinked||a.forceRedraw||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax){if(!a.isXAxis)for(t in o)for(e in o[t])o[t][e].total=null,o[t][e].cum=0;a.forceRedraw=!1,a.getSeriesExtremes(),a.setTickPositions(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=i||a.min!==a.oldMin||a.max!==a.oldMax)}else if(!a.isXAxis)for(t in a.oldStacks&&(o=a.stacks=a.oldStacks),o)for(e in o[t])o[t][e].cum=o[t][e].total;a.setMaxTicks()},setExtremes:function(t,e,n,i,a){var o=this,r=o.chart;n=$(n,!0),a=I(a,{min:t,max:e}),Te(o,"setExtremes",a,function(){o.userMin=t,o.userMax=e,o.eventArgs=a,o.isDirtyExtremes=!0,n&&r.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,a=this.options;return this.allowZoomOutside||(F(n)&&t<=bt(n,$(a.min,n))&&(t=U),F(i)&&e>=vt(i,$(a.max,i))&&(e=U)),this.displayBtn=t!==U||e!==U,this.setExtremes(t,e,!1,U,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=e.offsetRight||0,a=this.horiz,o=$(e.width,t.plotWidth-n+i),r=$(e.height,t.plotHeight),s=$(e.top,t.plotTop),l=$(e.left,t.plotLeft+n),c=/%$/;c.test(r)&&(r=parseInt(r,10)/100*t.plotHeight),c.test(s)&&(s=parseInt(s,10)/100*t.plotHeight+t.plotTop),this.left=l,this.top=s,this.width=o,this.height=r,this.bottom=t.chartHeight-r-s,this.right=t.chartWidth-o-l,this.len=vt(a?o:r,0),this.pos=a?l:s},getExtremes:function(){var t=this,e=t.isLog;return{min:e?z(A(t.min)):t.min,max:e?z(A(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=n?A(e.min):e.min,a=n?A(e.max):e.max;return t<i||null===t?t=i:a<t&&(t=a),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=($(t,0)-90*this.side+720)%360;return 15<e&&e<165?"right":195<e&&e<345?"left":"center"},getOffset:function(){var t,e,n,i,a,o,r,s,l,c,d,u,h,f=this,p=f.chart,g=p.renderer,m=f.options,y=f.tickPositions,v=f.ticks,b=f.horiz,x=f.side,w=p.inverted?[1,0,3,2][x]:x,C=0,_=0,S=m.title,T=m.labels,k=0,D=p.axisOffset,A=p.clipOffset,I=[-1,1,1,-1][x],P=1,L=$(T.maxStaggerLines,5),j=2===x?g.fontMetrics(T.style.fontSize).b:0;if(f.hasData=t=f.hasVisibleSeries||F(f.min)&&F(f.max)&&!!y,f.showAxis=e=t||$(m.showEmpty,!0),f.staggerLines=f.horiz&&T.staggerLines,f.axisGroup||(f.gridGroup=g.g("grid").attr({zIndex:m.gridZIndex||1}).add(),f.axisGroup=g.g("axis").attr({zIndex:m.zIndex||2}).add(),f.labelGroup=g.g("axis-labels").attr({zIndex:T.zIndex||7}).addClass(Xt+f.coll.toLowerCase()+"-labels").add()),t||f.isLinked){if(f.labelAlign=$(T.align||f.autoLabelAlign(T.rotation)),be(y,function(t){v[t]?v[t].addLabel():v[t]=new q(f,t)}),f.horiz&&!f.staggerLines&&L&&!T.rotation){for(o=f.reversed?[].concat(y).reverse():y;P<L;){for(s=!(r=[]),a=0;a<o.length;a++)l=o[a],h=a%P,(u=(c=v[l].label&&v[l].label.getBBox())?c.width:0)&&(d=f.translate(l),r[h]!==U&&d<r[h]&&(s=!0),r[h]=d+u);if(!s)break;P++}1<P&&(f.staggerLines=P)}be(y,function(t){0!==x&&2!==x&&{1:"left",3:"right"}[x]!==f.labelAlign||(k=vt(v[t].getLabelSize(),k))}),f.staggerLines&&(k*=f.staggerLines,f.labelOffset=k)}else for(i in v)v[i].destroy(),delete v[i];S&&S.text&&!1!==S.enabled&&(f.axisTitle||(f.axisTitle=g.text(S.text,0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:S.textAlign||{low:"left",middle:"center",high:"right"}[S.align]}).addClass(Xt+this.coll.toLowerCase()+"-title").css(S.style).add(f.axisGroup),f.axisTitle.isNew=!0),e&&(C=f.axisTitle.getBBox()[b?"height":"width"],_=$(S.margin,b?5:10),n=S.offset),f.axisTitle[e?"show":"hide"]()),f.offset=I*$(m.offset,D[x]),f.axisTitleMargin=$(n,k+_+(k&&I*m.labels[b?"y":"x"]-j)),D[x]=vt(D[x],f.axisTitleMargin+C+I*f.offset),A[w]=vt(A[w],2*mt(m.lineWidth/2))},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,a=this.horiz,o=this.left+(n?this.width:0)+i,r=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine([Qt,a?this.left:o,a?r:this.top,Zt,a?e.chartWidth-this.right:o,a?r:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,a=this.options.title,o=t?e:n,r=this.opposite,s=this.offset,l=S(a.style.fontSize||12),c={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[a.align],d=(t?n+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:t?c:d+(r?this.width:0)+s+(a.x||0),y:t?d-(r?this.height:0)+s:c+(a.y||0)}},render:function(){var n,t,i,a,o=this,e=o.horiz,r=o.reversed,s=o.chart,l=s.renderer,c=o.options,d=o.isLog,u=o.isLinked,h=o.tickPositions,f=o.axisTitle,p=o.ticks,g=o.minorTicks,m=o.alternateBands,y=c.stackLabels,v=c.alternateGridColor,b=o.tickmarkOffset,x=c.lineWidth,w=s.hasRendered&&F(o.oldMin)&&!isNaN(o.oldMin),C=o.hasData,_=o.showAxis,S=c.labels.overflow,T=o.justifyLabels=e&&!1!==S;o.labelEdge.length=0,o.justifyToPlot="justify"===S,be([p,g,m],function(t){var e;for(e in t)t[e].isActive=!1}),(C||u)&&(o.minorTickInterval&&!o.categories&&be(o.getMinorTickPositions(),function(t){g[t]||(g[t]=new q(o,t,"minor")),w&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),h.length&&(n=h.slice(),(e&&r||!e&&!r)&&n.reverse(),T&&(n=n.slice(1).concat([n[0]])),be(n,function(t,e){T&&(e=e===n.length-1?0:e+1),(!u||t>=o.min&&t<=o.max)&&(p[t]||(p[t]=new q(o,t)),w&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e,!1,1))}),b&&0===o.min&&(p[-1]||(p[-1]=new q(o,-1,null,!0)),p[-1].render(-1))),v&&be(h,function(t,e){e%2==0&&t<o.max&&(m[t]||(m[t]=new fe.PlotLineOrBand(o)),i=t+b,a=h[e+1]!==U?h[e+1]+b:o.max,m[t].options={from:d?A(i):i,to:d?A(a):a,color:v},m[t].render(),m[t].isActive=!0)}),o._addedPlotLB||(be((c.plotLines||[]).concat(c.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),be([p,g,m],function(t){var e,n,i=[],a=V?V.duration||500:0,o=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));t!==m&&s.hasRendered&&a?a&&setTimeout(o,a):o()}),x&&(t=o.getLinePath(x),o.axisLine?o.axisLine.animate({d:t}):o.axisLine=l.path(t).attr({stroke:c.lineColor,"stroke-width":x,zIndex:7}).add(o.axisGroup),o.axisLine[_?"show":"hide"]()),f&&_&&(f[f.isNew?"attr":"animate"](o.getTitlePosition()),f.isNew=!1),y&&y.enabled&&o.renderStackTotals(),o.isDirty=!1},redraw:function(){var t=this,e=t.chart.pointer;e&&e.reset(!0),t.render(),be(t.plotLinesAndBands,function(t){t.render()}),be(t.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,a=i.stacks,o=i.plotLinesAndBands;for(e in t||Se(i),a)r(a[e]),a[e]=null;for(be([i.ticks,i.minorTicks,i.alternateBands],function(t){r(t)}),n=o.length;n--;)o[n].destroy();be(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair)if(!1!==(F(e)||!$(this.crosshair.snap,!0))){var n,i,a=this.crosshair,o=a.animation;if($(a.snap,!0)?F(e)&&(i=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,null!==(n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:$(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,i)))if(this.cross)this.cross.attr({visibility:Vt})[o?"animate":"attr"]({d:n},o);else{var r={"stroke-width":a.width||1,stroke:a.color||"#C0C0C0",zIndex:a.zIndex||2};a.dashStyle&&(r.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add()}else this.hideCrosshair()}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},I(c.prototype,Q),c.prototype.getTimeTicks=function(t,e,n,i){var a,o,r=[],s={},l=X.global.useUTC,c=new Date(e-K),d=t.unitRange,u=t.count;if(F(e)){d>=J[ae]&&(c.setMilliseconds(0),c.setSeconds(d>=J[oe]?0:u*mt(c.getSeconds()/u))),d>=J[oe]&&c[rt](d>=J[re]?0:u*mt(c[tt]()/u)),d>=J[re]&&c[st](d>=J[se]?0:u*mt(c[et]()/u)),d>=J[se]&&c[lt](d>=J[ce]?1:u*mt(c[it]()/u)),d>=J[ce]&&(c[ct](d>=J[de]?0:u*mt(c[at]()/u)),o=c[ot]()),d>=J[de]&&(o-=o%u,c[dt](o)),d===J[le]&&c[lt](c[it]()-c[nt]()+$(i,1)),a=1,K&&(c=new Date(c.getTime()+K)),o=c[ot]();for(var h=c.getTime(),f=c[at](),p=c[it](),g=l?K:(864e5+60*c.getTimezoneOffset()*1e3)%864e5;h<n;)r.push(h),d===J[de]?h=Z(o+a*u,0):d===J[ce]?h=Z(o,f+a*u):l||d!==J[se]&&d!==J[le]?h+=d*u:h=Z(o,f,p+a*u*(d===J[se]?1:7)),a++;r.push(h),be(xe(r,function(t){return d<=J[re]&&t%J[se]===g}),function(t){s[t]=se})}return r.info=I(t,{higherRanks:s,totalRange:d*u}),r},c.prototype.normalizeTimeTickInterval=function(t,e){var n,i=e||[[ie,[1,2,5,10,20,25,50,100,200,500]],[ae,[1,2,5,10,15,30]],[oe,[1,2,5,10,15,30]],[re,[1,2,3,4,6,8,12]],[se,[1,2]],[le,[1,2]],[ce,[1,2,3,4,6]],[de,null]],a=i[i.length-1],o=J[a[0]],r=a[1];for(n=0;n<i.length;n++){if(a=i[n],o=J[a[0]],r=a[1],i[n+1])if(t<=(o*r[r.length-1]+J[i[n+1][0]])/2)break}return o===J[de]&&t<5*o&&(r=[1,2,5]),{unitRange:o,count:O(t/o,r,a[0]===de?vt(E(t/o),1):1),unitName:a[0]}},c.prototype.getLogTickPositions=function(t,e,n,i){var a=this,o=a.options,r=a.len,s=[];if(i||(a._minorAutoInterval=null),.5<=t)t=gt(t),s=a.getLinearTickPositions(t,e,n);else if(.08<=t){var l,c,d,u,h,f,p;for(l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],c=mt(e);c<n+1&&!p;c++)for(u=l.length,d=0;d<u&&!p;d++)e<(h=D(A(c)*l[d]))&&(!i||f<=n)&&s.push(f),n<f&&(p=!0),f=h}else{var g=A(e),m=A(n),y=o[i?"minorTickInterval":"tickInterval"],v="auto"===y?null:y,b=o.tickPixelInterval/(i?5:1),x=i?r/a.tickPositions.length:r;t=O(t=$(v,a._minorAutoInterval,(m-g)*b/(x||1)),null,E(t)),s=Ce(a.getLinearTickPositions(t,g,m),D),i||(a._minorAutoInterval=t/5)}return i||(a.tickInterval=t),s};var $e,Ge=fe.Tooltip=function(){this.init.apply(this,arguments)};Ge.prototype={init:function(t,e){var n=e.borderWidth,i=e.style,a=S(i.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:a,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),Et||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var a=this,o=a.now,r=!1!==a.options.animation&&!a.isHidden,s=a.followPointer||1<a.len;I(o,{x:r?(2*o.x+t)/3:t,y:r?(o.y+e)/2:e,anchorX:s?U:r?(2*o.anchorX+n)/3:n,anchorY:s?U:r?(o.anchorY+i)/2:i}),a.label.attr(o),r&&(1<xt(t-o.x)||1<xt(e-o.y))&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(t,e,n,i)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},$(this.options.hideDelay,500)),t&&be(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var n,i,a=this.chart,o=a.inverted,r=a.plotTop,s=0,l=0;return n=(t=y(t))[0].tooltipPos,this.followPointer&&e&&(e.chartX===U&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-r]),n||(be(t,function(t){i=t.series.yAxis,s+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&i?i.top-r:0)}),s/=t.length,l/=t.length,n=[o?a.plotWidth-l:s,this.shared&&!o&&1<t.length&&e?e.chartY-r:o?a.plotHeight-s:l]),Ce(n,gt)},getPosition:function(t,e,n){var i,a=this.chart,l=this.distance,c={},o=["y",a.chartHeight,e,n.plotY+a.plotTop],r=["x",a.chartWidth,t,n.plotX+a.plotLeft],d=n.ttBelow||a.inverted&&!n.negative||!a.inverted&&n.negative,s=function(t,e,n,i){var a=n<i-l,o=i+l+n<e,r=i-l-n,s=i+l;if(d&&o)c[t]=s;else if(!d&&a)c[t]=r;else if(a)c[t]=r;else{if(!o)return!1;c[t]=s}},u=function(t,e,n,i){if(i<l||e-l<i)return!1;c[t]=i<n/2?1:e-n/2<i?e-n-2:i-n/2},h=function(t){var e=o;o=r,r=e,i=t},f=function(){!1!==s.apply(0,o)?!1!==u.apply(0,r)||i||(h(!0),f()):i?c.x=c.y=0:(h(!0),f())};return(a.inverted||1<this.len)&&h(),f(),c},defaultFormatter:function(t){var e,n=this.points||y(this),i=n[0].series;return e=[t.tooltipHeaderFormatter(n[0])],be(n,function(t){i=t.series,e.push(i.tooltipFormatter&&i.tooltipFormatter(t)||t.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var n,i,a,o,r,s,l=this,c=l.chart,d=l.label,u=l.options,h={},f=[],p=u.formatter||l.defaultFormatter,g=c.hoverPoints,m=l.shared;clearTimeout(this.hideTimer),l.followPointer=y(t)[0].series.tooltipOptions.followPointer,n=(a=l.getAnchor(t,e))[0],i=a[1],!m||t.series&&t.series.noSharedTooltip?h=t.getLabelConfig():(c.hoverPoints=t,g&&be(g,function(t){t.setState()}),be(t,function(t){t.setState(ee),f.push(t.getLabelConfig())}),(h={x:t[0].category,y:t[0].y}).points=f,this.len=f.length,t=t[0]),o=p.call(h,l),s=t.series,this.distance=$(s.tooltipOptions.distance,16),!1===o?this.hide():(l.isHidden&&(Ae(d),d.attr("opacity",1).show()),d.attr({text:o}),
r=u.borderColor||t.color||s.color||"#606060",d.attr({stroke:r}),l.updatePosition({plotX:n,plotY:i,negative:t.negative,ttBelow:t.ttBelow}),this.isHidden=!1),Te(c,"tooltipRefresh",{text:o,x:n+c.plotLeft,y:i+c.plotTop,borderColor:r})},updatePosition:function(t){var e=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(gt(i.x),gt(i.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)},tooltipHeaderFormatter:function(t){var e,n=t.series,i=n.tooltipOptions,a=i.dateTimeLabelFormats,o=i.xDateFormat,r=n.xAxis,s=r&&"datetime"===r.options.type&&k(t.key),l=i.headerFormat,c=r&&r.closestPointRange;if(s&&!o){if(c){for(e in J)if(J[e]>=c||J[e]<=J[se]&&0<t.key%J[e]){o=a[e];break}}else o=a.day;o=o||a.year}return s&&o&&(l=l.replace("{point.key}","{point.key:"+o+"}")),M(l,{point:t,series:n})}},x=ht.documentElement.ontouchstart!==U;var qe=fe.Pointer=function(t,e){this.init(t,e)};if(qe.prototype={init:function(t,e){var n,i,a=e.chart,o=a.events,r=Et?"":a.zoomType,s=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(r),this.zoomY=i=/y/.test(r),this.zoomHor=n&&!s||i&&s,this.zoomVert=i&&!s||n&&s,this.hasZoom=n||i,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},fe.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Ge(t,e.tooltip),this.followTouchMove=e.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,e){var n,i,a;return t=t||window.event,(t=ke(t)).target||(t.target=t.srcElement),a=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=we(this.chart.container)),a.pageX===U?(n=vt(t.x,t.clientX-e.left),i=t.y):(n=a.pageX-e.left,i=a.pageY-e.top),I(t,{chartX:gt(n),chartY:gt(i)})},getCoordinates:function(e){var n={xAxis:[],yAxis:[]};return be(this.chart.axes,function(t){n[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(e[t.horiz?"chartX":"chartY"])})}),n},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(e){var t,n,i,a,o,r,s=this,l=s.chart,c=l.series,d=l.tooltip,u=l.hoverPoint,h=l.hoverSeries,f=l.chartWidth,p=s.getIndex(e);if(d&&s.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(i=[],a=c.length,o=0;o<a;o++)c[o].visible&&!1!==c[o].options.enableMouseTracking&&!c[o].noSharedTooltip&&!0!==c[o].singularTooltips&&c[o].tooltipPoints.length&&(n=c[o].tooltipPoints[p])&&n.series&&(n._dist=xt(p-n.clientX),f=bt(f,n._dist),i.push(n));for(a=i.length;a--;)i[a]._dist>f&&i.splice(a,1);i.length&&i[0].clientX!==s.hoverX&&(d.refresh(i,e),s.hoverX=i[0].clientX)}t=h&&h.tooltipOptions.followPointer,h&&h.tracker&&!t?(n=h.tooltipPoints[p])&&n!==u&&n.onMouseOver(e):d&&t&&!d.isHidden&&(r=d.getAnchor([{}],e),d.updatePosition({plotX:r[0],plotY:r[1]})),d&&!s._onDocumentMouseMove&&(s._onDocumentMouseMove=function(t){Ht[$e]&&Ht[$e].pointer.onDocumentMouseMove(t)},_e(ht,"mousemove",s._onDocumentMouseMove)),be(l.axes,function(t){t.drawCrosshair(e,$(n,u))})},reset:function(t){var e=this,n=e.chart,i=n.hoverSeries,a=n.hoverPoint,o=n.tooltip,r=o&&o.shared?n.hoverPoints:a;(t=t&&o&&r)&&y(r)[0].plotX===U&&(t=!1),t?(o.refresh(r),a&&a.setState(a.state,!0)):(a&&a.onMouseOut(),i&&i.onMouseOut(),o&&o.hide(),e._onDocumentMouseMove&&(Se(ht,"mousemove",e._onDocumentMouseMove),e._onDocumentMouseMove=null),be(n.axes,function(t){t.hideCrosshair()}),e.hoverX=null)},scaleGroups:function(e,n){var i,a=this.chart;be(a.series,function(t){i=e||t.getPlotBox(),t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(i),t.markerGroup&&(t.markerGroup.attr(i),t.markerGroup.clip(n?a.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(i))}),a.clipRect.attr(n||a.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,a=i.options.chart,o=t.chartX,r=t.chartY,s=this.zoomHor,l=this.zoomVert,c=i.plotLeft,d=i.plotTop,u=i.plotWidth,h=i.plotHeight,f=this.mouseDownX,p=this.mouseDownY;o<c?o=c:c+u<o&&(o=c+u),r<d?r=d:d+h<r&&(r=d+h),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(p-r,2)),10<this.hasDragged&&(e=i.isInsidePlot(f-c,p-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=i.renderer.rect(c,d,s?1:u,l?1:h,0).attr({fill:a.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(n=o-f,this.selectionMarker.attr({width:xt(n),x:(0<n?0:n)+f})),this.selectionMarker&&l&&(n=r-p,this.selectionMarker.attr({height:xt(n),y:(0<n?0:n)+p})),e&&!this.selectionMarker&&a.panning&&i.pan(t,a.panning))},drop:function(t){var e=this.chart,n=this.hasPinched;if(this.selectionMarker){var a,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},i=this.selectionMarker,r=i.attr?i.attr("x"):i.x,s=i.attr?i.attr("y"):i.y,l=i.attr?i.attr("width"):i.width,c=i.attr?i.attr("height"):i.height;(this.hasDragged||n)&&(be(e.axes,function(t){if(t.zoomEnabled){var e=t.horiz,n=t.toValue(e?r:s),i=t.toValue(e?r+l:s+c);isNaN(n)||isNaN(i)||(o[t.coll].push({axis:t,min:bt(n,i),max:vt(n,i)}),a=!0)}}),a&&Te(e,"selection",o,function(t){e.zoom(I(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}e&&(j(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){(t=this.normalize(t)).preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Ht[$e]&&Ht[$e].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition,i=e.hoverSeries;t=this.normalize(t,n),n&&i&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){var t=Ht[$e];t&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;$e=e.index,t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=L(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf(Xt+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement,i=n&&n.point&&n.point.series;!e||e.options.stickyTracking||this.inClass(n,Xt+"tooltip")||i===e||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,a=e.plotTop;(t=this.normalize(t)).cancelBubble=!0,e.cancelClick||(n&&this.inClass(t.target,Xt+"tracker")?(Te(n.series,"click",I(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(I(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-a)&&Te(e,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},_e(t,"mouseleave",e.onContainerMouseLeave),1===zt&&_e(ht,"mouseup",e.onDocumentMouseUp),x&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===zt&&_e(ht,"touchend",e.onDocumentTouchEnd))},destroy:function(){var t;for(t in Se(this.chart.container,"mouseleave",this.onContainerMouseLeave),zt||(Se(ht,"mouseup",this.onDocumentMouseUp),Se(ht,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout),this)this[t]=null}},I(fe.Pointer.prototype,{pinchTranslate:function(t,e,n,i,a,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,a,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,a,o)},pinchTranslateDirection:function(t,e,n,i,a,o,r,s){var l,c,d,u,h,f,p=this.chart,g=t?"x":"y",m=t?"X":"Y",y="chart"+m,v=t?"width":"height",b=p["plot"+(t?"Left":"Top")],x=s||1,w=p.inverted,C=p.bounds[t?"h":"v"],_=1===e.length,S=e[0][y],T=n[0][y],k=!_&&e[1][y],D=!_&&n[1][y],A=function(){!_&&20<xt(S-k)&&(x=s||xt(T-D)/xt(S-k)),d=(b-T)/x+S,l=p["plot"+(t?"Width":"Height")]/x};A(),(c=d)<C.min?(c=C.min,u=!0):c+l>C.max&&(c=C.max-l,u=!0),u?(T-=.8*(T-r[g][0]),_||(D-=.8*(D-r[g][1])),A()):r[g]=[T,D],w||(o[g]=d-b,o[v]=l),f=w?t?"scaleY":"scaleX":"scale"+m,h=w?1/x:x,a[v]=l,a[g]=c,i[f]=x,i["translate"+m]=h*b+(T-h*S)},pinch:function(t){var e=this,s=e.chart,n=e.pinchDown,i=e.followTouchMove,a=t.touches,o=a.length,r=e.lastValidTouch,l=e.hasZoom,c=e.selectionMarker,d={},u=1===o&&(e.inClass(t.target,Xt+"tracker")&&s.runTrackerClick||s.runChartClick),h={};!l&&!i||u||t.preventDefault(),Ce(a,function(t){return e.normalize(t)}),"touchstart"===t.type?(be(a,function(t,e){n[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[n[0].chartX,n[1]&&n[1].chartX],r.y=[n[0].chartY,n[1]&&n[1].chartY],be(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(t.dataMin),a=t.toPixels(t.dataMax),o=bt(i,a),r=vt(i,a);e.min=bt(t.pos,o-n),e.max=vt(t.pos+t.len,r+n)}})):n.length&&(c||(e.selectionMarker=c=I({destroy:Nt},s.plotBox)),e.pinchTranslate(n,a,d,c,h,r),e.hasPinched=l,e.scaleGroups(d,h),!l&&i&&1===o&&this.runPointActions(e.normalize(t)))},onContainerTouchStart:function(t){var e=this.chart;$e=e.index,1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){1!==t.touches.length&&2!==t.touches.length||this.pinch(t)},onDocumentTouchEnd:function(t){Ht[$e]&&Ht[$e].pointer.drop(t)}}),ft.PointerEvent||ft.MSPointerEvent){var We={},Ue=!!ft.PointerEvent,Xe=function(){var t,e=[];for(t in e.item=function(t){return this[t]},We)We.hasOwnProperty(t)&&e.push({pageX:We[t].pageX,pageY:We[t].pageY,target:We[t].target});return e},Ve=function(t,e,n,i){"touch"!==(t=t.originalEvent||t).pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Ht[$e]||(i(t),Ht[$e].pointer[e]({type:n,target:t.currentTarget,preventDefault:Nt,touches:Xe()}))};I(qe.prototype,{onContainerPointerDown:function(t){Ve(t,"onContainerTouchStart","touchstart",function(t){We[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Ve(t,"onContainerTouchMove","touchmove",function(t){We[t.pointerId]={pageX:t.pageX,pageY:t.pageY},We[t.pointerId].target||(We[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Ve(t,"onContainerTouchEnd","touchend",function(t){delete We[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Ue?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Ue?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(ht,Ue?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),a(qe.prototype,"init",function(t,e,n){t.call(this,e,n),(this.hasZoom||this.followTouchMove)&&j(e.container,{"-ms-touch-action":Jt,"touch-action":Jt})}),a(qe.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(_e)}),a(qe.prototype,"destroy",function(t){this.batchMSEvents(Se),t.call(this)})}var Ye=fe.Legend=function(t,e){this.init(t,e)};Ye.prototype={init:function(t,e){var n=this,i=e.itemStyle,a=$(e.padding,8),o=e.itemMarginTop||0;(this.options=e).enabled&&(n.baseline=S(i.fontSize)+3+o,n.itemStyle=i,n.itemHiddenStyle=P(i,e.itemHiddenStyle),n.itemMarginTop=o,n.padding=a,n.initialItemX=a,n.initialItemY=a-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=$(e.symbolWidth,16),n.pages=[],n.render(),_e(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i,a=this,o=a.options,r=t.legendItem,s=t.legendLine,l=t.legendSymbol,c=a.itemHiddenStyle.color,d=e?o.itemStyle.color:c,u=e?t.legendColor||t.color||"#CCC":c,h=t.options&&t.options.marker,f={fill:u};if(r&&r.css({fill:d,color:d}),s&&s.attr({stroke:u}),l){if(h&&l.isMarker)for(n in f.stroke=u,h=t.convertAttribs(h))(i=h[n])!==U&&(f[n]=i);l.attr(f)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,a=!n.rtl,o=t._legendItemPos,r=o[0],s=o[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(a?r:e.legendWidth-r-2*i-4,s),l&&(l.x=r,l.y=s)},destroyItem:function(e){var t=e.checkbox;be(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&s(e.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(i){var a,o=this.group.alignAttr,r=this.clipHeight||this.legendHeight;o&&(a=o.translateY,be(this.allItems,function(t){var e,n=t.checkbox;n&&(e=a+n.y+(i||0)+3,j(n,{left:o.translateX+t.checkboxOffset+n.x-20+Yt,top:e+Yt,display:a-6<e&&e<a+r-6?"":Jt}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,a=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),a=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},renderItem:function(t){var e,n,i,a=this,o=a.chart,r=o.renderer,s=a.options,l="horizontal"===s.layout,c=a.symbolWidth,d=s.symbolPadding,u=a.itemStyle,h=a.itemHiddenStyle,f=a.padding,p=l?$(s.itemDistance,20):0,g=!s.rtl,m=s.width,y=s.itemMarginBottom||0,v=a.itemMarginTop,b=a.initialItemX,x=t.legendItem,w=t.series&&t.series.drawLegendSymbol?t.series:t,C=w.options,_=a.createCheckboxForItem&&C&&C.showCheckbox,S=s.useHTML;x||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(a.scrollGroup),w.drawLegendSymbol(a,t),t.legendItem=x=r.text(s.labelFormat?M(s.labelFormat,t):s.labelFormatter.call(t),g?c+d:-d,a.baseline,S).css(P(t.visible?u:h)).attr({align:g?"left":"right",zIndex:2}).add(t.legendGroup),a.setItemEvents&&a.setItemEvents(t,x,S,u,h),a.colorizeItem(t,t.visible),_&&a.createCheckboxForItem(t)),n=x.getBBox(),i=t.checkboxOffset=s.itemWidth||t.legendItemWidth||c+d+n.width+p+(_?20:0),a.itemHeight=e=gt(t.legendItemHeight||n.height),l&&a.itemX-b+i>(m||o.chartWidth-2*f-b-s.x)&&(a.itemX=b,a.itemY+=v+a.lastLineHeight+y,a.lastLineHeight=0),a.maxItemWidth=vt(a.maxItemWidth,i),a.lastItemY=v+a.itemY+y,a.lastLineHeight=vt(e,a.lastLineHeight),t._legendItemPos=[a.itemX,a.itemY],l?a.itemX+=i:(a.itemY+=v+e+y,a.lastLineHeight=e),a.offsetWidth=m||vt((l?a.itemX-b-p:i)+f,a.offsetWidth)},getAllItems:function(){var n=[];return be(this.chart.series,function(t){var e=t.options;$(e.showInLegend,!F(e.linkedTo)&&U,!0)&&(n=n.concat(t.legendItems||("point"===e.legendType?t.data:t)))}),n},render:function(){var t,e,n,i,a=this,o=a.chart,r=o.renderer,s=a.group,l=a.box,c=a.options,d=a.padding,u=c.borderWidth,h=c.backgroundColor;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,s||(a.group=s=r.g("legend").attr({zIndex:7}).add(),a.contentGroup=r.g().attr({zIndex:1}).add(s),a.scrollGroup=r.g().add(a.contentGroup)),a.renderTitle(),g(t=a.getAllItems(),function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),a.allItems=t,a.display=e=!!t.length,be(t,function(t){a.renderItem(t)}),n=c.width||a.offsetWidth,i=a.lastItemY+a.lastLineHeight+a.titleHeight,i=a.handleOverflow(i),(u||h)&&(n+=d,i+=d,l?0<n&&0<i&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(a.box=l=r.rect(0,0,n,i,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:h||Jt}).add(s).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),a.legendWidth=n,a.legendHeight=i,be(t,function(t){a.positionItem(t)}),e&&s.align(I({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var o,r,e=this,n=this.chart,i=n.renderer,a=this.options,s=a.y,l="top"===a.verticalAlign,c=n.spacingBox.height+(l?-s:s)-this.padding,d=a.maxHeight,u=this.clipRect,h=a.navigation,f=$(h.animation,!0),p=h.arrowSize||12,g=this.nav,m=this.pages,y=this.allItems;return"horizontal"===a.layout&&(c/=2),d&&(c=bt(c,d)),m.length=0,c<t&&!a.useHTML?(this.clipHeight=o=c-20-this.titleHeight-this.padding,this.currentPage=$(this.currentPage,1),this.fullHeight=t,be(y,function(t,e){var n=t._legendItemPos[1],i=gt(t.legendItem.getBBox().height),a=m.length;(!a||n-m[a-1]>o&&(r||n)!==m[a-1])&&(m.push(r||n),a++),e===y.length-1&&n+i-m[a-1]>o&&m.push(n),n!==r&&(r=n)}),u||(u=e.clipRect=i.clipRect(0,this.padding,9999,0),e.contentGroup.clip(u)),u.attr({height:o}),g||(this.nav=g=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,p,p).on("click",function(){e.scroll(-1,f)}).add(g),this.pager=i.text("",15,10).css(h.style).add(g),this.down=i.symbol("triangle-down",0,0,p,p).on("click",function(){e.scroll(1,f)}).add(g)),e.scroll(0),t=c):g&&(u.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pages,a=i.length,o=this.currentPage+t,r=this.clipHeight,s=this.options.navigation,l=s.activeColor,c=s.inactiveColor,d=this.pager,u=this.padding;a<o&&(o=a),0<o&&(e!==U&&v(e,this.chart),this.nav.attr({translateX:u,translateY:r+this.padding+7+this.titleHeight,visibility:Vt}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),d.attr({text:o+"/"+a}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===a?c:l}).css({cursor:o===a?"default":"pointer"}),n=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}};var Je=fe.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-n/2,t.symbolWidth,n,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i,a=this.options,o=a.marker,r=t.options,s=t.symbolWidth,l=this.chart.renderer,c=this.legendGroup,d=t.baseline-gt(.3*l.fontMetrics(r.itemStyle.fontSize).b);a.lineWidth&&(i={"stroke-width":a.lineWidth},a.dashStyle&&(i.dashstyle=a.dashStyle),this.legendLine=l.path([Qt,0,d,Zt,s,d]).attr(i).add(c)),o&&!1!==o.enabled&&(e=o.radius,this.legendSymbol=n=l.symbol(this.symbol,s/2-e,d-e,2*e,2*e).add(c),n.isMarker=!0)}};(/Trident\/7\.0/.test(Tt)||Pt)&&a(Ye.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)}),m.prototype={init:function(t,e){var n,i=t.series;t.series=null,(n=P(X,t)).series=t.series=i,this.userOptions=t;var a=n.chart;this.margin=this.splashArray("margin",a),this.spacing=this.splashArray("spacing",a);var o=a.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=a.showAxes;var r,s=this;if(s.index=Ht.length,Ht.push(s),zt++,!1!==a.reflow&&_e(s,"load",function(){s.initReflow()}),o)for(r in o)_e(s,r,o[r]);s.xAxis=[],s.yAxis=[],s.animation=!Et&&$(a.animation,!0),s.pointCount=0,s.counters=new l,s.firstRender()},initSeries:function(t){var e,n=this.options.chart,i=t.type||n.type||n.defaultSeriesType,a=he[i];return a||H(17,!0),(e=new a).init(this,t),e},isInsidePlot:function(t,e,n){var i=n?e:t,a=n?t:e;return 0<=i&&i<=this.plotWidth&&0<=a&&a<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&be(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,n,i,a=this,o=a.axes,r=a.series,s=a.pointer,l=a.legend,c=a.isDirtyLegend,d=a.isDirtyBox,u=r.length,h=u,f=a.renderer,p=f.isHidden(),g=[];for(v(t,a),p&&a.cloneRenderTo(),a.layOutTitles();h--;)if((i=r[h]).options.stacking&&(e=!0,i.isDirty)){n=!0;break}if(n)for(h=u;h--;)(i=r[h]).options.stacking&&(i.isDirty=!0);be(r,function(t){t.isDirty&&"point"===t.options.legendType&&(c=!0)}),c&&l.options.enabled&&(l.render(),a.isDirtyLegend=!1),e&&a.getStacks(),a.hasCartesianSeries&&(a.isResizing||(a.maxTicks=null,be(o,function(t){t.setScale()})),a.adjustTickAmounts(),a.getMargins(),be(o,function(t){t.isDirty&&(d=!0)}),be(o,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,g.push(function(){Te(t,"afterSetExtremes",I(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||e)&&t.redraw()})),d&&a.drawChartBox(),be(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),s&&s.reset(!0),f.draw(),Te(a,"redraw"),p&&a.cloneRenderTo(!0),be(g,function(t){t.call()})},get:function(t){var e,n,i,a=this,o=a.axes,r=a.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<r.length;e++)if(r[e].options.id===t)return r[e];for(e=0;e<r.length;e++)for(i=r[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e=this,n=this.options,i=n.xAxis=y(n.xAxis||{}),a=n.yAxis=y(n.yAxis||{});be(i,function(t,e){t.index=e,t.isX=!0}),be(a,function(t,e){t.index=e}),t=i.concat(a),be(t,function(t){new c(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return be(this.series,function(t){e=e.concat(xe(t.points||[],function(t){return t.selected}))}),e},getSelectedSeries:function(){return xe(this.series,function(t){return t.selected})},getStacks:function(){var e=this;be(e.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),be(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+$(t.options.stack,""))})},setTitle:function(t,e,n){var i,a,o=this,r=o.options;i=r.title=P(r.title,t),a=r.subtitle=P(r.subtitle,e),be([["title",t,i],["subtitle",e,a]],function(t){var e=t[0],n=o[e],i=t[1],a=t[2];n&&i&&(o[e]=n=n.destroy()),a&&a.text&&!n&&(o[e]=o.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,"class":Xt+e,zIndex:a.zIndex||4}).css(a.style).add())}),o.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.title,a=this.subtitle,o=this.options,r=o.title,s=o.subtitle,l=this.spacingBox.width-44;i&&(i.css({width:(r.width||l)+Yt}).align(I({y:15},r),!1,"spacingBox"),r.floating||r.verticalAlign||(n=i.getBBox().height)),a&&(a.css({width:(s.width||l)+Yt}).align(I({y:n+r.margin},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=yt(n+a.getBBox().height))),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&$(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,n=e.width,i=e.height,a=t.renderToClone||t.renderTo;F(n)||(t.containerWidth=me(a,"width")),F(i)||(t.containerHeight=me(a,"height")),t.chartWidth=vt(0,n||t.containerWidth||600),t.chartHeight=vt(0,$(i,19<t.containerHeight?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),s(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),j(e,{position:qt,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),ht.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var t,e,n,i,a,o,r=this,s=r.options.chart,l="data-highcharts-chart";r.renderTo=i=s.renderTo,o=Xt+Ot++,_(i)&&(r.renderTo=i=ht.getElementById(i)),i||H(13,!0),a=S(L(i,l)),!isNaN(a)&&Ht[a]&&Ht[a].hasRendered&&Ht[a].destroy(),L(i,l,r.index),i.innerHTML="",s.skipClone||i.offsetWidth||r.cloneRenderTo(),r.getChartSize(),e=r.chartWidth,n=r.chartHeight,r.container=t=R(Gt,{className:Xt+"container"+(s.className?" "+s.className:""),id:o},I({position:Wt,overflow:Ut,width:e+Yt,height:n+Yt,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),r.renderToClone||i),r._cursor=t.style.cursor,r.renderer=s.forExport?new ze(t,e,n,s.style,!0):new b(t,e,n,s.style),Et&&r.renderer.create(r,t,e,n)},getMargins:function(){var t,e=this,n=e.spacing,i=e.legend,a=e.margin,o=e.options.legend,r=$(o.margin,20),s=o.x,l=o.y,c=o.align,d=o.verticalAlign,u=e.titleOffset;e.resetMargins(),t=e.axisOffset,u&&!F(a[0])&&(e.plotTop=vt(e.plotTop,u+e.options.title.margin+n[0])),i.display&&!o.floating&&("right"===c?F(a[1])||(e.marginRight=vt(e.marginRight,i.legendWidth-s+r+n[1])):"left"===c?F(a[3])||(e.plotLeft=vt(e.plotLeft,i.legendWidth+s+r+n[3])):"top"===d?F(a[0])||(e.plotTop=vt(e.plotTop,i.legendHeight+l+r+n[0])):"bottom"===d&&(F(a[2])||(e.marginBottom=vt(e.marginBottom,i.legendHeight-l+r+n[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&be(e.axes,function(t){t.getOffset()}),F(a[3])||(e.plotLeft+=t[3]),F(a[0])||(e.plotTop+=t[0]),F(a[2])||(e.marginBottom+=t[2]),F(a[1])||(e.marginRight+=t[1]),e.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,a=n.width||me(i,"width"),o=n.height||me(i,"height"),r=t?t.target:ft,s=function(){e.container&&(e.setSize(a,o,!1),e.hasUserSize=null)};e.hasUserSize||!a||!o||r!==ft&&r!==ht||(a===e.containerWidth&&o===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(s,100):s()),e.containerWidth=a,e.containerHeight=o)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};_e(ft,"resize",t),_e(e,"destroy",function(){Se(ft,"resize",t)})},setSize:function(t,e,n){var i,a,o,r=this;r.isResizing+=1,o=function(){r&&Te(r,"endResize",null,function(){r.isResizing-=1})},v(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,F(t)&&(r.chartWidth=i=vt(0,gt(t)),r.hasUserSize=!!i),F(e)&&(r.chartHeight=a=vt(0,gt(e))),(V?De:j)(r.container,{width:i+Yt,height:a+Yt},V),r.setChartSize(!0),r.renderer.setSize(i,a,n),r.maxTicks=null,be(r.axes,function(t){t.isDirty=!0,t.setScale()}),be(r.series,function(t){t.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Te(r,"resize"),!1===V?o():setTimeout(o,V&&V.duration||500)},setChartSize:function(t){var e,n,i,a,o,r,s,l=this,c=l.inverted,d=l.renderer,u=l.chartWidth,h=l.chartHeight,f=l.options.chart,p=l.spacing,g=l.clipOffset;l.plotLeft=i=gt(l.plotLeft),l.plotTop=a=gt(l.plotTop),l.plotWidth=o=vt(0,gt(u-i-l.marginRight)),l.plotHeight=r=vt(0,gt(h-a-l.marginBottom)),l.plotSizeX=c?r:o,l.plotSizeY=c?o:r,l.plotBorderWidth=f.plotBorderWidth||0,l.spacingBox=d.spacingBox={x:p[3],y:p[0],width:u-p[3]-p[1],height:h-p[0]-p[2]},l.plotBox=d.plotBox={x:i,y:a,width:o,height:r},s=2*mt(l.plotBorderWidth/2),e=yt(vt(s,g[3])/2),n=yt(vt(s,g[0])/2),l.clipBox={x:e,y:n,width:mt(l.plotSizeX-vt(s,g[1])/2-e),height:mt(l.plotSizeY-vt(s,g[2])/2-n)},t||be(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,n=t.margin;t.plotTop=$(n[0],e[0]),t.marginRight=$(n[1],e[1]),t.marginBottom=$(n[2],e[2]),t.plotLeft=$(n[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this,i=n.options.chart,a=n.renderer,o=n.chartWidth,r=n.chartHeight,s=n.chartBackground,l=n.plotBackground,c=n.plotBorder,d=n.plotBGImage,u=i.borderWidth||0,h=i.backgroundColor,f=i.plotBackgroundColor,p=i.plotBackgroundImage,g=i.plotBorderWidth||0,m=n.plotLeft,y=n.plotTop,v=n.plotWidth,b=n.plotHeight,x=n.plotBox,w=n.clipRect,C=n.clipBox;t=u+(i.shadow?8:0),(u||h)&&(s?s.animate(s.crisp({width:o-t,height:r-t})):(e={fill:h||Jt},u&&(e.stroke=i.borderColor,e["stroke-width"]=u),n.chartBackground=a.rect(t/2,t/2,o-t,r-t,i.borderRadius,u).attr(e).addClass(Xt+"background").add().shadow(i.shadow))),f&&(l?l.animate(x):n.plotBackground=a.rect(m,y,v,b,0).attr({fill:f}).add().shadow(i.plotShadow)),p&&(d?d.animate(x):n.plotBGImage=a.image(p,m,y,v,b).add()),w?w.animate({width:C.width,height:C.height}):n.clipRect=a.clipRect(C),g&&(c?c.animate(c.crisp({x:m,y:y,width:v,height:b})):n.plotBorder=a.rect(m,y,v,b,0,-g).attr({stroke:i.plotBorderColor,"stroke-width":g,fill:Jt,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var e,n,i,a=this,o=a.options.chart,r=a.options.series;be(["inverted","angular","polar"],function(t){for(e=he[o.type||o.defaultSeriesType],i=a[t]||o[t]||e&&e.prototype[t],n=r&&r.length;!i&&n--;)(e=he[r[n].type])&&e.prototype[t]&&(i=!0);a[t]=i})},linkSeries:function(){var n=this,t=n.series;be(t,function(t){t.linkedSeries.length=0}),be(t,function(t){var e=t.options.linkedTo;_(e)&&(e=":previous"===e?n.series[t.index-1]:n.get(e))&&(e.linkedSeries.push(t),t.linkedParent=e)})},renderSeries:function(){be(this.series,function(t){t.translate(),t.setTooltipPoints&&t.setTooltipPoints(),t.render()})},render:function(){var t,a=this,e=a.axes,o=a.renderer,n=a.options,r=n.labels,i=n.credits;a.setTitle(),a.legend=new Ye(a,n.legend),a.getStacks(),be(e,function(t){t.setScale()}),a.getMargins(),a.maxTicks=null,be(e,function(t){t.setTickPositions(!0),t.setMaxTicks()}),a.adjustTickAmounts(),a.getMargins(),a.drawChartBox(),a.hasCartesianSeries&&be(e,function(t){t.render()}),a.seriesGroup||(a.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),a.renderSeries(),r.items&&be(r.items,function(t){var e=I(r.style,t.style),n=S(e.left)+a.plotLeft,i=S(e.top)+a.plotTop+12;delete e.left,delete e.top,o.text(t.html,n,i).attr({zIndex:2}).css(e).add()}),i.enabled&&!a.credits&&(t=i.href,a.credits=o.text(i.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:i.position.align,zIndex:8}).css(i.style).add().align(i.position)),a.hasRendered=!0},destroy:function(){var t,n=this,e=n.axes,i=n.series,a=n.container,o=a&&a.parentNode;for(Te(n,"destroy"),Ht[n.index]=U,zt--,n.renderTo.removeAttribute("data-highcharts-chart"),Se(n),t=e.length;t--;)e[t]=e[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();for(t in be(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),a&&(a.innerHTML="",Se(a),o&&s(a)),n)delete n[t]},isReadyToRender:function(){var t=this;return!(!Ft&&ft==ft.top&&"complete"!==ht.readyState||Et&&!ft.canvg)||(Et?He.push(function(){t.firstRender()},t.options.global.canvasToolsURL):ht.attachEvent("onreadystatechange",function(){ht.detachEvent("onreadystatechange",t.firstRender),"complete"===ht.readyState&&t.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Te(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),be(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Te(e,"beforeRender"),fe.Pointer&&(e.pointer=new qe(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),be(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Te(e,"load"))},splashArray:function(t,e){var n=e[t],i=d(n)?n:[n,n,n,n];return[$(e[t+"Top"],i[0]),$(e[t+"Right"],i[1]),$(e[t+"Bottom"],i[2]),$(e[t+"Left"],i[3])]}},m.prototype.callbacks=[];var Qe=fe.CenteredSeriesMixin={getCenter:function(){var n,i,t=this.options,e=this.chart,a=2*(t.slicedOffset||0),o=e.plotWidth-2*a,r=e.plotHeight-2*a,s=t.center,l=[$(s[0],"50%"),$(s[1],"50%"),t.size||"100%",t.innerSize||0],c=bt(o,r);return Ce(l,function(t,e){return i=/%$/.test(t),n=e<2||2===e&&i,(i?[o,r,c,c][e]*S(t)/100:t)+(n?a:0)})}},Ze=function(){};Ze.prototype={init:function(t,e,n){var i,a=this;return a.series=t,a.applyOptions(e,n),a.pointAttr={},t.options.colorByPoint&&(i=t.options.colors||t.chart.options.colors,a.color=a.color||i[t.colorCounter++],t.colorCounter===i.length&&(t.colorCounter=0)),t.chart.pointCount++,a},applyOptions:function(t,e){var n=this,i=n.series,a=i.pointValKey;return I(n,t=Ze.prototype.optionsToObject.call(this,t)),n.options=n.options?I(n.options,t):t,a&&(n.y=n[a]),n.x===U&&i&&(n.x=e===U?i.autoIncrement():e),n},optionsToObject:function(t){var e,n={},i=this.series,a=i.pointArrayMap||["y"],o=a.length,r=0,s=0;if("number"==typeof t||null===t)n[a[0]]=t;else if(T(t))for(t.length>o&&("string"===(e=typeof t[0])?n.name=t[0]:"number"===e&&(n.x=t[0]),r++);s<o;)n[a[s++]]=t[r++];else"object"==typeof t&&((n=t).dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var t,e=this,n=e.series.chart,i=n.hoverPoints;for(t in n.pointCount--,i&&(e.setState(),u(i,e),i.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Se(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e),e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i=6;i--;)e[t=n[i]]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=$(n.valueDecimals,""),a=n.valuePrefix||"",o=n.valueSuffix||"";return be(t.pointArrayMap||["y"],function(t){t="{point."+t,(a||o)&&(e=e.replace(t+"}",a+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),M(e,{point:this,series:this.series})},firePointEvent:function(t,e,n){
var i=this,a=this.series.options;(a.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(n=function(t){i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Te(this,t,e,n)}};var Ke=function(){};Ke.prototype={isCartesian:!0,type:"line",pointClass:Ze,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var n,i,a=this,o=t.series,r=function(t,e){return $(t.options.index,t._i)-$(e.options.index,e._i)};for(n in a.chart=t,a.options=e=a.setOptions(e),a.linkedSeries=[],a.bindAxes(),I(a,{name:e.name,state:te,pointAttr:{},visible:!1!==e.visible,selected:!0===e.selected}),Et&&(e.animation=!1),i=e.events)_e(a,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),a.getColor(),a.getSymbol(),be(a.parallelArrays,function(t){a[t+"Data"]=[]}),a.setData(e.data,!1),a.isCartesian&&(t.hasCartesianSeries=!0),o.push(a),a._i=o.length-1,g(o,r),this.yAxis&&g(this.yAxis.series,r),be(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var n,i=this,a=i.options,t=i.chart;be(i.axisTypes||[],function(e){be(t[e],function(t){n=t.options,(a[e]===n.index||a[e]!==U&&a[e]===n.id||a[e]===U&&0===n.index)&&(t.series.push(i),(i[e]=t).isDirty=!0)}),i[e]||i.optionalAxis===e||H(18,!0)})},updateParallelArrays:function(n,i){var a=n.series,e=arguments,t="number"==typeof i?function(t){var e="y"===t&&a.toYData?a.toYData(n):n[t];a[t+"Data"][i]=e}:function(t){Array.prototype[i].apply(a[t+"Data"],Array.prototype.slice.call(e,2))};be(a.parallelArrays,t)},autoIncrement:function(){var t=this,e=t.options,n=t.xIncrement;return n=$(n,e.pointStart,0),t.pointInterval=$(t.pointInterval,e.pointInterval,1),t.xIncrement=n+t.pointInterval,n},getSegments:function(){var t,e=this,n=-1,i=[],a=e.points,o=a.length;if(o)if(e.options.connectNulls){for(t=o;t--;)null===a[t].y&&a.splice(t,1);a.length&&(i=[a])}else be(a,function(t,e){null===t.y?(n+1<e&&i.push(a.slice(n+1,e)),n=e):e===o-1&&i.push(a.slice(n+1,e+1))});e.segments=i},setOptions:function(t){var e,n=this.chart,i=n.options.plotOptions,a=n.userOptions||{},o=a.plotOptions||{},r=i[this.type];return this.userOptions=t,e=P(r,i.series,t),this.tooltipOptions=P(X.tooltip,X.plotOptions[this.type].tooltip,a.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,t.tooltip),null===r.marker&&delete e.marker,e},getColor:function(){var t,e,n=this.options,i=this.userOptions,a=this.chart.options.colors,o=this.chart.counters;(t=n.color||Pe[this.type].color)||n.colorByPoint||(F(i._colorIndex)?e=i._colorIndex:(i._colorIndex=o.color,e=o.color++),t=a[e]),this.color=t,o.wrapColor(a.length)},getSymbol:function(){var t,e=this,n=e.userOptions,i=e.options.marker,a=e.chart,o=a.options.symbols,r=a.counters;e.symbol=i.symbol,e.symbol||(F(n._symbolIndex)?t=n._symbolIndex:(n._symbolIndex=r.symbol,t=r.symbol++),e.symbol=o[t]),/^url/.test(e.symbol)&&(i.radius=0),r.wrapSymbol(o.length)},drawLegendSymbol:Je.drawLineMarker,setData:function(t,e,n,i){var a,o,r,s=this,l=s.points,c=l&&l.length||0,d=s.options,u=s.chart,h=null,f=s.xAxis,p=f&&!!f.categories,g=s.tooltipPoints,m=d.turboThreshold,y=this.xData,v=this.yData,b=s.pointArrayMap,x=b&&b.length;if(a=(t=t||[]).length,e=$(e,!0),!1===i||!a||c!==a||s.cropped||s.hasGroupedData){if(s.xIncrement=null,s.pointRange=p?1:d.pointRange,s.colorCounter=0,be(this.parallelArrays,function(t){s[t+"Data"].length=0}),m&&m<a){for(o=0;null===h&&o<a;)h=t[o],o++;if(k(h)){var w=$(d.pointStart,0),C=$(d.pointInterval,1);for(o=0;o<a;o++)y[o]=w,v[o]=t[o],w+=C;s.xIncrement=w}else if(T(h))if(x)for(o=0;o<a;o++)r=t[o],y[o]=r[0],v[o]=r.slice(1,x+1);else for(o=0;o<a;o++)r=t[o],y[o]=r[0],v[o]=r[1];else H(12)}else for(o=0;o<a;o++)t[o]!==U&&(r={series:s},s.pointClass.prototype.applyOptions.apply(r,[t[o]]),s.updateParallelArrays(r,o),p&&r.name&&(f.names[r.x]=r.name));for(_(v[0])&&H(14,!0),s.data=[],s.options.data=t,o=c;o--;)l[o]&&l[o].destroy&&l[o].destroy();g&&(g.length=0),f&&(f.minRange=f.userMinRange),s.isDirty=s.isDirtyData=u.isDirtyBox=!0,n=!1}else be(t,function(t,e){l[e].update(t,!1)});e&&u.redraw(n)},processData:function(t){var e,n,i,a,o,r,s,l=this,c=l.xData,d=l.yData,u=c.length,h=0,f=l.xAxis,p=l.options,g=p.cropThreshold,m=0,y=l.isCartesian;if(y&&!l.isDirty&&!f.isDirty&&!l.yAxis.isDirty&&!t)return!1;for(y&&l.sorted&&(!g||g<u||l.forceCrop)&&(r=f.min,s=f.max,c[u-1]<r||c[0]>s?(c=[],d=[]):(c[0]<r||c[u-1]>s)&&(c=(e=this.cropData(l.xData,l.yData,r,s)).xData,d=e.yData,h=e.start,n=!0,m=c.length)),o=c.length-1;0<=o;o--)i=c[o]-c[o-1],!n&&c[o]>r&&c[o]<s&&m++,0<i&&(a===U||i<a)?a=i:i<0&&l.requireSorting&&H(15);l.cropped=n,l.cropStart=h,l.processedXData=c,l.processedYData=d,l.activePointCount=m,null===p.pointRange&&(l.pointRange=a||1),l.closestPointRange=a},cropData:function(t,e,n,i){var a,o=t.length,r=0,s=o,l=$(this.cropShoulder,1);for(a=0;a<o;a++)if(t[a]>=n){r=vt(0,a-l);break}for(;a<o;a++)if(t[a]>i){s=a+l;break}return{xData:t.slice(r,s),yData:e.slice(r,s),start:r,end:s}},generatePoints:function(){var t,e,n,i,a=this,o=a.options.data,r=a.data,s=a.processedXData,l=a.processedYData,c=a.pointClass,d=s.length,u=a.cropStart||0,h=a.hasGroupedData,f=[];if(!r&&!h){var p=[];p.length=o.length,r=a.data=p}for(i=0;i<d;i++)e=u+i,h?f[i]=(new c).init(a,[s[i]].concat(y(l[i]))):(r[e]?n=r[e]:o[e]!==U&&(r[e]=n=(new c).init(a,o[e],s[i])),f[i]=n);if(r&&(d!==(t=r.length)||h))for(i=0;i<t;i++)i!==u||h||(i+=d),r[i]&&(r[i].destroyElements(),r[i].plotX=U);a.data=r,a.points=f},getExtremes:function(t){var e,n,i,a,o,r,s,l,c,d=this.xAxis,u=this.yAxis,h=this.processedXData,f=[],p=0,g=d.getExtremes(),m=g.min,y=g.max;for(e=(t=t||this.stackedYData||this.processedYData).length,l=0;l<e;l++)if(r=h[l],n=null!==(s=t[l])&&s!==U&&(!u.isLog||s.length||0<s),i=this.getExtremesFromAll||this.cropped||(h[l+1]||r)>=m&&(h[l-1]||r)<=y,n&&i)if(c=s.length)for(;c--;)null!==s[c]&&(f[p++]=s[c]);else f[p++]=s;this.dataMin=$(a,N(f)),this.dataMax=$(o,G(f))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,n=e.options,i=n.stacking,a=e.xAxis,o=a.categories,r=e.yAxis,s=e.points,l=s.length,c=!!e.modifyValue,d=n.pointPlacement,u="between"===d||k(d),h=n.threshold;for(t=0;t<l;t++){var f,p,g=s[t],m=g.x,y=g.y,v=g.low,b=i&&r.stacks[(e.negStacks&&y<h?"-":"")+e.stackKey];r.isLog&&y<=0&&(g.y=y=null),g.plotX=a.translate(m,0,0,0,1,d,"flags"===this.type),i&&e.visible&&b&&b[m]&&(v=(p=(f=b[m]).points[e.index+","+t])[0],y=p[1],0===v&&(v=$(h,r.min)),r.isLog&&v<=0&&(v=null),g.total=g.stackTotal=f.total,g.percentage=f.total&&g.y/f.total*100,g.stackY=y,f.setOffset(e.pointXOffset||0,e.barW||0)),g.yBottom=F(v)?r.translate(v,0,1,0,1):null,c&&(y=e.modifyValue(y,g)),g.plotY="number"==typeof y&&y!==Infinity?r.translate(y,0,1,0,1):U,g.clientX=u?a.translate(m,0,0,0,1):g.plotX,g.negative=g.y<(h||0),g.category=o&&o[g.x]!==U?o[g.x]:g.x}e.getSegments()},animate:function(t){var e,n,i,a=this,o=a.chart,r=o.renderer,s=a.options.animation,l=a.clipBox||o.clipBox,c=o.inverted;s&&!d(s)&&(s=Pe[a.type].animation),i=["_sharedClip",s.duration,s.easing,l.height].join(","),t?(e=o[i],n=o[i+"m"],e||(o[i]=e=r.clipRect(I(l,{width:0})),o[i+"m"]=n=r.clipRect(-99,c?-o.plotLeft:-o.plotTop,99,c?o.chartWidth:o.chartHeight)),a.group.clip(e),a.markerGroup.clip(n),a.sharedClipKey=i):((e=o[i])&&e.animate({width:o.plotSizeX},s),o[i+"m"]&&o[i+"m"].animate({width:o.plotSizeX+99},s),a.animate=null)},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,n=this.group,i=this.clipBox;n&&!1!==this.options.clip&&(e&&i||n.clip(i?t.renderer.clipRect(i):t.clipRect),this.markerGroup.clip()),Te(this,"afterAnimate"),setTimeout(function(){e&&t[e]&&(i||(t[e]=t[e].destroy()),t[e+"m"]&&(t[e+"m"]=t[e+"m"].destroy()))},100)},drawPoints:function(){var t,e,n,i,a,o,r,s,l,c,d,u,h=this,f=h.points,p=h.chart,g=h.options.marker,m=h.pointAttr[""],y=h.markerGroup,v=$(g.enabled,h.activePointCount<.5*h.xAxis.len/g.radius);if(!1!==g.enabled||h._hasPointMarkers)for(i=f.length;i--;)a=f[i],e=mt(a.plotX),n=a.plotY,l=a.graphic,c=a.marker||{},d=v&&c.enabled===U||c.enabled,u=p.isInsidePlot(gt(e),n,p.inverted),d&&n!==U&&!isNaN(n)&&null!==a.y?(o=(t=a.pointAttr[a.selected?ne:te]||m).r,s=0===(r=$(c.symbol,h.symbol)).indexOf("url"),l?l[u?"show":"hide"](!0).animate(I({x:e-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):u&&(0<o||s)&&(a.graphic=l=p.renderer.symbol(r,e-o,n-o,2*o,2*o).attr(t).add(y))):l&&(a.graphic=l.destroy())},convertAttribs:function(t,e,n,i){var a,o,r=this.pointAttrToOptions,s={};for(a in t=t||{},e=e||{},n=n||{},i=i||{},r)o=r[a],s[a]=$(t[o],e[a],n[a],i[a]);return s},getAttribs:function(){var t,e,n,i,a,o,r=this,s=r.options,l=Pe[r.type].marker?s.marker:s,c=l.states,d=c[ee],u=r.color,h={stroke:u,fill:u},f=r.points||[],p=[],g=r.pointAttrToOptions,m=r.hasPointSpecificOptions,y=s.negativeColor,v=l.lineColor,b=l.fillColor,x=s.turboThreshold;if(s.marker?(d.radius=d.radius||l.radius+2,d.lineWidth=d.lineWidth||l.lineWidth+1):d.color=d.color||Ee(d.color||u).brighten(d.brightness).get(),p[te]=r.convertAttribs(l,h),be([ee,ne],function(t){p[t]=r.convertAttribs(c[t],p[te])}),r.pointAttr=p,e=f.length,!x||e<x||m)for(;e--;){if((l=(n=f[e]).options&&n.options.marker||n.options)&&!1===l.enabled&&(l.radius=0),n.negative&&y&&(n.color=n.fillColor=y),m=s.colorByPoint||n.color,n.options)for(o in g)F(l[g[o]])&&(m=!0);m?(i=[],t=(c=(l=l||{}).states||{})[ee]=c[ee]||{},s.marker||(t.color=t.color||!n.options.color&&d.color||Ee(n.color).brighten(t.brightness||d.brightness).get()),a={color:n.color},b||(a.fillColor=n.color),v||(a.lineColor=n.color),i[te]=r.convertAttribs(I(a,l),p[te]),i[ee]=r.convertAttribs(c[ee],p[ee],i[te]),i[ne]=r.convertAttribs(c[ne],p[ne],i[te])):i=p,n.pointAttr=i}},destroy:function(){var e,t,n,i,a,o=this,r=o.chart,s=/AppleWebKit\/533/.test(Tt),l=o.data||[];for(Te(o,"destroy"),Se(o),be(o.axisTypes||[],function(t){(a=o[t])&&(u(a.series,o),a.isDirty=a.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=l.length;t--;)(n=l[t])&&n.destroy&&n.destroy();for(i in o.points=null,clearTimeout(o.animationTimeout),be(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){o[t]&&(e=s&&"group"===t?"hide":"destroy",o[t][e]())}),r.hoverSeries===o&&(r.hoverSeries=null),u(r.series,o),o)delete o[i]},getSegmentPath:function(o){var r=this,s=[],l=r.options.step;return be(o,function(t,e){var n,i=t.plotX,a=t.plotY;r.getPointSpline?s.push.apply(s,r.getPointSpline(o,t,e)):(s.push(e?Zt:Qt),l&&e&&(n=o[e-1],"right"===l?s.push(n.plotX,a):"center"===l?s.push((n.plotX+i)/2,n.plotY,(n.plotX+i)/2,a):s.push(i,n.plotY)),s.push(t.plotX,t.plotY))}),s},getGraphPath:function(){var e,n=this,i=[],a=[];return be(n.segments,function(t){e=n.getSegmentPath(t),1<t.length?i=i.concat(e):a.push(t[0])}),n.singlePoints=a,n.graphPath=i},drawGraph:function(){var o=this,r=this.options,t=[["graph",r.lineColor||this.color]],s=r.lineWidth,l=r.dashStyle,c="square"!==r.linecap,d=this.getGraphPath(),e=r.negativeColor;e&&t.push(["graphNeg",e]),be(t,function(t,e){var n,i=t[0],a=o[i];a?(Ae(a),a.animate({d:d})):s&&d.length&&(n={stroke:t[1],"stroke-width":s,fill:Jt,zIndex:1},l?n.dashstyle=l:c&&(n["stroke-linecap"]=n["stroke-linejoin"]="round"),o[i]=o.chart.renderer.path(d).attr(n).add(o.group).shadow(!e&&r.shadow))})},clipNeg:function(){var t,e,n,i,a,o=this.options,r=this.chart,s=r.renderer,l=o.negativeColor||o.negativeFillColor,c=this.graph,d=this.area,u=this.posClip,h=this.negClip,f=r.chartWidth,p=r.chartHeight,g=vt(f,p),m=this.yAxis;l&&(c||d)&&((t=gt(m.toPixels(o.threshold||0,!0)))<0&&(g-=t),i={x:0,y:0,width:g,height:t},a={x:0,y:t,width:g,height:g},r.inverted&&(i.height=a.y=r.plotWidth-t,s.isVML&&(i={x:r.plotWidth-t-r.plotLeft,y:0,width:f,height:p},a={x:t+r.plotLeft-f,y:0,width:r.plotLeft+t,height:f})),m.reversed?(e=a,n=i):(e=i,n=a),u?(u.animate(e),h.animate(n)):(this.posClip=u=s.clipRect(e),this.negClip=h=s.clipRect(n),c&&this.graphNeg&&(c.clip(u),this.graphNeg.clip(h)),d&&(d.clip(u),this.areaNeg.clip(h))))},invertGroups:function(){function t(){var e={width:n.yAxis.len,height:n.xAxis.len};be(["group","markerGroup"],function(t){n[t]&&n[t].attr(e).invert()})}var n=this,e=n.chart;n.xAxis&&(_e(e,"resize",t),_e(n,"destroy",function(){Se(e,"resize",t)}),t(),n.invertGroups=t)},plotGroup:function(t,e,n,i,a){var o=this[t],r=!o;return r&&(this[t]=o=this.chart.renderer.g(e).attr({visibility:n,zIndex:i||.1}).add(a)),o[r?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,a=i.animation,o=a&&!!e.animate&&n.renderer.isSVG&&$(a.duration,500)||0,r=e.visible?Vt:Ut,s=i.zIndex,l=e.hasRendered,c=n.seriesGroup;t=e.plotGroup("group","series",r,s,c),e.markerGroup=e.plotGroup("markerGroup","markers",r,s,c),o&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&n.inverted,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),n.inverted&&e.invertGroups(),!1===i.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(o?e.animationTimeout=setTimeout(function(){e.afterAnimate()},o):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirtyData,i=t.group,a=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:$(a&&a.left,e.plotLeft),translateY:$(o&&o.top,e.plotTop)})),t.translate(),t.setTooltipPoints&&t.setTooltipPoints(!0),t.render(),n&&Te(t,"updatedData")}},W.prototype={destroy:function(){r(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?M(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:Ut}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ut}).add(t)},setOffset:function(t,e){var n,i=this.axis,a=i.chart,o=a.inverted,r=this.isNegative,s=i.translate(i.usePercentage?100:this.total,0,0,0,1),l=i.translate(0),c=xt(s-l),d=a.xAxis[0].translate(this.x)+t,u=a.plotHeight,h={x:o?r?s:s-c:d,y:o?u-d-e:r?u-s-c:u-s,width:o?c:e,height:o?e:c},f=this.label;f&&(f.align(this.alignOptions,null,h),n=f.alignAttr,f[!1===this.options.crop||a.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},c.prototype.buildStacks=function(){var t=this.series,e=$(this.options.reversedStacks,!0),n=t.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)t[e?n:t.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<t.length;n++)t[n].setPercentStacks()}},c.prototype.renderStackTotals=function(){var t,e,n,i=this,a=i.chart,o=a.renderer,r=i.stacks,s=i.stackTotalGroup;for(t in s||(i.stackTotalGroup=s=o.g("stack-labels").attr({visibility:Vt,zIndex:6}).add()),s.translate(a.plotLeft,a.plotTop),r)for(n in e=r[t])e[n].render(s)},Ke.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,n,i,a,o,r,s,l=this,c=l.processedXData,d=l.processedYData,u=[],h=d.length,f=l.options,p=f.threshold,g=f.stack,m=f.stacking,y=l.stackKey,v="-"+y,b=l.negStacks,x=l.yAxis,w=x.stacks,C=x.oldStacks;for(o=0;o<h;o++)r=c[o],s=d[o],a=l.index+","+o,w[i=(t=b&&s<p)?v:y]||(w[i]={}),w[i][r]||(C[i]&&C[i][r]?(w[i][r]=C[i][r],w[i][r].total=null):w[i][r]=new W(x,x.options.stackLabels,t,r,g)),(e=w[i][r]).points[a]=[e.cum||0],"percent"===m?(n=t?y:v,b&&w[n]&&w[n][r]?(n=w[n][r],e.total=n.total=vt(n.total,e.total)+xt(s)||0):e.total=z(e.total+(xt(s)||0))):e.total=z(e.total+(s||0)),e.cum=(e.cum||0)+(s||0),e.points[a].push(e.cum),u[o]=e.cum;"percent"===m&&(x.usePercentage=!0),this.stackedYData=u,x.oldStacks={}}},Ke.prototype.setPercentStacks=function(){var r=this,t=r.stackKey,s=r.yAxis.stacks,l=r.processedXData;be([t,"-"+t],function(t){for(var e,n,i,a,o=l.length;o--;)e=l[o],(i=(n=s[t]&&s[t][e])&&n.points[r.index+","+o])&&(a=n.total?100/n.total:0,i[0]=z(i[0]*a),i[1]=z(i[1]*a),r.stackedYData[o]=i[1])})},I(m.prototype,{addSeries:function(t,e,n){var i,a=this;return t&&(e=$(e,!0),Te(a,"addSeries",{options:t},function(){i=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),e&&a.redraw(n)})),i},addAxis:function(t,e,n,i){var a=e?"xAxis":"yAxis",o=this.options;new c(this,P(t,{index:this[a].length,isX:e})),o[a]=y(o[a]||{}),o[a].push(t),$(n,!0)&&this.redraw(i)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,a=n.loading;i||(e.loadingDiv=i=R(Gt,{className:Xt+"loading"},I(a.style,{zIndex:10,display:Jt}),e.container),e.loadingSpan=R("span",null,a.labelStyle,i)),e.loadingSpan.innerHTML=t||n.lang.loading,e.loadingShown||(j(i,{opacity:0,display:"",left:e.plotLeft+Yt,top:e.plotTop+Yt,width:e.plotWidth+Yt,height:e.plotHeight+Yt}),De(i,{opacity:a.style.opacity},{duration:a.showDuration||0}),e.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&De(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){j(e,{display:Jt})}}),this.loadingShown=!1}}),I(Ze.prototype,{update:function(t,e,n){var i,a=this,o=a.series,r=a.graphic,s=o.data,l=o.chart,c=o.options;e=$(e,!0),a.firePointEvent("update",{options:t},function(){a.applyOptions(t),d(t)&&(o.getAttribs(),r&&(t&&t.marker&&t.marker.symbol?a.graphic=r.destroy():r.attr(a.pointAttr[a.state||""])),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy())),i=ve(a,s),o.updateParallelArrays(a,i),c.data[i]=a.options,o.isDirty=o.isDirtyData=!0,!o.fixedBox&&o.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&l.legend.destroyItem(a),e&&l.redraw(n)})},remove:function(t,e){var n,i=this,a=i.series,o=a.points,r=a.chart,s=a.data;v(e,r),t=$(t,!0),i.firePointEvent("remove",null,function(){n=ve(i,s),s.length===o.length&&o.splice(n,1),s.splice(n,1),a.options.data.splice(n,1),a.updateParallelArrays(i,"splice",n,1),i.destroy(),a.isDirty=!0,a.isDirtyData=!0,t&&r.redraw()})}}),I(Ke.prototype,{addPoint:function(t,e,n,i){var a,o,r,s,l=this,c=l.options,d=l.data,u=l.graph,h=l.area,f=l.chart,p=l.xAxis&&l.xAxis.names,g=u&&u.shift||0,m=c.data,y=l.xData;if(v(i,f),n&&be([u,h,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=g+1)}),h&&(h.isArea=!0),e=$(e,!0),a={series:l},l.pointClass.prototype.applyOptions.apply(a,[t]),r=a.x,s=y.length,l.requireSorting&&r<y[s-1])for(o=!0;s&&y[s-1]>r;)s--;l.updateParallelArrays(a,"splice",s,0,0),l.updateParallelArrays(a,s),p&&(p[r]=a.name),m.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(d[0]&&d[0].remove?d[0].remove(!1):(d.shift(),l.updateParallelArrays(a,"shift"),m.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),f.redraw())},remove:function(t,e){var n=this,i=n.chart;t=$(t,!0),n.isRemoving||(n.isRemoving=!0,Te(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),t&&i.redraw(e)})),n.isRemoving=!1},update:function(t,e){var n,i=this.chart,a=this.userOptions,o=this.type,r=he[o].prototype;for(n in t=P(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1),r)r.hasOwnProperty(n)&&(this[n]=U);I(this,he[t.type||o].prototype),this.init(i,t),$(e,!0)&&i.redraw(!1)}}),I(c.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=P(this.userOptions,t),this.destroy(!0),this._addedPlotLB=U,this.init(n,I(t,{events:U})),$(e,n.isDirtyBox=!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,a=i.length;a--;)i[a]&&i[a].remove(!1);u(e.axes,this),u(e[n],this),e.options[n].splice(this.options.index,1),be(e[n],function(t,e){t.options.index=e}),this.destroy(),$(t,e.isDirtyBox=!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var tn=e(Ke);he.line=tn,Pe.area=P(Le,{threshold:0});var en=e(Ke,{type:"area",getSegments:function(){var e,n,i,t,a,o=[],r=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(t=0;t<h.length;t++)u[h[t].x]=h[t];for(a in d)null!==d[a].total&&s.push(+a);s.sort(function(t,e){return t-e}),be(s,function(t){(!f||u[t]&&null!==u[t].y)&&(u[t]?r.push(u[t]):(e=l.translate(t),i=d[t].percent?d[t].total?100*d[t].cum/d[t].total:0:d[t].cum,n=c.toPixels(i,!0),r.push({y:null,plotX:e,clientX:e,plotY:n,yBottom:n,onMouseOver:Nt})))}),r.length&&o.push(r)}else Ke.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(t){var e,n,i=Ke.prototype.getSegmentPath.call(this,t),a=[].concat(i),o=this.options,r=i.length,s=this.yAxis.getThreshold(o.threshold);if(3===r&&a.push(Zt,i[1],i[2]),o.stacking&&!this.closedStacks)for(e=t.length-1;0<=e;e--)n=$(t[e].yBottom,s),e<t.length-1&&o.step&&a.push(t[e+1].plotX,n),a.push(t[e].plotX,n);else this.closeSegment(a,t,s);return this.areaPath=this.areaPath.concat(a),i},closeSegment:function(t,e,n){t.push(Zt,e[e.length-1].plotX,n,Zt,e[0].plotX,n)},drawGraph:function(){this.areaPath=[],Ke.prototype.drawGraph.apply(this);var i=this,a=this.areaPath,o=this.options,t=o.negativeColor,e=o.negativeFillColor,n=[["area",this.color,o.fillColor]];(t||e)&&n.push(["areaNeg",t,e]),be(n,function(t){var e=t[0],n=i[e];n?n.animate({d:a}):i[e]=i.chart.renderer.path(a).attr({fill:$(t[2],Ee(t[1]).setOpacity($(o.fillOpacity,.75)).get()),zIndex:0}).add(i.group)})},drawLegendSymbol:Je.drawRectangle});he.area=en,Pe.spline=P(Le);var nn=e(Ke,{type:"spline",getPointSpline:function(t,e,n){var i,a,o,r,s,l=1.5,c=l+1,d=e.plotX,u=e.plotY,h=t[n-1],f=t[n+1];if(h&&f){var p,g=h.plotX,m=h.plotY,y=f.plotX,v=f.plotY;r=(l*u+v)/c,r+=p=(r-(a=(l*u+m)/c))*((o=(l*d+y)/c)-d)/(o-(i=(l*d+g)/c))+u-r,m<(a+=p)&&u<a?r=2*u-(a=vt(m,u)):a<m&&a<u&&(r=2*u-(a=bt(m,u))),v<r&&u<r?a=2*u-(r=vt(v,u)):r<v&&r<u&&(a=2*u-(r=bt(v,u))),e.rightContX=o,e.rightContY=r}return n?(s=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,i||d,a||u,d,u],h.rightContX=h.rightContY=null):s=[Qt,d,u],s}});he.spline=nn,Pe.areaspline=P(Pe.area);var an=en.prototype,on=e(nn,{type:"areaspline",closedStacks:!0,getSegmentPath:an.getSegmentPath,closeSegment:an.closeSegment,drawGraph:an.drawGraph,drawLegendSymbol:Je.drawRectangle});he.areaspline=on,Pe.column=P(Le,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var rn=e(Ke,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ke.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&be(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var i,a,o=this,t=o.options,e=o.xAxis,r=o.yAxis,n=e.reversed,s={},l=0;!1===t.grouping?l=1:be(o.chart.series,function(t){var e=t.options,n=t.yAxis;t.type===o.type&&t.visible&&r.len===n.len&&r.pos===n.pos&&(e.stacking?(i=t.stackKey,s[i]===U&&(s[i]=l++),a=s[i]):!1!==e.grouping&&(a=l++),t.columnIndex=a)});var c=bt(xt(e.transA)*(e.ordinalSlope||t.pointRange||e.closestPointRange||e.tickInterval||1),e.len),d=c*t.groupPadding,u=(c-2*d)/l,h=t.pointWidth,f=F(h)?(u-h)/2:u*t.pointPadding,p=$(h,u-2*f),g=f+(d+((n?l-(o.columnIndex||0):o.columnIndex)||0)*u-c/2)*(n?-1:1);return o.columnMetrics={width:p,offset:g}},translate:function(){var c=this,d=c.chart,t=c.options,e=c.borderWidth=$(t.borderWidth,c.activePointCount>.5*c.xAxis.len?0:1),u=c.yAxis,n=t.threshold,h=c.translatedThreshold=u.getThreshold(n),f=$(t.minPointLength,5),i=c.getColumnMetrics(),p=i.width,g=c.barW=yt(vt(p,1+2*e)),m=c.pointXOffset=i.offset,y=-(e%2?.5:0),v=e%2?.5:1;d.renderer.isVML&&d.inverted&&(v+=1),Ke.prototype.translate.apply(c),be(c.points,function(t){var e,n,i=$(t.yBottom,h),a=bt(vt(-999-i,t.plotY),u.len+999+i),o=t.plotX+m,r=g,s=bt(a,i),l=vt(a,i)-s;xt(l)<f&&f&&(l=f,s=gt(xt(s-h)>f?i-f:h-(u.translate(t.y,0,1,0,1)<=h?f:0))),t.barX=o,t.pointWidth=p,t.tooltipPos=d.inverted?[u.len-a,c.xAxis.len-o-r/2]:[o+r/2,a],n=xt(o)<.5,r=gt(o+r)+y-(o=gt(o)+y),e=xt(s)<.5,l=gt(s+l)+v-(s=gt(s)+v),n&&(o+=1,r-=1),e&&(s-=1,l+=1),t.shapeType="rect",t.shapeArgs={x:o,y:s,width:r,height:l}})},getSymbol:Nt,drawLegendSymbol:Je.drawRectangle,drawGraph:Nt,drawPoints:function(){var i,a,o,r=this,s=this.chart,l=r.options,c=s.renderer,d=l.animationLimit||250;be(r.points,function(t){var e=t.plotY,n=t.graphic;e===U||isNaN(e)||null===t.y?n&&(t.graphic=n.destroy()):(i=t.shapeArgs,o=F(r.borderWidth)?{"stroke-width":r.borderWidth}:{},a=t.pointAttr[t.selected?ne:te]||r.pointAttr[te],n?(Ae(n),n.attr(o)[s.pointCount<d?"animate":"attr"](P(i))):t.graphic=n=c[t.shapeType](i).attr(a).attr(o).add(r.group).shadow(l.shadow,null,l.stacking&&!l.borderRadius))})},animate:function(t){var e,n=this,i=this.yAxis,a=n.options,o=this.chart.inverted,r={};Ft&&(t?(r.scaleY=.001,e=bt(i.pos+i.len,vt(i.pos,i.toPixels(a.threshold))),o?r.translateX=e-i.len:r.translateY=e,n.group.attr(r)):(r.scaleY=1,r[o?"translateX":"translateY"]=i.pos,n.group.animate(r,n.options.animation),n.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&be(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Ke.prototype.remove.apply(e,arguments)}});he.column=rn,Pe.bar=P(Pe.column);var sn=e(rn,{type:"bar",inverted:!0});he.bar=sn,Pe.scatter=P(Le,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var ln=e(Ke,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Ke.prototype.drawGraph.call(this)}});he.scatter=ln,Pe.pie=P(Le,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var cn={type:"pie",isCartesian:!1,pointClass:e(Ze,{init:function(){Ze.prototype.init.apply(this,arguments);var t,e=this;return e.y<0&&(e.y=null),I(e,{visible:!1!==e.visible,name:$(e.name,"Slice")}),_e(e,"select",t=function(t){e.slice("select"===t.type)}),_e(e,"unselect",t),e},setVisible:function(e){var n=this,t=n.series,i=t.chart;n.visible=n.options.visible=e=e===U?!n.visible:e,t.options.data[ve(n,t.data)]=n.options,be(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),!t.isDirty&&t.options.ignoreHiddenPoint&&(t.isDirty=!0,i.redraw())},slice:function(t,e,n){var i,a=this,o=a.series;v(n,o.chart),e=$(e,!0),a.sliced=a.options.sliced=t=F(t)?t:!a.sliced,o.options.data[ve(a,o.data)]=a.options,i=t?a.slicedTranslation:{translateX:0,translateY:0},a.graphic.animate(i),a.shadowGroup&&a.shadowGroup.animate(i)},haloPath:function(t){var e=this.shapeArgs,n=this.series.chart;return this.series.chart.renderer.symbols.arc(n.plotLeft+e.x,n.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Nt,animate:function(t){var i=this,e=i.points,a=i.startAngleRad;t||(be(e,function(t){var e=t.graphic,n=t.shapeArgs;e&&(e.attr({r:i.center[3]/2,start:a,end:a}),e.animate({r:n.r,start:n.start,end:n.end},i.options.animation))}),i.animate=null)},setData:function(t,e,n,i){Ke.prototype.setData.call(this,t,!1,n,i),this.processData(),this.generatePoints(),$(e,!0)&&this.chart.redraw(n)},generatePoints:function(){var t,e,n,i,a=0,o=this.options.ignoreHiddenPoint;for(Ke.prototype.generatePoints.call(this),n=(e=this.points).length,t=0;t<n;t++)i=e[t],a+=o&&!i.visible?0:i.y;for(this.total=a,t=0;t<n;t++)(i=e[t]).percentage=0<a?i.y/a*100:0,i.total=a},translate:function(n){this.generatePoints();var t,e,i,a,o,r,s,l=this,c=0,d=1e3,u=l.options,h=u.slicedOffset,f=h+u.borderWidth,p=u.startAngle||0,g=l.startAngleRad=_t/180*(p-90),m=(l.endAngleRad=_t/180*($(u.endAngle,p+360)-90))-g,y=l.points,v=u.dataLabels.distance,b=u.ignoreHiddenPoint,x=y.length;for(n||(l.center=n=l.getCenter()),l.getX=function(t,e){return i=pt.asin(bt((t-n[1])/(n[2]/2+v),1)),n[0]+(e?-1:1)*(wt(i)*(n[2]/2+v))},r=0;r<x;r++)s=y[r],t=g+c*m,b&&!s.visible||(c+=s.percentage/100),e=g+c*m,s.shapeType="arc",s.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:gt(t*d)/d,end:gt(e*d)/d},1.5*_t<(i=(e+t)/2)?i-=2*_t:i<-_t/2&&(i+=2*_t),s.slicedTranslation={translateX:gt(wt(i)*h),translateY:gt(Ct(i)*h)},a=wt(i)*n[2]/2,o=Ct(i)*n[2]/2,s.tooltipPos=[n[0]+.7*a,n[1]+.7*o],s.half=i<-_t/2||_t/2<i?1:0,s.angle=i,f=bt(f,v/2),s.labelPos=[n[0]+a+wt(i)*v,n[1]+o+Ct(i)*v,n[0]+a+wt(i)*f,n[1]+o+Ct(i)*f,n[0]+a,n[1]+o,v<0?"center":s.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var e,n,i,a,o=this,r=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),be(o.points,function(t){n=t.graphic,a=t.shapeArgs,i=t.shadowGroup,s&&!i&&(i=t.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),n?n.animate(I(a,e)):t.graphic=n=r[t.shapeType](a).setRadialReference(o.center).attr(t.pointAttr[t.selected?ne:te]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(s,i),t.visible!==undefined&&t.setVisible(t.visible)})},sortByAngle:function(t,n){t.sort(function(t,e){return t.angle!==undefined&&(e.angle-t.angle)*n})},drawLegendSymbol:Je.drawRectangle,getCenter:Qe.getCenter,getSymbol:Nt};cn=e(Ke,cn),he.pie=cn,Ke.prototype.drawDataLabels=function(){var c,d,u,h,f=this,t=f.options,p=t.cursor,g=t.dataLabels,e=f.points;(g.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(g),h=f.plotGroup("dataLabelsGroup","data-labels",Ut,g.zIndex||6),!f.hasRendered&&$(g.defer,!0)&&(h.attr({opacity:0}),_e(f,"afterAnimate",function(){f.dataLabelsGroup.show()[t.animation?"animate":"attr"]({opacity:1},{duration:200})})),d=g,be(e,function(t){var e,n,i,a,o,r=t.dataLabel,s=t.connector,l=!0;if(e=$((c=t.options&&t.options.dataLabels)&&c.enabled,d.enabled),r&&!e)t.dataLabel=r.destroy();else if(e){if(o=(g=P(d,c)).rotation,n=t.getLabelConfig(),u=g.format?M(g.format,n):g.formatter.call(n,g),g.style.color=$(g.color,g.style.color,f.color,"black"),r)F(u)?(r.attr({text:u}),l=!1):(t.dataLabel=r=r.destroy(),s&&(t.connector=s.destroy()));else if(F(u)){for(a in i={fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.borderWidth,r:g.borderRadius||0,rotation:o,padding:g.padding,zIndex:1})i[a]===U&&delete i[a];r=t.dataLabel=f.chart.renderer[o?"text":"label"](u,0,-999,null,null,null,g.useHTML).attr(i).css(I(g.style,p&&{cursor:p})).add(h).shadow(g.shadow)}r&&f.alignDataLabel(t,r,g,null,l)}}))},Ke.prototype.alignDataLabel=function(t,e,n,i,a){var o,r=this.chart,s=r.inverted,l=$(t.plotX,-999),c=$(t.plotY,-999),d=e.getBBox(),u=this.visible&&(t.series.forceDL||r.isInsidePlot(l,gt(c),s)||i&&r.isInsidePlot(l,s?i.x+1:i.y+i.height-1,s));u&&(i=I({x:s?r.plotWidth-c:l,y:gt(s?r.plotHeight-l:c),width:0,height:0},i),I(n,{width:d.width,height:d.height}),n.rotation?(o={align:n.align,x:i.x+n.x+i.width/2,y:i.y+n.y+i.height/2},e[a?"attr":"animate"](o)):(e.align(n,null,i),o=e.alignAttr,"justify"===$(n.overflow,"justify")?this.justifyDataLabel(e,n,o,d,i,a):$(n.crop,!0)&&(u=r.isInsidePlot(o.x,o.y)&&r.isInsidePlot(o.x+d.width,o.y+d.height)))),u||(e.attr({y:-999}),e.placed=!1)},Ke.prototype.justifyDataLabel=function(t,e,n,i,a,o){var r,s,l=this.chart,c=e.align,d=e.verticalAlign;(r=n.x)<0&&("right"===c?e.align="left":e.x=-r,s=!0),(r=n.x+i.width)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-r,s=!0),(r=n.y)<0&&("bottom"===d?e.verticalAlign="top":e.y=-r,s=!0),(r=n.y+i.height)>l.plotHeight&&("top"===d?e.verticalAlign="bottom":e.y=l.plotHeight-r,s=!0),s&&(t.placed=!o,t.align(e,null,a))},he.pie&&(he.pie.prototype.drawDataLabels=function(){var t,e,n,i,a,o,r,s,l,c,d,u,h,f=this,p=f.data,g=f.chart,m=f.options.dataLabels,y=$(m.connectorPadding,10),v=$(m.connectorWidth,1),b=g.plotWidth,x=g.plotHeight,w=$(m.softConnector,!0),C=m.distance,_=f.center,S=_[2]/2,T=_[1],k=0<C,D=[[],[]],A=[0,0,0,0],
I=function(t,e){return e.y-t.y};if(f.visible&&(m.enabled||f._hasPointLabels)){for(Ke.prototype.drawDataLabels.apply(f),be(p,function(t){t.dataLabel&&t.visible&&D[t.half].push(t)}),u=0;!r&&p[u];)r=p[u]&&p[u].dataLabel&&(p[u].dataLabel.getBBox().height||21),u++;for(u=2;u--;){var P,L,j,F=[],M=[],E=D[u],R=E.length;if(f.sortByAngle(E,u-.5),0<C){for(L=T-S-C;L<=T+S+C;L+=r)F.push(L);if((P=F.length)<R){for((d=[].concat(E)).sort(I),h=R;h--;)d[h].rank=h;for(h=R;h--;)E[h].rank>=P&&E.splice(h,1);R=E.length}for(h=0;h<R;h++){t=E[h],o=t.labelPos;var O,N,H=9999;for(N=0;N<P;N++)(O=xt(F[N]-o[1]))<H&&(H=O,j=N);if(j<h&&null!==F[h])j=h;else if(P<R-h+j&&null!==F[h])for(j=P-R+h;null===F[j];)j++;else for(;null===F[j];)j++;M.push({i:j,y:F[j]}),F[j]=null}M.sort(I)}for(h=0;h<R;h++){var z,B;t=E[h],o=t.labelPos,i=t.dataLabel,c=!1===t.visible?Ut:Vt,B=o[1],0<C?(j=(z=M.pop()).i,((l=z.y)<B&&null!==F[j+1]||B<l&&null!==F[j-1])&&(l=B)):l=B,s=m.justify?_[0]+(u?-1:1)*(S+C):f.getX(0===j||j===F.length-1?B:l,u),i._attr={visibility:c,align:o[6]},i._pos={x:s+m.x+({left:y,right:-y}[o[6]]||0),y:l+m.y-10},i.connX=s,i.connY=l,null===this.options.size&&(a=i.width,s-a<y?A[3]=vt(gt(a-s+y),A[3]):b-y<s+a&&(A[1]=vt(gt(s+a-b+y),A[1])),l-r/2<0?A[0]=vt(gt(r/2-l),A[0]):x<l+r/2&&(A[2]=vt(gt(l+r/2-x),A[2])))}}(0===G(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),k&&v&&be(this.points,function(t){e=t.connector,o=t.labelPos,(i=t.dataLabel)&&i._pos?(c=i._attr.visibility,s=i.connX,l=i.connY,n=w?[Qt,s+("left"===o[6]?5:-5),l,"C",s,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Zt,o[4],o[5]]:[Qt,s+("left"===o[6]?5:-5),l,Zt,o[2],o[3],Zt,o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",c)):t.connector=e=f.chart.renderer.path(n).attr({"stroke-width":v,stroke:m.connectorColor||t.color||"#606060",visibility:c}).add(f.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},he.pie.prototype.placeDataLabels=function(){be(this.points,function(t){var e,n=t.dataLabel;n&&((e=n._pos)?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-999}))})},he.pie.prototype.alignDataLabel=Nt,he.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,a=i.center,o=i.minSize||80,r=o;return null!==a[0]?r=vt(n[2]-vt(t[1],t[3]),o):(r=vt(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==a[1]?r=vt(bt(r,n[2]-vt(t[0],t[2])),o):(r=vt(bt(r,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),r<n[2]?(n[2]=r,this.translate(n),be(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),he.column&&(he.column.prototype.alignDataLabel=function(t,e,n,i,a){var o=this.chart,r=o.inverted,s=t.dlBox||t.shapeArgs,l=t.below||t.plotY>$(this.translatedThreshold,o.plotSizeY),c=$(n.inside,!!this.options.stacking);s&&(i=P(s),r&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),c||(r?(i.x+=l?0:i.width,i.width=0):(i.y+=l?i.height:0,i.height=0))),n.align=$(n.align,!r||c?"center":l?"right":"left"),n.verticalAlign=$(n.verticalAlign,r||c?"middle":l?"top":"bottom"),Ke.prototype.alignDataLabel.call(this,t,e,n,i,a)});var dn=fe.TrackerMixin={drawTrackerPoint:function(){var i=this,a=i.chart,e=a.pointer,t=i.options.cursor,n=t&&{cursor:t},o=function(t){var e,n=t.target;for(a.hoverSeries!==i&&i.onMouseOver();n&&!e;)e=n.point,n=n.parentNode;e!==U&&e!==a.hoverPoint&&e.onMouseOver(t)};be(i.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),i._hasTracking||(be(i.trackerGroups,function(t){i[t]&&(i[t].addClass(Xt+"tracker").on("mouseover",o).on("mouseout",function(t){e.onTrackerMouseOut(t)}).css(n),x&&i[t].on("touchstart",o))}),i._hasTracking=!0)},drawTrackerGraph:function(){var t,e,n=this,i=n.options,a=i.trackByArea,o=[].concat(a?n.areaPath:n.graphPath),r=o.length,s=n.chart,l=s.pointer,c=s.renderer,d=s.options.tooltip.snap,u=n.tracker,h=i.cursor,f=h&&{cursor:h},p=n.singlePoints,g=function(){s.hoverSeries!==n&&n.onMouseOver()},m="rgba(192,192,192,"+(Ft?1e-4:.002)+")";if(r&&!a)for(e=r+1;e--;)o[e]===Qt&&o.splice(e+1,0,o[e+1]-d,o[e+2],Zt),(e&&o[e]===Qt||e===r)&&o.splice(e,0,Zt,o[e-2]+d,o[e-1]);for(e=0;e<p.length;e++)t=p[e],o.push(Qt,t.plotX-d,t.plotY,Zt,t.plotX+d,t.plotY);u?u.attr({d:o}):(n.tracker=c.path(o).attr({"stroke-linejoin":"round",visibility:n.visible?Vt:Ut,stroke:m,fill:a?m:Jt,"stroke-width":i.lineWidth+(a?0:2*d),zIndex:2}).add(n.group),be([n.tracker,n.markerGroup],function(t){t.addClass(Xt+"tracker").on("mouseover",g).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(f),x&&t.on("touchstart",g)}))}};he.column&&(rn.prototype.drawTracker=dn.drawTrackerPoint),he.pie&&(he.pie.prototype.drawTracker=dn.drawTrackerPoint),he.scatter&&(ln.prototype.drawTracker=dn.drawTrackerPoint),I(Ye.prototype,{setItemEvents:function(i,t,e,n,a){var o=this;(e?t:i.legendGroup).on("mouseover",function(){i.setState(ee),t.css(o.options.itemHoverStyle)}).on("mouseout",function(){t.css(i.visible?n:a),i.setState()}).on("click",function(t){var e="legendItemClick",n=function(){i.setVisible()};t={browserEvent:t},i.firePointEvent?i.firePointEvent(e,t,n):Te(i,e,t,n)})},createCheckboxForItem:function(n){var t=this;n.checkbox=R("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},t.options.itemCheckboxStyle,t.chart.container),_e(n.checkbox,"click",function(t){var e=t.target;Te(n,"checkboxClick",{checked:e.checked},function(){n.select()})})}}),X.legend.itemStyle.cursor="pointer",I(m.prototype,{showResetZoom:function(){var t=this,e=X.lang,n=t.options.chart.resetZoomButton,i=n.theme,a=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,a&&a.hover).attr({align:n.position.align,title:e.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var t=this;Te(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var i,e,n=this,a=n.pointer,o=!1;!t||t.resetSelection?be(n.axes,function(t){i=t.zoom()}):be(t.xAxis.concat(t.yAxis),function(t){var e=t.axis,n=e.isXAxis;(a[n?"zoomX":"zoomY"]||a[n?"pinchX":"pinchY"])&&(i=e.zoom(t.min,t.max),e.displayBtn&&(o=!0))}),e=n.resetZoomButton,o&&!e?n.showResetZoom():!o&&d(e)&&(n.resetZoomButton=e.destroy()),i&&n.redraw($(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(l,t){var c,d=this,e=d.hoverPoints;e&&be(e,function(t){t.setState()}),be("xy"===t?[1,0]:[1],function(t){var e=l[t?"chartX":"chartY"],n=d[t?"xAxis":"yAxis"][0],i=d[t?"mouseDownX":"mouseDownY"],a=(n.pointRange||0)/2,o=n.getExtremes(),r=n.toValue(i-e,!0)+a,s=n.toValue(i+d[t?"plotWidth":"plotHeight"]-e,!0)-a;n.series.length&&r>bt(o.dataMin,o.min)&&s<vt(o.dataMax,o.max)&&(n.setExtremes(r,s,!1,!1,{trigger:"pan"}),c=!0),d[t?"mouseDownX":"mouseDownY"]=e}),c&&d.redraw(!1),j(d.container,{cursor:"move"})}}),I(Ze.prototype,{select:function(t,e){var n=this,i=n.series,a=i.chart;t=$(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[ve(n,i.data)]=n.options,n.setState(t&&ne),e||be(a.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[ve(t,i.data)]=t.options,t.setState(te),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,n=e.series,i=n.chart,a=i.tooltip,o=i.hoverPoint;o&&o!==e&&o.onMouseOut(),e.firePointEvent("mouseOver"),!a||a.shared&&!n.noSharedTooltip||a.refresh(e,t),e.setState(ee),i.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==ve(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,n=P(e.series.options.point,e.options).events;for(t in e.events=n)_e(e,t,n[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,i,a,o,r=this,s=r.plotX,l=r.plotY,c=r.series,d=c.options.states,u=Pe[c.type].marker&&c.options.marker,h=u&&!u.enabled,f=u&&u.states[t],p=f&&!1===f.enabled,g=c.stateMarkerGraphic,m=r.marker||{},y=c.chart,v=c.halo;t=t||te,o=r.pointAttr[t]||c.pointAttr[t],t===r.state&&!e||r.selected&&t!==ne||d[t]&&!1===d[t].enabled||t&&(p||h&&!1===f.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled||(r.graphic?(n=u&&r.graphic.symbolName&&o.r,r.graphic.attr(P(o,n?{x:s-n,y:l-n,width:2*n,height:2*n}:{})),g&&g.hide()):(t&&f&&(n=f.radius,a=m.symbol||c.symbol,g&&g.currentSymbol!==a&&(g=g.destroy()),g?g[e?"animate":"attr"]({x:s-n,y:l-n}):a&&(c.stateMarkerGraphic=g=y.renderer.symbol(a,s-n,l-n,2*n,2*n).attr(o).add(c.markerGroup),g.currentSymbol=a)),g&&g[t&&y.isInsidePlot(s,l,y.inverted)?"show":"hide"]()),(i=d[t]&&d[t].halo)&&i.size?(v||(c.halo=v=y.renderer.path().add(c.seriesGroup)),v.attr(I({fill:Ee(r.color||c.color).setOpacity(i.opacity).get()},i.attributes))[e?"animate":"attr"]({d:r.haloPath(i.size)})):v&&v.attr({d:[]}),r.state=t)},haloPath:function(t){var e=this.series,n=e.chart,i=e.getPlotBox(),a=n.inverted;return n.renderer.symbols.circle(i.translateX+(a?e.yAxis.len-this.plotY:this.plotX)-t,i.translateY+(a?e.xAxis.len-this.plotX:this.plotY)-t,2*t,2*t)}}),I(Ke.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&Te(t,"mouseOver"),t.setState(ee),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,a=n.hoverPoint;a&&a.onMouseOut(),t&&e.events.mouseOut&&Te(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState(),n.hoverSeries=null},setState:function(t){var e,n=this,i=n.options,a=n.graph,o=n.graphNeg,r=i.states,s=i.lineWidth;if(t=t||te,n.state!==t){if(r[n.state=t]&&!1===r[t].enabled)return;t&&(s=r[t].lineWidth||s+1),a&&!a.dashstyle&&(e={"stroke-width":s},a.attr(e),o&&o.attr(e))}},setVisible:function(e,t){var n,i=this,a=i.chart,o=i.legendItem,r=a.options.chart.ignoreHiddenSeries,s=i.visible;i.visible=e=i.userOptions.visible=e===U?!s:e,n=e?"show":"hide",be(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),a.hoverSeries===i&&i.onMouseOut(),o&&a.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&be(a.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),be(i.linkedSeries,function(t){t.setVisible(e,!1)}),r&&(a.isDirtyBox=!0),!1!==t&&a.redraw(),Te(i,n)},setTooltipPoints:function(t){var e,n,i,a,o,r,s,l=this,c=[],d=l.xAxis,u=d&&d.getExtremes(),h=d?d.tooltipLen||d.len:l.chart.plotSizeX,f=[];if(!1!==l.options.enableMouseTracking&&!l.singularTooltips){for(t&&(l.tooltipPoints=null),be(l.segments||l.points,function(t){c=c.concat(t)}),d&&d.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,s=0;s<e;s++)if((o=(a=c[s]).x)>=u.min&&o<=u.max)for(r=c[s+1],n=i===U?0:i+1,i=c[s+1]?bt(vt(0,mt((a.clientX+(r?r.wrappedClientX||r.clientX:h))/2)),h):h;0<=n&&n<=i;)f[n++]=a;l.tooltipPoints=f}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===U?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Te(e,t?"select":"unselect")},drawTracker:dn.drawTrackerGraph}),I(fe,{Axis:c,Chart:m,Color:Ee,Point:Ze,Tick:q,Renderer:b,Series:Ke,SVGElement:B,SVGRenderer:ze,arrayMin:N,arrayMax:G,charts:Ht,dateFormat:C,format:M,pathAnim:Y,getOptions:o,hasBidiBug:Mt,isTouchDevice:Lt,numberFormat:h,seriesTypes:he,setOptions:i,addEvent:_e,removeEvent:Se,createElement:R,discardElement:s,css:j,each:be,extend:I,map:Ce,merge:P,pick:$,splat:y,extendClass:e,pInt:S,wrap:a,svg:Ft,canvas:Et,vml:!Ft&&!Et,product:Bt,version:$t})}(),function(a,n,E,h){"use strict";var o=E("html"),r=E(a),c=E(n),R=E.fancybox=function(){R.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),l=null,d=n.createTouch!==h,f=function(t){return t&&t.hasOwnProperty&&t instanceof E},p=function(t){return t&&"string"===E.type(t)},O=function(t){return p(t)&&0<t.indexOf("%")},u=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},N=function(t,e){var n=parseInt(t,10)||0;return e&&O(t)&&(n=R.getViewport()[e]/100*n),Math.ceil(n)},H=function(t,e){return N(t,e)+"px"};E.extend(R,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!d,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:E.noop,beforeLoad:E.noop,afterLoad:E.noop,beforeShow:E.noop,afterShow:E.noop,beforeChange:E.noop,beforeClose:E.noop,afterClose:E.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(d,u){if(d&&(E.isPlainObject(u)||(u={}),!1!==R.close(!0)))return E.isArray(d)||(d=f(d)?E(d).get():[d]),E.each(d,function(t,e){var n,i,a,o,r,s,l,c={};"object"===E.type(e)&&(e.nodeType&&(e=E(e)),f(e)?(c={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},E.metadata&&E.extend(!0,c,e.metadata())):c=e),n=u.href||c.href||(p(e)?e:null),i=u.title!==h?u.title:c.title||"",!(o=(a=u.content||c.content)?"html":u.type||c.type)&&c.isDom&&((o=e.data("fancybox-type"))||(o=(r=e.prop("class").match(/fancybox\.(\w+)/))?r[1]:null)),p(n)&&(o||(R.isImage(n)?o="image":R.isSWF(n)?o="swf":"#"===n.charAt(0)?o="inline":p(e)&&(o="html",a=e)),"ajax"===o&&(n=(s=n.split(/\s+/,2)).shift(),l=s.shift())),a||("inline"===o?n?a=E(p(n)?n.replace(/.*(?=#[^\s]+$)/,""):n):c.isDom&&(a=e):"html"===o?a=n:o||n||!c.isDom||(o="inline",a=e)),E.extend(c,{href:n,type:o,content:a,title:i,selector:l}),d[t]=c}),R.opts=E.extend(!0,{},R.defaults,u),u.keys!==h&&(R.opts.keys=!!u.keys&&E.extend({},R.defaults.keys,u.keys)),R.group=d,R._start(R.opts.index)},cancel:function(){var t=R.coming;t&&!1!==R.trigger("onCancel")&&(R.hideLoading(),R.ajaxLoad&&R.ajaxLoad.abort(),R.ajaxLoad=null,R.imgPreload&&(R.imgPreload.onload=R.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),R.coming=null,R.current||R._afterZoomOut(t))},close:function(t){R.cancel(),!1!==R.trigger("beforeClose")&&(R.unbindEvents(),R.isActive&&(R.isOpen&&!0!==t?(R.isOpen=R.isOpened=!1,R.isClosing=!0,E(".fancybox-item, .fancybox-nav").remove(),R.wrap.stop(!0,!0).removeClass("fancybox-opened"),R.transitions[R.current.closeMethod]()):(E(".fancybox-wrap").stop(!0).trigger("onReset").remove(),R._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(R.player.timer)},n=function(){e(),R.current&&R.player.isActive&&(R.player.timer=setTimeout(R.next,R.current.playSpeed))},i=function(){e(),c.unbind(".player"),R.player.isActive=!1,R.trigger("onPlayEnd")},a=function(){R.current&&(R.current.loop||R.current.index<R.group.length-1)&&(R.player.isActive=!0,c.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),R.trigger("onPlayStart"))};!0===t||!R.player.isActive&&!1!==t?a():i()},next:function(t){var e=R.current;e&&(p(t)||(t=e.direction.next),R.jumpto(e.index+1,t,"next"))},prev:function(t){var e=R.current;e&&(p(t)||(t=e.direction.prev),R.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=R.current;i&&(t=N(t),R.direction=e||i.direction[t>=i.index?"next":"prev"],R.router=n||"jumpto",i.loop&&(t<0&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==h&&(R.cancel(),R._start(t)))},reposition:function(t,e){var n,i=R.current,a=i?i.wrap:null;a&&(n=R._getPosition(e),t&&"scroll"===t.type?(delete n.position,a.stop(!0,!0).animate(n,200)):(a.css(n),i.pos=E.extend({},i.dim,n)))},update:function(e){var n=e&&e.type,i=!n||"orientationchange"===n;i&&(clearTimeout(l),l=null),R.isOpen&&!l&&(l=setTimeout(function(){var t=R.current;t&&!R.isClosing&&(R.wrap.removeClass("fancybox-tmp"),(i||"load"===n||"resize"===n&&t.autoResize)&&R._setDimension(),"scroll"===n&&t.canShrink||R.reposition(e),R.trigger("onUpdate"),l=null)},i&&!d?0:300))},toggle:function(t){R.isOpen&&(R.current.fitToView="boolean"===E.type(t)?t:!R.current.fitToView,d&&(R.wrap.removeAttr("style").addClass("fancybox-tmp"),R.trigger("onUpdate")),R.update())},hideLoading:function(){c.unbind(".loading"),E("#fancybox-loading").remove()},showLoading:function(){var t,e;R.hideLoading(),t=E('<div id="fancybox-loading"><div></div></div>').click(R.cancel).appendTo("body"),c.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),R.cancel())}),R.defaults.fixed||(e=R.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var t=R.current&&R.current.locked||!1,e={x:r.scrollLeft(),y:r.scrollTop()};return t?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=d&&a.innerWidth?a.innerWidth:r.width(),e.h=d&&a.innerHeight?a.innerHeight:r.height()),e},unbindEvents:function(){R.wrap&&f(R.wrap)&&R.wrap.unbind(".fb"),c.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e,s=R.current;s&&(r.bind("orientationchange.fb"+(d?"":" resize.fb")+(s.autoCenter&&!s.locked?" scroll.fb":""),R.update),(e=s.keys)&&c.bind("keydown.fb",function(n){var i=n.which||n.keyCode,t=n.target||n.srcElement;if(27===i&&R.coming)return!1;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||t&&(t.type||E(t).is("[contenteditable]"))||E.each(e,function(t,e){return 1<s.group.length&&e[i]!==h?(R[t](e[i]),n.preventDefault(),!1):-1<E.inArray(i,e)?(R[t](),n.preventDefault(),!1):void 0})}),E.fn.mousewheel&&s.mouseWheel&&R.wrap.bind("mousewheel.fb",function(t,e,n,i){for(var a=t.target||null,o=E(a),r=!1;o.length&&!(r||o.is(".fancybox-skin")||o.is(".fancybox-wrap"));)r=u(o[0]),o=E(o).parent();0===e||r||1<R.group.length&&!s.canShrink&&(0<i||0<n?R.prev(0<i?"down":"left"):(i<0||n<0)&&R.next(i<0?"up":"right"),t.preventDefault())}))},trigger:function(n,t){var e,i=t||R.coming||R.current;if(i){if(E.isFunction(i[n])&&(e=i[n].apply(i,Array.prototype.slice.call(arguments,1))),!1===e)return!1;i.helpers&&E.each(i.helpers,function(t,e){e&&R.helpers[t]&&E.isFunction(R.helpers[t][n])&&R.helpers[t][n](E.extend(!0,{},R.helpers[t].defaults,e),i)}),c.trigger(n)}},isImage:function(t){return p(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return p(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,i,a,o,r={};if(t=N(t),!(e=R.group[t]||null))return!1;if(a=(r=E.extend(!0,{},R.opts,e)).margin,o=r.padding,"number"===E.type(a)&&(r.margin=[a,a,a,a]),"number"===E.type(o)&&(r.padding=[o,o,o,o]),r.modal&&E.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),r.autoSize&&(r.autoWidth=r.autoHeight=!0),"auto"===r.width&&(r.autoWidth=!0),"auto"===r.height&&(r.autoHeight=!0),r.group=R.group,r.index=t,R.coming=r,!1!==R.trigger("beforeLoad")){if(i=r.type,n=r.href,!i)return R.coming=null,!(!R.current||!R.router||"jumpto"===R.router)&&(R.current.index=t,R[R.router](R.direction));if(R.isActive=!0,"image"!==i&&"swf"!==i||(r.autoHeight=r.autoWidth=!1,r.scrolling="visible"),"image"===i&&(r.aspectRatio=!0),"iframe"===i&&d&&(r.scrolling="scroll"),r.wrap=E(r.tpl.wrap).addClass("fancybox-"+(d?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+r.wrapCSS).appendTo(r.parent||"body"),E.extend(r,{skin:E(".fancybox-skin",r.wrap),outer:E(".fancybox-outer",r.wrap),inner:E(".fancybox-inner",r.wrap)}),E.each(["Top","Right","Bottom","Left"],function(t,e){r.skin.css("padding"+e,H(r.padding[t]))}),R.trigger("onReady"),"inline"===i||"html"===i){if(!r.content||!r.content.length)return R._error("content")}else if(!n)return R._error("href");"image"===i?R._loadImage():"ajax"===i?R._loadAjax():"iframe"===i?R._loadIframe():R._afterLoad()}else R.coming=null},_error:function(t){E.extend(R.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:R.coming.tpl.error}),R._afterLoad()},_loadImage:function(){var t=R.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,R.coming.width=this.width/R.opts.pixelRatio,R.coming.height=this.height/R.opts.pixelRatio,R._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,R._error("image")},t.src=R.coming.href,!0!==t.complete&&R.showLoading()},_loadAjax:function(){var n=R.coming;R.showLoading(),R.ajaxLoad=E.ajax(E.extend({},n.ajax,{url:n.href,error:function(t,e){R.coming&&"abort"!==e?R._error("ajax",t):R.hideLoading()},success:function(t,e){"success"===e&&(n.content=t,R._afterLoad())}}))},_loadIframe:function(){var t=R.coming,e=E(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",d?"auto":t.iframe.scrolling).attr("src",t.href);E(t.wrap).bind("onReset",function(){try{E(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(R.showLoading(),e.one("load",function(){E(this).data("ready",1),d||E(this).bind("load.fb",R.update),E(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),R._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||R._afterLoad()},_preloadImages:function(){var t,e,n=R.group,i=R.current,a=n.length,o=i.preload?Math.min(i.preload,a-1):0;for(e=1;e<=o;e+=1)"image"===(t=n[(i.index+e)%a]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,n,e,i,a,o,r=R.coming,s=R.current,l="fancybox-placeholder";if(R.hideLoading(),r&&!1!==R.isActive){if(!1===R.trigger("afterLoad",r,s))return r.wrap.stop(!0).trigger("onReset").remove(),void(R.coming=null);switch(s&&(R.trigger("beforeChange",s),s.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),R.unbindEvents(),n=(t=r).content,e=r.type,i=r.scrolling,E.extend(R,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:s}),a=t.href,e){case"inline":case"ajax":case"html":t.selector?n=E("<div>").html(n).find(t.selector):f(n)&&(n.data(l)||n.data(l,E('<div class="'+l+'"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){E(this).find(n).length&&n.hide().replaceAll(n.data(l)).data(l,!1)}));break;case"image":n=t.tpl.image.replace("{href}",a);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',o="",E.each(t.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',o+=" "+t+'="'+e+'"'}),n+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}f(n)&&n.parent().is(t.inner)||t.inner.append(n),R.trigger("beforeShow"),t.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),R._setDimension(),R.reposition(),R.isOpen=!1,R.coming=null,R.bindEvents(),R.isOpened?s.prevMethod&&R.transitions[s.prevMethod]():E(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),R.transitions[R.isOpened?t.nextMethod:t.openMethod](),R._preloadImages()}},_setDimension:function(){var t,e,n,i,a,o,r,s,l,c,d,u,h,f,p,g=R.getViewport(),m=0,y=!1,v=!1,b=R.wrap,x=R.skin,w=R.inner,C=R.current,_=C.width,S=C.height,T=C.minWidth,k=C.minHeight,D=C.maxWidth,A=C.maxHeight,I=C.scrolling,P=C.scrollOutside?C.scrollbarWidth:0,L=C.margin,j=N(L[1]+L[3]),F=N(L[0]+L[2]);if(b.add(x).add(w).width("auto").height("auto").removeClass("fancybox-tmp"),n=j+(t=N(x.outerWidth(!0)-x.width())),i=F+(e=N(x.outerHeight(!0)-x.height())),a=O(_)?(g.w-n)*N(_)/100:_,o=O(S)?(g.h-i)*N(S)/100:S,"iframe"===C.type){if(f=C.content,C.autoHeight&&1===f.data("ready"))try{f[0].contentWindow.document.location&&(w.width(a).height(9999),p=f.contents().find("body"),P&&p.css("overflow-x","hidden"),o=p.outerHeight(!0))}catch(M){}}else(C.autoWidth||C.autoHeight)&&(w.addClass("fancybox-tmp"),C.autoWidth||w.width(a),C.autoHeight||w.height(o),C.autoWidth&&(a=w.width()),C.autoHeight&&(o=w.height()),w.removeClass("fancybox-tmp"));if(_=N(a),S=N(o),l=a/o,T=N(O(T)?N(T,"w")-n:T),D=N(O(D)?N(D,"w")-n:D),k=N(O(k)?N(k,"h")-i:k),r=D,s=A=N(O(A)?N(A,"h")-i:A),C.fitToView&&(D=Math.min(g.w-n,D),A=Math.min(g.h-i,A)),u=g.w-j,h=g.h-F,C.aspectRatio?(D<_&&(S=N((_=D)/l)),A<S&&(_=N((S=A)*l)),_<T&&(S=N((_=T)/l)),S<k&&(_=N((S=k)*l))):(_=Math.max(T,Math.min(_,D)),C.autoHeight&&"iframe"!==C.type&&(w.width(_),S=w.height()),S=Math.max(k,Math.min(S,A))),C.fitToView)if(w.width(_).height(S),b.width(_+t),c=b.width(),d=b.height(),C.aspectRatio)for(;(u<c||h<d)&&T<_&&k<S&&!(19<m++);)S=Math.max(k,Math.min(A,S-10)),(_=N(S*l))<T&&(S=N((_=T)/l)),D<_&&(S=N((_=D)/l)),w.width(_).height(S),b.width(_+t),c=b.width(),d=b.height();else _=Math.max(T,Math.min(_,_-(c-u))),S=Math.max(k,Math.min(S,S-(d-h)));P&&"auto"===I&&S<o&&_+t+P<u&&(_+=P),w.width(_).height(S),b.width(_+t),c=b.width(),d=b.height(),y=(u<c||h<d)&&T<_&&k<S,v=C.aspectRatio?_<r&&S<s&&_<a&&S<o:(_<r||S<s)&&(_<a||S<o),E.extend(C,{dim:{width:H(c),height:H(d)},origWidth:a,origHeight:o,canShrink:y,canExpand:v,wPadding:t,hPadding:e,wrapSpace:d-x.outerHeight(!0),skinSpace:x.height()-S}),!f&&C.autoHeight&&k<S&&S<A&&!v&&w.height("auto")},_getPosition:function(t){var e=R.current,n=R.getViewport(),i=e.margin,a=R.wrap.width()+i[1]+i[3],o=R.wrap.height()+i[0]+i[2],r={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&o<=n.h&&a<=n.w?r.position="fixed":e.locked||(r.top+=n.y,r.left+=n.x),r.top=H(Math.max(r.top,r.top+(n.h-o)*e.topRatio)),r.left=H(Math.max(r.left,r.left+(n.w-a)*e.leftRatio)),r},_afterZoomIn:function(){var e=R.current;e&&(R.isOpen=R.isOpened=!0,R.wrap.css("overflow","visible").addClass("fancybox-opened"),R.update(),(e.closeClick||e.nextClick&&1<R.group.length)&&R.inner.css("cursor","pointer").bind("click.fb",function(t){E(t.target).is("a")||E(t.target).parent().is("a")||(t.preventDefault(),R[e.closeClick?"close":"next"]())}),e.closeBtn&&E(e.tpl.closeBtn).appendTo(R.skin).bind("click.fb",function(t){t.preventDefault(),R.close()}),e.arrows&&1<R.group.length&&((e.loop||0<e.index)&&E(e.tpl.prev).appendTo(R.outer).bind("click.fb",R.prev),(e.loop||e.index<R.group.length-1)&&E(e.tpl.next).appendTo(R.outer).bind("click.fb",R.next)),R.trigger("afterShow"),e.loop||e.index!==e.group.length-1?R.opts.autoPlay&&!R.player.isActive&&(R.opts.autoPlay=!1,R.play()):R.play(!1))},_afterZoomOut:function(t){t=t||R.current,E(".fancybox-wrap").trigger("onReset").remove(),E.extend(R,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),R.trigger("afterClose",t)}}),R.transitions={getOrigPosition:function(){var t=R.current,e=t.element,n=t.orig,i={},a=50,o=50,r=t.hPadding,s=t.wPadding,l=R.getViewport();return!n&&t.isDom&&e.is(":visible")&&((n=e.find("img:first")).length||(n=e)),f(n)?(i=n.offset(),n.is("img")&&(a=n.outerWidth(),o=n.outerHeight())):(i.top=l.y+(l.h-o)*t.topRatio,i.left=l.x+(l.w-a)*t.leftRatio),("fixed"===R.wrap.css("position")||t.locked)&&(i.top-=l.y,i.left-=l.x),i={top:H(i.top-r*t.topRatio),left:H(i.left-s*t.leftRatio),width:H(a+s),height:H(o+r)}},step:function(t,e){var n,i,a=e.prop,o=R.current,r=o.wrapSpace,s=o.skinSpace;"width"!==a&&"height"!==a||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),R.isClosing&&(n=1-n),i=t-("width"===a?o.wPadding:o.hPadding),R.skin[a](N("width"===a?i:i-r*n)),R.inner[a](N("width"===a?i:i-r*n-s*n)))},zoomIn:function(){var t=R.current,e=t.pos,n=t.openEffect,i="elastic"===n,a=E.extend({opacity:1},e);delete a.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),R.wrap.css(e).animate(a,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:R._afterZoomIn})},zoomOut:function(){var t=R.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),R.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:R._afterZoomOut})},changeIn:function(){var t,e=R.current,n=e.nextEffect,i=e.pos,a={opacity:1},o=R.direction,r=200;i.opacity=.1,"elastic"===n&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(i[t]=H(N(i[t])-r),a[t]="+="+r+"px"):(i[t]=H(N(i[t])+r),a[t]="-="+r+"px")),"none"===n?R._afterZoomIn():R.wrap.css(i).animate(a,{duration:e.nextSpeed,easing:e.nextEasing,complete:R._afterZoomIn})},changeOut:function(){var t=R.previous,e=t.prevEffect,n={opacity:.1},i=R.direction,a=200;"elastic"===e&&(n["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"="+a+"px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){E(this).trigger("onReset").remove()}})}},R.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!d,fixed:!0},overlay:null,fixed:!1,el:E("html"),create:function(t){t=E.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=E('<div class="fancybox-overlay"></div>').appendTo(R.coming?R.coming.parent:t.parent),this.fixed=!1,t.fixed&&R.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=E.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(r.bind("resize.overlay",E.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(E(t.target).hasClass("fancybox-overlay"))return R.isActive?R.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(E(".fancybox-margin").removeClass("fancybox-margin"),t=r.scrollTop(),e=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(t).scrollLeft(e)),E(".fancybox-overlay").remove().hide(),E.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),s?(t=Math.max(n.documentElement.offsetWidth,n.body.offsetWidth),c.width()>t&&(e=c.width())):c.width()>r.width()&&(e=c.width()),this.overlay.width(e).height(c.height())},onReady:function(t,e){var n=this.overlay;E(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(n||(this.margin=c.height()>r.height()&&E("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var n,i;e.locked&&(!1!==this.margin&&(E("*").filter(function(){return"fixed"===E(this).css("position")&&!E(this).hasClass("fancybox-overlay")&&!E(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=r.scrollTop(),i=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(n).scrollLeft(i)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!R.coming&&this.overlay.fadeOut(t.speedOut,E.proxy(this.close,this))}},R.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,i=R.current,a=i.title,o=t.type;if(E.isFunction(a)&&(a=a.call(i.element,i)),p(a)&&""!==E.trim(a)){switch(e=E('<div class="fancybox-title fancybox-title-'+o+'-wrap">'+a+"</div>"),o){case"inside":n=R.skin;break;case"outside":n=R.wrap;break;case"over":
n=R.inner;break;default:n=R.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),R.current.margin[2]+=Math.abs(N(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},E.fn.fancybox=function(o){var r,s=E(this),l=this.selector||"",t=function(t){var e,n,i=E(this).blur(),a=r;t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||i.is(".fancybox-wrap")||(e=o.groupAttr||"data-fancybox-group",(n=i.attr(e))||(e="rel",n=i.get(0)[e]),n&&""!==n&&"nofollow"!==n&&(a=(i=(i=l.length?E(l):s).filter("["+e+'="'+n+'"]')).index(this)),o.index=a,!1!==R.open(i,o)&&t.preventDefault())};return r=(o=o||{}).index||0,l&&!1!==o.live?c.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):s.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},c.ready(function(){var t,e,n,i;E.scrollbarWidth===h&&(E.scrollbarWidth=function(){var t=E('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),E.support.fixedPosition===h&&(E.support.fixedPosition=(n=E('<div style="position:fixed;top:20px;"></div>').appendTo("body"),i=20===n[0].offsetTop||15===n[0].offsetTop,n.remove(),i)),E.extend(R.defaults,{scrollbarWidth:E.scrollbarWidth(),fixed:E.support.fixedPosition,parent:E("body")}),t=E(a).width(),o.addClass("fancybox-lock-test"),e=E(a).width(),o.removeClass("fancybox-lock-test"),E("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(){var t,e,a,n;a={hideOnContentClick:!(n={wrap:'<div class="fancybox-wrap" tabIndex="-1"> <div class="fancybox-skin content-container"> <div class="fancybox-outer"> <div class="fancybox-inner"> </div> </div> </div> </div>',title:function(t){return"<header class='content-details'> <div class='details-primary'> "+(t=t||"")+" </div> <div class='details-secondary'> <span class='glyph glyph-cross-soft fancybox-close'></span> </div> </header>"}}),tpl:{wrap:n.wrap},padding:15,closeBtn:!0,openEffect:"none",closeEffect:"none",fitToView:!1,scrolling:"visible",helpers:{title:{type:"inside",position:"top"}},beforeShow:function(){var t,e;return e=(t=$(this.element)).attr("data-title")||t.attr("title")||t.text(),this.title=n.title(e)},afterClose:function(t){return $(document).trigger("modalClosed",t)}},e=function(){var t;return t=$(".modal, [data-modal-link]"),Logger.info("Modals","Found "+t.length+" modal links."),$(document).on("click",t.selector,function(t){var e,n;return t.preventDefault(),e=$(this),n=_.extend(a,{href:e.attr("href")||e.data("link")}),$.fancybox(e,n)})},t=function(t,e){var n,i;return n=$(e),i=_.extend(a,{href:n.attr("href")}),$.fancybox(n,i)},$(document).ready(function(){return e(),$(document).on("refreshModals",e),$(document).on("activateModal",t),$(document).on("click",".fancybox-close",function(t){return t.preventDefault(),$.fancybox.close()})})}.call(this);var Spinners={version:"3.0.0"};!function(s){function l(t){return t*Math.PI/180}function n(t){this.element=t}function a(t,e){t&&(this.element=t,i.remove(t),i.removeDetached(),this._position=0,this._state="stopped",this.setOptions(s.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},e||{})),this.drawPosition(0),i.add(this))}var t,o={scroll:function(t,e){if(!e)return t;var n=t.slice(0,e);return t.slice(e,t.length).concat(n)},isElement:function(t){return t&&1==t.nodeType},element:{isAttached:function(t){for(;t&&t.parentNode;)t=t.parentNode;return!!t&&!!t.body}}},r={drawRoundedRectangle:function(t,e){var n=(r=s.extend({top:0,left:0,width:0,height:0,radius:0},e||{})).left,i=r.top,a=r.width,o=r.height,r=r.radius;t.beginPath(),t.moveTo(n+r,i),t.arc(n+a-r,i+r,r,l(-90),l(0),!1),t.arc(n+a-r,i+o-r,r,l(0),l(90),!1),t.arc(n+r,i+o-r,r,l(90),l(180),!1),t.arc(n+r,i+r,r,l(-180),l(-90),!1),t.closePath(),t.fill()}},c=function(){function a(t){var e=[];if(0==t.indexOf("#")&&(t=t.substring(1)),""!=(t=t.toLowerCase()).replace(n,""))return null;for(3==t.length?(e[0]=t.charAt(0)+t.charAt(0),e[1]=t.charAt(1)+t.charAt(1),e[2]=t.charAt(2)+t.charAt(2)):(e[0]=t.substring(0,2),e[1]=t.substring(2,4),e[2]=t.substring(4)),t=0;t<e.length;t++)e[t]=parseInt(e[t],16);return e.red=e[0],e.green=e[1],e.blue=e[2],e}var n=RegExp("[0123456789abcdef]","g");return{hex2rgb:a,hex2fill:function(t,e){void 0===e&&(e=1);var n=e,i=a(t);return i[3]=n,i.opacity=n,"rgba("+i.join()+")"},rgb2hex:function(){function i(t,e,n){return t=t.toString(n||10),Array(e-t.length).join("0")+t}return function(t,e,n){return"#"+i(t,2,16)+i(e,2,16)+i(n,2,16)}}()}}();s.extend(Spinners,{enabled:!1,support:{canvas:(t=s("<canvas>")[0],!!t.getContext&&!!t.getContext("2d"))},init:function(){(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&-1===navigator.userAgent.indexOf("Opera"))&&(window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0)},create:function(t,e){return n.create(t,e),this.get(t)},get:function(t){return new n(t)},play:function(t){return this.get(t).play(),this},pause:function(t){return this.get(t).pause(),this},toggle:function(t){return this.get(t).toggle(),this},stop:function(t){return this.get(t).stop(),this},remove:function(t){return this.get(t).remove(),this},removeDetached:function(){return i.removeDetached(),this},center:function(t){return this.get(t).center(),this},setOptions:function(t,e){return this.get(t).setOptions(e),this},getDimensions:function(t){return{width:t=2*i.get(t)[0].getLayout().workspace.radius,height:t}}});var i={spinners:[],get:function(n){if(n){var i=[];return s.each(this.spinners,function(t,e){e&&(o.isElement(n)?e.element==n:s(e.element).is(n))&&i.push(e)}),i}},add:function(t){this.spinners.push(t)},remove:function(e){s(s.map(this.spinners,function(t){if(o.isElement(e)?t.element==e:s(t.element).is(e))return t.element})).each(s.proxy(function(t,e){this.removeByElement(e)},this))},removeByElement:function(e){var t=this.get(e)[0];t&&(t.remove(),this.spinners=s.grep(this.spinners,function(t){return t.element!=e}))},removeDetached:function(){s.each(this.spinners,s.proxy(function(t,e){e&&e.element&&!o.element.isAttached(e.element)&&this.remove(e.element)},this))}};s.extend(n,{create:function(t,e){if(t){var n=e||{},i=[];return o.isElement(t)?i.push(new a(t,n)):s(t).each(function(t,e){i.push(new a(e,n))}),i}}}),s.extend(n.prototype,{items:function(){return i.get(this.element)},play:function(){return s.each(this.items(),function(t,e){e.play()}),this},stop:function(){return s.each(this.items(),function(t,e){e.stop()}),this},pause:function(){return s.each(this.items(),function(t,e){e.pause()}),this},toggle:function(){return s.each(this.items(),function(t,e){e.toggle()}),this},center:function(){return s.each(this.items(),function(t,e){e.center()}),this},setOptions:function(n){return s.each(this.items(),function(t,e){e.setOptions(n)}),this},remove:function(){return i.remove(this.element),this}}),s.extend(a.prototype,{setOptions:function(t){this.options=s.extend({},this.options,t||{}),this.options.radii&&(t=this.options.radii,this.options.radius=Math.min(t[0],t[1]),this.options.height=Math.max(t[0],t[1])-this.options.radius),this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);t=this._state;var e=this._position;switch(this._layout=null,this.build(),e&&e>=this.options.dashes-1&&(this._position=this.options.dashes-1),t){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),s(this.canvas).remove(),this.ctx=this.canvas=null)},build:function(){this.remove();var t=this.getLayout().workspace.radius;return s(document.body).append(this.canvas=s("<canvas>").attr({width:2*t,height:2*t}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,s(this.element).append(this.canvas),this.ctx.translate(t,t),this},drawPosition:function(t){var e=this.getLayout().workspace,n=(t=o.scroll(e.opacities,-1*t),e.radius),i=l(360/(e=this.options.dashes));for(this.ctx.clearRect(-1*n,-1*n,2*n,2*n),n=0;n<e;n++)this.drawDash(t[n],this.options.color),this.ctx.rotate(i)},drawDash:function(t,e){this.ctx.fillStyle=c.hex2fill(e,t);var n=(a=this.getLayout()).workspace.radius,i=a.dash.position,a=a.dash.dimensions;r.drawRoundedRectangle(this.ctx,{top:i.top-n,left:i.left-n,width:a.width,height:a.height,radius:Math.min(a.height,a.width)/2})},_nextPosition:function(){var t=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout(s.proxy(this._nextPosition,this),t)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var t=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout(s.proxy(this._nextPosition,this),t),this}},pause:function(){if("paused"!=this._state)return this._pause(),this._state="paused",this},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){if("stopped"!=this._state)return this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;for(var t=(o=this.options).dashes,e=o.width,n=o.radius,i=o.radius+o.height,a=Math.max(e,i),o=(a=Math.ceil(Math.max(a,Math.sqrt(i*i+e/2*(e/2)))),a+=o.padding),r=1/t,s=[],l=0;l<t;l++)s.push((l+1)*r);return this._layout={workspace:{radius:o,opacities:s},dash:{position:{top:a-i,left:a-e/2},dimensions:{width:e,height:i-n}}}},center:function(){var t=2*this.getLayout().workspace.radius;s(this.element.parentNode).css({position:"relative"}),s(this.element).css({position:"absolute",height:t+"px",width:t+"px",top:"50%",left:"50%",marginLeft:-.5*t+"px",marginTop:-.5*t+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(n.create=function(){return[]})}(jQuery);var Tipped={version:"3.2.0.1",Skins:{base:{afterUpdate:!1,ajax:{cache:!0,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:180,fadeOut:220,showDelay:75,hideDelay:25,radius:{size:5,position:"background"},hideAfter:!1,hideOn:{element:"self",event:"mouseleave"},hideOthers:!1,hook:"topleft",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:.12},showOn:"mousemove",spinner:!0,stem:{height:9,width:18,offset:{x:9,y:9},spacing:2},target:"self"},reset:{ajax:!1,closeButton:!1,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:!0},dark:{background:{color:"#282828"},border:{color:"#9b9b9b",opacity:.4,size:1},shadow:{opacity:.02},spinner:{color:"#fff"}},light:{background:{color:"#fff"},border:{color:"#646464",opacity:.4,size:1},shadow:{opacity:.04}},gray:{background:{color:[{position:0,color:"#8f8f8f"},{position:1,color:"#808080"}]},border:{color:"#131313",size:1,opacity:.6}},tiny:{background:{color:"#161616"},border:{color:"#969696",opacity:.35,size:1},fadeIn:0,fadeOut:0,radius:4,stem:{width:11,height:6,offset:{x:6,y:6}},shadow:!1,spinner:{color:"#fff"}},yellow:{background:"#ffffaa",border:{size:1,color:"#6d5208",opacity:.4}},red:{background:{color:[{position:0,color:"#e13c37"},{position:1,color:"#e13c37"}]},border:{size:1,color:"#150201",opacity:.6},spinner:{color:"#fff"}},green:{background:{color:[{position:0,color:"#4bb638"},{position:1,color:"#4aab3a"}]},border:{size:1,color:"#122703",opacity:.6},spinner:{color:"#fff"}},blue:{background:{color:[{position:0,color:"#4588c8"},{position:1,color:"#3d7cb9"}]},border:{color:"#020b17",opacity:.6},spinner:{color:"#fff"}}}};(function(t){t.extend(Tipped.Skins,{black:t.extend(!0,{},Tipped.Skins.dark,{radius:0}),white:t.extend(!0,{},Tipped.Skins.light,{radius:0})})})(jQuery),Tipped.Skins.CloseButtons={base:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:.46,color:"#171717"},{position:.53,color:"#121212"},{position:.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},hover:{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:1,color:"#000",offset:{x:0,y:0},opacity:.5}},reset:{},"default":{},light:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:.48,color:"#717171"},{position:.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:.95},border:{color:"#676767",opacity:1}},hover:{background:{color:[{position:0,color:"#868686"},{position:.48,color:"#7f7f7f"},{position:.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}},eval(function(t,e,n,i,a,o){if(a=function(t){return(t<e?"":a(parseInt(t/e)))+(35<(t%=e)?String.fromCharCode(t+29):t.toString(36))},!"".replace(/^/,String)){for(;n--;)o[a(n)]=i[n]||a(n);i=[function(t){return o[t]}],a=function(){return"\\w+"},n=1}for(;n--;)i[n]&&(t=t.replace(new RegExp("\\b"+a(n)+"\\b","g"),i[n]));return t}(
'!13(12){13 ad(e,d){14 f=[e,d];1b f.17=e,f.18=d,f}13 aa(b){1P.5M&&5M[5M.6V?"6V":"8A"](b)}13 W(b){11.1h=b}13 V(e){14 d={};2h(14 f 5N e){d[f]=e[f]+"2G"}1b d}13 U(d,c){1b 1c.8B(d*d+c*c)}13 T(b){1b 2N*b/1c.38}13 S(b){1b b*1c.38/2N}13 R(b){1b 1/1c.4R(b)}13 H(a){1g(a){11.1h=a,I.1D(a);14 d=11.2m();11.1a=12.1n({},d.1a),11.2H=1,11.1r={},11.23=12(a).26("2A-23"),I.39(11),11.2i=11.1a.1z.1I,11.6W=11.1a.1o&&11.2i,11.3l={x:0,y:0},11.3v={18:0,17:0},11.1X()}}13 F(a,d){11.1h=a,11.1h&&d&&(11.1a=12.1n({3a:3,1F:{x:0,y:0},1Y:"#4S",1S:0.5,2U:1},29[2]||{}),11.2H=11.1a.2U,11.1r={},11.23=12(a).26("2A-23"),G.39(11),11.1X())}13 D(a){11.1h=a,11.1h&&(11.1a=12.1n({3a:5,1F:{x:0,y:0},1Y:"#4S",1S:0.5,2U:1},29[1]||{}),11.2H=11.1a.2U,11.23=12(a).26("2A-23"),E.39(11),11.1X())}13 Q(a,f){2h(14 e 5N f){f[e]&&f[e].3Q&&f[e].3Q===5O?(a[e]=12.1n({},a[e])||{},Q(a[e],f[e])):a[e]=f[e]}1b a}13 M(a,n){1g(11.1h=a,11.1h){14 m=12(a).26("2A-23");m&&N.1D(a),m=Y(),12(a).26("2A-23",m),11.23=m;14 l;"8C"!=12.1s(n)||ac.2s(n)?l=29[2]||{}:(l=n,n=1w),11.1a=N.6X(l);14 k=a.6Y("5P");1g(!n){14 h=a.6Y("26-2A");h?n=h:k&&(n=k)}k&&(12(a).26("5Q",k),a.8D("5P","")),11.2O=n,11.2t=11.1a.2t||+N.1a.4T,11.1r={2P:{15:1,19:1},5R:[],3m:[],2B:{4U:!1,2u:!1,1T:!1,3n:!1,1X:!1,4V:!1,5S:!1,3R:!1},5T:""};14 d=11.1a.1H;11.1H="2V"==d?"2V":"4W"!=d&&d?ac.2s(d)?d:d&&1C.6Z(d)||11.1h:11.1h,11.70(),N.39(11)}}14 4X=71.3S.8E,ac={8F:13(f,b){14 a=f;1b 13(){14 d=[12.1A(a,11)].72(4X.5U(29));1b b.5V(11,d)}},2s:13(b){1b b&&1==b.8G},4Y:13(b,f){14 e=4X.5U(29,2);1b 8H(13(){1b b.5V(b,e)},f)},4h:13(b){1b ac.4Y.5V(11,[b,1].72(4X.5U(29,1)))},5W:13(b){1b{x:b.5X,y:b.73}},1h:{4Z:13(e){14 c=0,f=0;8I{c+=e.51||0,f+=e.52||0,e=e.53}8J(e);1b ad(f,c)},54:13(a){14 h=12(a).1F(),d=ac.1h.4Z(a),c={18:12(1P).51(),17:12(1P).52()};1b h.17+=d.17-c.17,h.18+=d.18-c.18,ad(h.17,h.18)},56:13(){13 b(d){2h(14 c=d;c&&c.53;){c=c.53}1b c}1b 13(a){14 d=b(a);1b!(!d||!d.3b)}}()}},ab=13(d){13 c(a){14 e=2Q 5Y(a+"([\\\\d.]+)").8K(d);1b e?5Z(e[1]):!0}1b{3w:!(!1P.8L||-1!==d.3x("60"))&&c("8M "),60:d.3x("60")>-1&&(!!1P.61&&61.74&&5Z(61.74())||7.55),62:d.3x("75/")>-1&&c("75/"),57:d.3x("57")>-1&&-1===d.3x("8N")&&c("8O:"),76:!!d.3o(/8P.*8Q.*8R/),58:d.3x("58")>-1&&c("58/")}}(8S.8T),Z={3c:{4i:{63:"1.4.4",64:1P.4i&&4i.8U.8V}},77:13(){13 c(a){2h(14 l=a.3o(d),k=l&&l[1]&&l[1].2W(".")||[],j=0,i=0,h=k.2j;h>i;i++){j+=2X(k[i]*1c.78(10,6-2*i))}1b l&&l[3]?j-1:j}14 d=/^(\\d+(\\.?\\d+){0,3})([A-79-8W-]+[A-79-8X-9]+)?/;1b 13(b){11.3c[b].7a||(11.3c[b].7a=!0,(!11.3c[b].64||c(11.3c[b].64)<c(11.3c[b].63)&&!11.3c[b].7b)&&(11.3c[b].7b=!0,aa("1Z 8Y "+b+" >= "+11.3c[b].63)))}}()},Y=13(){14 d=0,c="8Z";1b 13(a){2h(a=a||c,d++;1C.6Z(a+d);){d++}1b a+d}}(),X=13(){14 a=[];1b{1y:13(g){2h(14 f=1w,b=0;b<a.2j;b++){a[b]&&a[b].4j==g.4j&&a[b].1s.7c()==g.1s.7c()&&12.7d(a[b].26||{})==12.7d(g.26||{})&&(f=a[b].59)}1b f},5a:13(e,b){11.1D(e.4j),a.2v(12.1n({},e,{59:b}))},1D:13(b){2h(14 d=0;d<a.2j;d++){a[d]&&a[d].4j==b&&3T a[d]}},7e:13(){a=[]}}}();12.1n(1Z,13(){1b{2I:{3p:13(){14 b=1C.2b("3p");1b!(!b.3y||!b.3y("2d"))}(),3z:13(){7f{1b!!("91"5N 1P||1P.7g&&1C 92 7g)}7h(b){1b!1}}(),4k:13(){14 a=["93","7i","94"],d=!!1P.7i;1b 12.1B(a,13(e,c){7f{1C.95(c),d=!0}7h(f){}}),d}()},3A:13(){(11.2I.3p||ab.3w)&&(Z.77("4i"),N.3B.1k&&(12(N.3B.1k).1D(),N.3B.1k=1w),12(1C).96(13(){N.7j(),N.7k()}))},5b:13(e,d,f){1b W.5b(e,d,f),11.1y(e)},1y:13(b){1b 2Q W(b)},65:13(b){1b N.65(b)},25:13(b){1b 11.1y(b).25(),11},1Q:13(b){1b 11.1y(b).1Q(),11},3d:13(b){1b 11.1y(b).3d(),11},2Y:13(b){1b 11.1y(b).2Y(),11},1D:13(b){1b 11.1y(b).1D(),11},5c:13(){1b N.5c(),11},66:13(b){1b N.66(b),11},67:13(b){1b N.67(b),11},1T:13(a){1g(ac.2s(a)){1b N.68(a)}1g("69"!=12.1s(a)){14 f=12(a),d=0;1b 12.1B(f,13(e,c){N.68(c)&&d++}),d}1b N.3U().2j},6a:13(){1b N.6a(),11}}}()),12.1n(W,{5b:13(a,h){1g(a){14 g=29[2]||{},d=[];1b N.7l(),ac.2s(a)?d.2v(2Q M(a,h,g)):12(a).1B(13(e,c){d.2v(2Q M(c,h,g))}),d}}}),12.1n(W.3S,{4l:13(){1b N.2n.5d={x:0,y:0},N.1y(11.1h)},25:13(){1b 12.1B(11.4l(),13(d,c){c.25()}),11},1Q:13(){1b 12.1B(11.4l(),13(d,c){c.1Q()}),11},3d:13(){1b 12.1B(11.4l(),13(d,c){c.3d()}),11},2Y:13(){1b 12.1B(11.4l(),13(d,c){c.2Y()}),11},1D:13(){1b N.1D(11.1h),11}});14 P={5e:13(){14 a;1b a=ab.76?{15:1P.6b,19:1P.6c}:{19:12(1P).19(),15:12(1P).15()}}},O={3C:1c.1K(1c.5f(1P.3C?5Z(1P.3C)||1:1,2)),3A:13(){13 b(d){14 c=d.3y("2d");c.97(O.3C,O.3C)}1b 1P.5g&&!1Z.2I.3p&&ab.3w?13(a){5g.98(a),b(a)}:13(a){b(a)}}(),3D:13(a,d){12(a).3q({15:d.15*11.3C,19:d.19*11.3C}).1t(V(d))},7m:13(a){14 p=12.1n({18:0,17:0,15:0,19:0,1q:0},29[1]||{}),o=p,n=o.17,m=o.18,l=o.15,k=o.19,j=o.1q;1b j?(a.2o(),a.3E(n+j,m),a.2f(n+l-j,m+j,j,S(-90),S(0),!1),a.2f(n+l-j,m+k-j,j,S(0),S(90),!1),a.2f(n+j,m+k-j,j,S(90),S(2N),!1),a.2f(n+j,m+j,j,S(-2N),S(-90),!1),a.2p(),a.3e(),3F 0):(a.7n(n,m,l,k),3F 0)},99:13(a,p){2h(14 o=12.1n({x:0,y:0,1Y:"#4S"},29[2]||{}),n=0,m=p.2j;m>n;n++){2h(14 l=0,k=p[n].2j;k>l;l++){14 j=2X(p[n].3G(l))*(1/9);a.2Z=J.30(o.1Y,j),j&&a.7n(o.x+l,o.y+n,1,1)}}},4m:13(a,h){14 g;1g("2C"==12.1s(h)){g=J.30(h)}1N{1g("2C"==12.1s(h.1Y)){g=J.30(h.1Y,"2J"==12.1s(h.1S)?h.1S:1)}1N{1g(12.7o(h.1Y)){14 f=12.1n({3V:0,3W:0,3X:0,3Y:0},29[2]||{});g=O.7p.7q(a.9a(f.3V,f.3W,f.3X,f.3Y),h.1Y,h.1S)}}}1b g}};O.7p={7q:13(a,l){2h(14 k="2J"==12.1s(29[2])?29[2]:1,j=0,i=l.2j;i>j;j++){14 h=l[j];("69"==12.1s(h.1S)||"2J"!=12.1s(h.1S))&&(h.1S=1),a.9b(h.1f,J.30(h.1Y,h.1S*k))}1b a}};14 L={7r:["3Z","4n","40","41","4o","4p","4q","4r","4s","4t","4u","42"],4v:{7s:/^(18|17|20|1V)(18|17|20|1V|2D|31)$/,1R:/^(18|20)/,3f:/(2D|31)/,7t:/^(18|20|17|1V)/},7u:13(){14 b={18:"19",17:"15",20:"19",1V:"15"};1b 13(a){1b b[a]}}(),3f:13(b){1b!!b.3H().3o(11.4v.3f)},7v:13(b){1b!11.3f(b)},2R:13(b){1b b.3H().3o(11.4v.1R)?"1R":"2k"},6d:13(e){14 d=1w,f=e.3H().3o(11.4v.7t);1b f&&f[1]&&(d=f[1]),d},2W:13(b){1b b.3H().3o(11.4v.7s)}},K={6e:13(d){14 c=d.1a.1o;1b{15:c.15,19:c.19}},4w:13(a,n){14 m=12.1n({43:"1K"},29[2]||{}),l=a.1a.1o,k=l.15,j=l.19,i=11.5h(k,j,n);1b m.43&&(i.15=1c[m.43](i.15),i.19=1c[m.43](i.19)),{15:i.15,19:i.19}},5h:13(j,i,p){14 o=T(1c.7w(0.5*(i/j))),n=2N-o,m=1c.4R(S(n-90))*p,l=j+2*m,k=l*i/j;1b{15:l,19:k}},44:13(g,e){14 j=11.4w(g,e),i=11.6e(g),h=(L.3f(g.2i),1c.1K(j.19+e));1b g.1a.1o.1F||0,g.1a.1q&&g.1a.1q.2E||0,{2K:{1d:{15:1c.1K(j.15),19:1c.1K(h)}},1l:{1d:j},1o:{1d:{15:i.15,19:i.19}}}},6f:13(b,c,d){14 f=b.1a,at={18:0,17:0},ar={18:0,17:0},aq=12.1n({},c),ap=b.1l,ao=ao||11.44(b,b.1l),an=ao.2K.1d;d&&(an.19=d,ap=0);14 g=L.2W(b.2i),al=L.2R(b.2i);1g(b.1a.1o){14 h=L.6d(b.2i);1g("18"==h?at.18=an.19-ap:"17"==h&&(at.17=an.19-ap),"1R"==al){21(g[2]){1i"2D":1i"31":ar.17=0.5*aq.15;1G;1i"1V":ar.17=aq.15}"20"==g[1]&&(ar.18=aq.19-ap+an.19)}1N{21(g[2]){1i"2D":1i"31":ar.18=0.5*aq.19;1G;1i"20":ar.18=aq.19}"1V"==g[1]&&(ar.17=aq.15-ap+an.19)}aq[L.7u(h)]+=an.19-ap}1N{1g("1R"==al){21(g[2]){1i"2D":1i"31":ar.17=0.5*aq.15;1G;1i"1V":ar.17=aq.15}"20"==g[1]&&(ar.18=aq.19)}1N{21(g[2]){1i"2D":1i"31":ar.18=0.5*aq.19;1G;1i"20":ar.18=aq.19}"1V"==g[1]&&(ar.17=aq.15)}}14 i=f.1q&&f.1q.2E||0,ai=f.1l&&f.1l.2E||0;1g(b.1a.1o){14 j=i&&"1p"==f.1q.1f?i:0,C=i&&"1l"==f.1q.1f?i:i+ai,A=ai+j+0.5*ao.1o.1d.15-0.5*ao.1l.1d.15,s=C>A?C-A:0,r=1c.1K(ai+j+0.5*ao.1o.1d.15+s);1g("1R"==al){21(g[2]){1i"17":ar.17+=r;1G;1i"1V":ar.17-=r}}1N{21(g[2]){1i"18":ar.18+=r;1G;1i"20":ar.18-=r}}}14 e;1g(f.1o&&(e=f.1o.1F)){14 a=K.6g(e,b.6W,c,ao.1l.1d,ai,i);1g(e=a.1F,a.4x,"1R"==al){21(g[2]){1i"17":ar.17+=e.x;1G;1i"1V":ar.17-=e.x}}1N{21(g[2]){1i"18":ar.18+=e.y;1G;1i"20":ar.18-=e.y}}}14 k;1g(f.1o&&(k=f.1o.9c)){1g("1R"==al){21(g[1]){1i"18":ar.18-=k;1G;1i"20":ar.18+=k}}1N{21(g[1]){1i"17":ar.17-=k;1G;1i"1V":ar.17+=k}}}1b{1d:aq,1f:{18:0,17:0},1p:{1f:at,1d:c},1o:{1d:an},2S:ar}},6g:13(t,s,r,q,p,o){14 n=L.2R(s),m=12.1n({},t),l={x:0,y:0},a=0;1b"1R"==n&&(a=r.15-q.15-2*p-2*o)<2*t.x&&(l.x=m.x,/(1V)$/.3r(s)&&(l.x*=-1),m.x=0),"2k"==n&&(a=r.19-q.19-2*p-2*o)<2*t.y&&(l.y=m.y,/(20)$/.3r(s)&&(l.y*=-1),m.y=0),{1F:m,4x:l}}},J=13(){13 r(d){14 c=d;1b c.7x=d[0],c.7y=d[1],c.7z=d[2],c}13 q(b){1b 2X(b,16)}13 p(d){14 c=2Q 71(3);1g(0==d.3x("#")&&(d=d.5i(1)),d=d.3H(),""!=d.6h(s,"")){1b 1w}3==d.2j?(c[0]=d.3G(0)+d.3G(0),c[1]=d.3G(1)+d.3G(1),c[2]=d.3G(2)+d.3G(2)):(c[0]=d.5i(0,2),c[1]=d.5i(2,4),c[2]=d.5i(4));2h(14 e=0;e<c.2j;e++){c[e]=q(c[e])}1b r(c)}13 o(e,d){14 f=p(e);1b f[3]=d,f.1S=d,f}13 n(d,e){1b"69"==12.1s(e)&&(e=1),"9d("+o(d,e).9e()+")"}13 m(b){1b"#"+(l(b)[2]>50?"4S":"9f")}13 l(b){1b a(p(b))}13 a(b){14 B,A,z,b=r(b),ah=b.7x,ag=b.7y,C=b.7z,y=ah>ag?ah:ag;C>y&&(y=C);14 x=ag>ah?ah:ag;1g(x>C&&(x=C),z=y/9g,A=0!=y?(y-x)/y:0,0==A){B=0}1N{14 w=(y-ah)/(y-x),v=(y-ag)/(y-x),u=(y-C)/(y-x);B=ah==y?u-v:ag==y?2+w-u:4+v-w,B/=6,0>B&&(B+=1)}B=1c.2c(7A*B),A=1c.2c(6i*A),z=1c.2c(6i*z);14 d=[];1b d[0]=B,d[1]=A,d[2]=z,d.9h=B,d.9i=A,d.9j=z,d}14 t="9k",s=2Q 5Y("["+t+"]","g");1b{9l:p,30:n,9m:m}}(),I={5j:{},1y:13(a){1g(!a){1b 1w}14 f=1w,e=12(a).26("2A-23");1b e&&(f=11.5j[e]),f},39:13(b){11.5j[b.23]=b},1D:13(d){14 c=11.1y(d);c&&(3T 11.5j[c.23],c.1D())}};12.1n(H.3S,13(){13 ap(){11.1r.1z={};14 c=11.2i;12.1B(L.7r,12.1A(13(a,b){14 C,A=11.1r.1z[b]={};11.2i=b;14 v=11.2x();C=v,A.2S=C.2S;14 u=C.1O.1d,p={18:C.1O.1f.18,17:C.1O.1f.17};1g(A.1O={1d:u,1f:p},A.1I={1d:C.2a.1d},11.1x){14 o=11.1x.2x(),m=o.2a.1f,l=A.1O.1f;12.1n(!0,A,{2S:o.2S,1O:{1f:{18:l.18+m.18,17:l.17+m.17}},1I:{1d:o.1I.1d}})}},11)),11.2i=c}13 ao(){11.3g(),11.1a.1x&&(G.1D(11.1h),11.1a.1E&&11.1a.1E.1x&&E.1D(11.1h)),11.32&&(11.32.1D(),11.32=1w),11.1k&&(12(11.1k).1D(),11.1k=1w)}13 an(){11.1O&&(11.1E&&(12(11.1E).1D(),11.1E=1w,11.6j=1w,11.6k=1w),12(11.1O).1D(),11.1o=1w,11.1p=1w,11.1O=1w,11.1r={})}13 am(){14 f=11.2m();11.2P=f.1r.2P;14 d=f.1a;11.1q=d.1q&&d.1q.2E||0,11.1l=d.1l&&d.1l.2E||0,11.2w=d.2w;14 g=1c.5f(11.2P.19,11.2P.15);11.1q>g/2&&(11.1q=1c.6l(g/2)),"1l"==11.1a.1q.1f&&11.1q>11.1l&&(11.1l=11.1q),11.1r={1a:{1q:11.1q,1l:11.1l,2w:11.2w}}}13 al(){11.3g(),1P.5g&&1P.5g.9n(1C);14 d=11.2m(),f=11.1a;11.1O=12("<2q>").27("9o")[0],12(d.5k).28(11.1O),11.5l(),11.7B(d),f.1E&&(11.7C(d),f.1E.1x&&(11.33?(11.33.1a=f.1E.1x,11.33.1X()):11.33=2Q D(11.1h,12.1n({2U:11.2H},f.1E.1x)))),ab.3w&&ab.3w<7&&12(d.1k).6m(11.32=12("<9p>").27("9q").3q({9r:0,4y:"9s:\'\';"})),11.5m(),f.1x&&(11.1x?(11.1x.1a=f.1x,11.1x.1X()):11.1x=2Q F(11.1h,11,12.1n({2U:11.2H},f.1x))),11.7D()}13 ak(){14 i=11.2m(),u=12(i.1k),p=12(i.1k).6n(".7E").7F()[0];1g(p){12(p).1t({15:"6o",19:"6o"});14 o=2X(u.1t("18")),m=2X(u.1t("17")),l=2X(u.1t("15"));u.1t({17:"-7G",18:"-7G",15:"9t",19:"6o"}),i.1L("1T")||12(i.1k).25();14 j=N.3B.6p(p);i.1a.3s&&"2J"==12.1s(i.1a.3s)&&j.15>i.1a.3s&&(12(p).1t({15:i.1a.3s+"2G"}),j=N.3B.6p(p)),i.1L("1T")||12(i.1k).1Q(),i.1r.2P=j,u.1t({17:m+"2G",18:o+"2G",15:l+"2G"}),11.1X()}}13 aj(g,f,i){14 h=!1;11.4z(g)&&(h=!0),11.7H(f)&&(h=!0),i&&11.7I(i)&&(h=!0),h&&11.1X()}13 ai(d){14 c=!1;1b(11.3v.17!=d.17||11.3v.18!=d.18)&&(c=!0,11.3v=d),c}13 ah(d){14 c=!1;1b(11.3l.x!=d.x||11.3l.y!=d.y)&&(c=!0,11.3l=d),c}13 ag(b){14 d=!1;1b 11.2i!=b&&(d=!0,11.2i=b),d}13 B(){1b N.1y(11.1h)[0]}13 z(){1b K.44(11,11.1l)}13 s(){14 d=11.2m().1a.1E,f=d.3I+2*d.1l;12(11.6j).1t({17:-1*f+"2G"}),12(11.6k).1t({17:0})}13 q(){14 d=11.2m().1a.1E,f=d.3I+2*d.1l;12(11.6j).1t({17:0}),12(11.6k).1t({17:f+"2G"})}13 y(f){14 h=f.1a.1E,g={15:h.3I+2*h.1l,19:h.3I+2*h.1l};12(f.1k).28(12(11.1E=1C.2b("2q")).27("6q").1t(V(g)).28(12(11.7J=1C.2b("2q")).27("9u").1t(V(g)))),11.6r(f,"6s"),11.6r(f,"6t"),1Z.2I.3z||ab.58||12(11.1E).46("4A",12.1A(11.7K,11)).46("5n",12.1A(11.7L,11))}13 x(a,b){14 c=a.1a.1E,aw=c.3I,av=c.1l||0,au=c.x.3I,at=c.x.2E,ar=(c.x.9v,c.2B[b||"6s"]),aq={15:aw+2*av,19:aw+2*av};au>=aw&&(au=aw-2);14 C;12(11.7J).28(12(11[b+"7M"]=1C.2b("2q")).27("9w").1t(12.1n(V(aq),{17:("6t"==b?aq.15:0)+"2G"}))),12(1C.3b).28(12(C=1C.2b("3p"))),O.3D(C,aq),O.3A(C);14 A=C.3y("2d");A.2U=11.2H,12(11[b+"7M"]).28(C),A.9x(aq.15/2,aq.19/2),A.2Z=O.4m(A,ar.1p,{3V:0,3W:0-aw/2,3X:0,3Y:0+aw/2}),A.2o(),A.2f(0,0,aw/2,0,2*1c.38,!0),A.2p(),A.3e(),av&&(A.2Z=O.4m(A,ar.1l,{3V:0,3W:0-aw/2-av,3X:0,3Y:0+aw/2+av}),A.2o(),A.2f(0,0,aw/2,1c.38,0,!1),A.1e((aw+av)/2,0),A.2f(0,0,aw/2+av,0,1c.38,!0),A.2f(0,0,aw/2+av,1c.38,0,!0),A.1e(aw/2,0),A.2f(0,0,aw/2,0,1c.38,!1),A.2p(),A.3e());14 v=au/2,i=at/2;1g(i>v){14 d=i;i=v,v=d}A.2Z=J.30(ar.x.1Y||ar.x,ar.x.1S||1),A.5o(S(45)),A.2o(),A.3E(0,0),A.1e(0,v);2h(14 e=0;4>e;e++){A.1e(0,v),A.1e(i,v),A.1e(i,v-(v-i)),A.1e(v,i),A.1e(v,0),A.5o(S(90))}A.2p(),A.3e()}13 w(a){14 b,aB,aA,az,ax,1W=12.1n({1o:!1,3J:1w,9y:1w,2o:!1,2p:!1,3K:1w,3L:1w,1q:0,1l:0,5p:0,3h:{x:0,y:0}},29[1]||{}),3M=1W.3K,1J=1W.3L,1u=1W.3h,1v=1W.1l,1j=1W.1q,1M=1W.3J,1m=3M.1p.1f,aD=3M.1p.1d,aw={x:1c.34(11.3l.x),y:1c.34(11.3l.y)},av={x:0,y:0},au={x:0,y:0};1g(1J){b=1J.1o.1d,aB=1J.2K.1f,aA=1J.2K.1d,az=aA.15-b.15;14 e=1W.5p,ar=1v+1j+0.5*b.15-0.5*1J.1l.1d.15;ax=1c.1K(e>ar?e-ar:0);14 h=K.6g(1u,1M,aD,1J.1l.1d,1v,1j);1u=h.1F,au=h.4x,av={x:1c.22(aD.15-2*1c.22(ax,1u.x||0)-1J.1l.1d.15-(2*1j||0),0),y:1c.22(aD.19-2*1c.22(ax,1u.y||0)-1J.1l.1d.19-(2*1j||0),0)},L.3f(1M)&&(av.x*=0.5,av.y*=0.5),aw.x=1c.5f(aw.x,av.x),aw.y=1c.5f(aw.y,av.y),L.3f(1M)&&(11.3l.x<0&&aw.x>0&&(aw.x*=-1),11.3l.y<0&&aw.y>0&&(aw.y*=-1)),11.3v&&11.3v.3N&&12.1B(11.3v.3N,13(d,f){12.1B("18 1V 20 17".2W(" "),13(g,c){f==c&&2Q 5Y("("+c+")$").3r(1M)&&(aw[/^(17|1V)$/.3r(c)?"x":"y"]=0)})})}14 C,ay;1g(1j?(C=1m.17+1v+1j,ay=1m.18+1v):(C=1m.17+1v,ay=1m.18+1v),1u&&1u.x&&/^(3Z|42)$/.3r(1M)&&(C+=1u.x),1W.2o&&a.2o(),a.3E(C,ay),1W.1o){21(1M){1i"3Z":C=1m.17+1v,1j&&(C+=1j),C+=1c.22(ax,1u.x||0),C+=aw.x,a.1e(C,ay),ay-=b.19,C+=0.5*b.15,a.1e(C,ay),ay+=b.19,C+=0.5*b.15,a.1e(C,ay);1G;1i"4n":1i"5q":C=1m.17+0.5*aD.15-0.5*b.15,C+=aw.x,a.1e(C,ay),ay-=b.19,C+=0.5*b.15,a.1e(C,ay),ay+=b.19,C+=0.5*b.15,a.1e(C,ay),C=1m.17+0.5*aD.15-0.5*aA.15,a.1e(C,ay);1G;1i"40":C=1m.17+aD.15-1v-b.15,1j&&(C-=1j),C-=1c.22(ax,1u.x||0),C-=aw.x,a.1e(C,ay),ay-=b.19,C+=0.5*b.15,a.1e(C,ay),ay+=b.19,C+=0.5*b.15,a.1e(C,ay)}}1g(1j?1j&&(a.2f(1m.17+aD.15-1v-1j,1m.18+1v+1j,1j,S(-90),S(0),!1),C=1m.17+aD.15-1v,ay=1m.18+1v+1j):(C=1m.17+aD.15-1v,ay=1m.18+1v,a.1e(C,ay)),1W.1o){21(1M){1i"41":ay=1m.18+1v,1j&&(ay+=1j),ay+=1c.22(ax,1u.y||0),ay+=aw.y,a.1e(C,ay),C+=b.19,ay+=0.5*b.15,a.1e(C,ay),C-=b.19,ay+=0.5*b.15,a.1e(C,ay);1G;1i"4o":1i"5r":ay=1m.18+0.5*aD.19-0.5*b.15,ay+=aw.y,a.1e(C,ay),C+=b.19,ay+=0.5*b.15,a.1e(C,ay),C-=b.19,ay+=0.5*b.15,a.1e(C,ay);1G;1i"4p":ay=1m.18+aD.19-1v,1j&&(ay-=1j),ay-=b.15,ay-=1c.22(ax,1u.y||0),ay-=aw.y,a.1e(C,ay),C+=b.19,ay+=0.5*b.15,a.1e(C,ay),C-=b.19,ay+=0.5*b.15,a.1e(C,ay)}}1g(1j?1j&&(a.2f(1m.17+aD.15-1v-1j,1m.18+aD.19-1v-1j,1j,S(0),S(90),!1),C=1m.17+aD.15-1v-1j,ay=1m.18+aD.19-1v):(C=1m.17+aD.15-1v,ay=1m.18+aD.19-1v,a.1e(C,ay)),1W.1o){21(1M){1i"4q":C=1m.17+aD.15-1v,1j&&(C-=1j),C-=1c.22(ax,1u.x||0),C-=aw.x,a.1e(C,ay),C-=0.5*b.15,ay+=b.19,a.1e(C,ay),C-=0.5*b.15,ay-=b.19,a.1e(C,ay);1G;1i"4r":1i"5s":C=1m.17+0.5*aD.15+0.5*b.15,C+=aw.x,a.1e(C,ay),C-=0.5*b.15,ay+=b.19,a.1e(C,ay),C-=0.5*b.15,ay-=b.19,a.1e(C,ay);1G;1i"4s":C=1m.17+1v+b.15,1j&&(C+=1j),C+=1c.22(ax,1u.x||0),C+=aw.x,a.1e(C,ay),C-=0.5*b.15,ay+=b.19,a.1e(C,ay),C-=0.5*b.15,ay-=b.19,a.1e(C,ay)}}1g(1j?1j&&(a.2f(1m.17+1v+1j,1m.18+aD.19-1v-1j,1j,S(90),S(2N),!1),C=1m.17+1v,ay=1m.18+aD.19-1v-1j):(C=1m.17+1v,ay=1m.18+aD.19-1v,a.1e(C,ay)),1W.1o){21(1M){1i"4t":ay=1m.18+aD.19-1v,1j&&(ay-=1j),ay-=1c.22(ax,1u.y||0),ay-=aw.y,a.1e(C,ay),C-=b.19,ay-=0.5*b.15,a.1e(C,ay),C+=b.19,ay-=0.5*b.15,a.1e(C,ay);1G;1i"4u":1i"5t":ay=1m.18+0.5*aD.19+0.5*b.15,ay+=aw.y,a.1e(C,ay),C-=b.19,ay-=0.5*b.15,a.1e(C,ay),C+=b.19,ay-=0.5*b.15,a.1e(C,ay);1G;1i"42":ay=1m.18+1v+b.15,1j&&(ay+=1j),ay+=1c.22(ax,1u.y||0),ay+=aw.y,a.1e(C,ay),C-=b.19,ay-=0.5*b.15,a.1e(C,ay),C+=b.19,ay-=0.5*b.15,a.1e(C,ay)}}1b 1j?1j&&(a.2f(1m.17+1v+1j,1m.18+1v+1j,1j,S(-2N),S(-90),!1),C=1m.17+1v+1j,ay=1m.18+1v,C+=1,a.1e(C,ay)):(C=1m.17+1v,ay=1m.18+1v,a.1e(C,ay)),1W.2p&&a.2p(),{x:C,y:ay,1o:aw,5u:au,3h:1u}}13 t(a){14 b,ax,aw,av,au,at,1u=12.1n({1o:!1,3J:1w,2o:!1,2p:!1,3K:1w,3L:1w,1q:0,1l:0,7N:0,3h:{x:0,y:0},5v:1w},29[1]||{}),1v=1u.3K,1j=1u.3L,1M=(1u.7N,1u.3h),1m=1u.1l,aD=1u.1q&&1u.1q.2E||0,aC=1u.7O,aB=1u.3J,aA=1v.1p.1f,az=1v.1p.1d,ar=1u.5v&&1u.5v.1o||{x:0,y:0};1g(1j){b=1j.1o.1d,ax=1j.2K.1f,aw=1j.2K.1d,av=1j.1l.1d,au=aw.15-b.15;14 c=1m+aC+0.5*b.15-0.5*av.15;at=1c.1K(aD>c?aD-c:0)}14 C=aA.17+1m+aC,A=aA.18+1m;aC&&(C+=1),12.1n({},{x:C,y:A}),1u.2o&&a.2o();14 f=12.1n({},{x:C,y:A});1g(A-=1m,a.1e(C,A),aD?aD&&(a.2f(aA.17+aD,aA.18+aD,aD,S(-90),S(-2N),!0),C=aA.17,A=aA.18+aD):(C=aA.17,A=aA.18,a.1e(C,A)),1u.1o){21(aB){1i"42":A=aA.18+1m,aC&&(A+=aC),A-=0.5*av.15,A+=0.5*b.15,A+=1c.22(at,1M.y||0),A+=ar.y,a.1e(C,A),C-=av.19,A+=0.5*av.15,a.1e(C,A),C+=av.19,A+=0.5*av.15,a.1e(C,A);1G;1i"4u":1i"5t":A=aA.18+0.5*az.19-0.5*av.15,A+=ar.y,a.1e(C,A),C-=av.19,A+=0.5*av.15,a.1e(C,A),C+=av.19,A+=0.5*av.15,a.1e(C,A);1G;1i"4t":A=aA.18+az.19-1m-av.15,aC&&(A-=aC),A+=0.5*av.15,A-=0.5*b.15,A-=1c.22(at,1M.y||0),A-=ar.y,a.1e(C,A),C-=av.19,A+=0.5*av.15,a.1e(C,A),C+=av.19,A+=0.5*av.15,a.1e(C,A)}}1g(aD?aD&&(a.2f(aA.17+aD,aA.18+az.19-aD,aD,S(-2N),S(-9z),!0),C=aA.17+aD,A=aA.18+az.19):(C=aA.17,A=aA.18+az.19,a.1e(C,A)),1u.1o){21(aB){1i"4s":C=aA.17+1m,aC&&(C+=aC),C-=0.5*av.15,C+=0.5*b.15,C+=1c.22(at,1M.x||0),C+=ar.x,a.1e(C,A),A+=av.19,C+=0.5*av.15,a.1e(C,A),A-=av.19,C+=0.5*av.15,a.1e(C,A);1G;1i"4r":1i"5s":C=aA.17+0.5*az.15-0.5*av.15,C+=ar.x,a.1e(C,A),A+=av.19,C+=0.5*av.15,a.1e(C,A),A-=av.19,C+=0.5*av.15,a.1e(C,A),C=aA.17+0.5*az.15+av.15,a.1e(C,A);1G;1i"4q":C=aA.17+az.15-1m-av.15,aC&&(C-=aC),C+=0.5*av.15,C-=0.5*b.15,C-=1c.22(at,1M.x||0),C-=ar.x,a.1e(C,A),A+=av.19,C+=0.5*av.15,a.1e(C,A),A-=av.19,C+=0.5*av.15,a.1e(C,A)}}1g(aD?aD&&(a.2f(aA.17+az.15-aD,aA.18+az.19-aD,aD,S(90),S(0),!0),C=aA.17+az.15,A=aA.18+az.15+aD):(C=aA.17+az.15,A=aA.18+az.19,a.1e(C,A)),1u.1o){21(aB){1i"4p":A=aA.18+az.19-1m,A+=0.5*av.15,A-=0.5*b.15,aC&&(A-=aC),A-=1c.22(at,1M.y||0),A-=ar.y,a.1e(C,A),C+=av.19,A-=0.5*av.15,a.1e(C,A),C-=av.19,A-=0.5*av.15,a.1e(C,A);1G;1i"4o":1i"5r":A=aA.18+0.5*az.19+0.5*av.15,A+=ar.y,a.1e(C,A),C+=av.19,A-=0.5*av.15,a.1e(C,A),C-=av.19,A-=0.5*av.15,a.1e(C,A);1G;1i"41":A=aA.18+1m,aC&&(A+=aC),A+=av.15,A-=0.5*av.15-0.5*b.15,A+=1c.22(at,1M.y||0),A+=ar.y,a.1e(C,A),C+=av.19,A-=0.5*av.15,a.1e(C,A),C-=av.19,A-=0.5*av.15,a.1e(C,A)}}1g(aD?aD&&(a.2f(aA.17+az.15-aD,aA.18+aD,aD,S(0),S(-90),!0),C=aA.17+az.15-aD,A=aA.18):(C=aA.17+az.15,A=aA.18,a.1e(C,A)),1u.1o){21(aB){1i"40":C=aA.17+az.15-1m,C+=0.5*av.15-0.5*b.15,aC&&(C-=aC),C-=1c.22(at,1M.x||0),C-=ar.x,a.1e(C,A),A-=av.19,C-=0.5*av.15,a.1e(C,A),A+=av.19,C-=0.5*av.15,a.1e(C,A);1G;1i"4n":1i"5q":C=aA.17+0.5*az.15+0.5*av.15,C+=ar.x,a.1e(C,A),A-=av.19,C-=0.5*av.15,a.1e(C,A),A+=av.19,C-=0.5*av.15,a.1e(C,A),C=aA.17+0.5*az.15-av.15,a.1e(C,A),a.1e(C,A);1G;1i"3Z":C=aA.17+1m+av.15,C-=0.5*av.15,C+=0.5*b.15,aC&&(C+=aC),C+=1c.22(at,1M.x||0),C+=ar.x,a.1e(C,A),A-=av.19,C-=0.5*av.15,a.1e(C,A),A+=av.19,C-=0.5*av.15,a.1e(C,A)}}a.1e(f.x,f.y-1m),a.1e(f.x,f.y),1u.2p&&a.2p()}13 r(a){14 b=11.2x(),av=11.1a.1o&&11.4B(),au=11.2i&&11.2i.3H(),at=11.1q,ar=11.1l,aq=11.2w,C=({15:2*ar+2*aq+11.2P.15,19:2*ar+2*aq+11.2P.19},a.1a.1o&&a.1a.1o.1F||{x:0,y:0}),A=0,v=0;at&&(A="1p"==11.1a.1q.1f?at:0,v="1l"==11.1a.1q.1f?at:A+ar),12(1C.3b).28(11.35=1C.2b("3p")),O.3D(11.35,b.1O.1d),O.3A(11.35);14 u=11.35.3y("2d");u.2U=11.2H,12(11.1O).28(11.35),u.2Z=O.4m(u,11.1a.1p,{3V:0,3W:b.1p.1f.18+ar,3X:0,3Y:b.1p.1f.18+b.1p.1d.19-ar}),u.9A=0;14 j;1g(j=11.6u(u,{2o:!0,2p:!0,1l:ar,1q:A,5p:v,3K:b,3L:av,1o:11.1a.1o,3J:au,3h:C}),u.3e(),ar){14 g=O.4m(u,11.1a.1l,{3V:0,3W:b.1p.1f.18,3X:0,3Y:b.1p.1f.18+b.1p.1d.19});u.2Z=g,j=11.6u(u,{2o:!0,2p:!1,1l:ar,1q:A,5p:v,3K:b,3L:av,1o:11.1a.1o,3J:au,3h:C}),11.7P(u,{2o:!1,2p:!0,1l:ar,7O:A,1q:{2E:v,1f:11.1a.1q.1f},3K:b,3L:av,1o:11.1a.1o,3J:au,3h:j.3h,5v:j}),u.3e()}11.3O=j}13 n(){14 a,7Q=11.2m(),6v=11.2P,3P=7Q.1a,7R=11.1q,5w=11.1l,6w=11.2w,47={15:2*5w+2*6w+6v.15,19:2*5w+2*6w+6v.19};1g(11.1a.1o){14 b=11.4B();a=b.2K.1d}14 c=K.6f(11,47),3M=c.1d,1J=c.1f,47=c.1p.1d,1u=c.1p.1f;c.1o.1d;14 d,aB,az,1j={18:0,17:0},ax={15:3M.15,19:3M.19};1g(3P.1E){14 e=7R;"1p"==3P.1q.1f&&(e+=5w);14 f=e-1c.9B(S(45))*e,aq="1V";11.2i.3H().3o(/^(40|41)$/)&&(aq="17");14 p=3P.1E.3I+2*3P.1E.1l,d={15:p,19:p};1g(1j.17=1u.17-p/2+("17"==aq?f:47.15-f),1j.18=1u.18-p/2+f,"17"==aq){1g(1j.17<0){14 g=1c.34(1j.17);ax.15+=g,1J.17+=g,1j.17=0}}1N{14 h=1j.17+p-ax.15;h>0&&(ax.15+=h)}1g(1j.18<0){14 i=1c.34(1j.18);ax.19+=i,1J.18+=i,1j.18=0}1g(11.1a.1E.1x){14 j=11.1a.1E.1x,aA=j.3a,ay=j.1F;1g(aB={15:d.15+2*aA,19:d.19+2*aA},az={18:1j.18-aA+ay.y,17:1j.17-aA+ay.x},"17"==aq){1g(az.17<0){14 g=1c.34(az.17);ax.15+=g,1J.17+=g,1j.17+=g,az.17=0}}1N{14 h=az.17+aB.15-ax.15;h>0&&(ax.15+=h)}1g(az.18<0){14 i=1c.34(az.18);ax.19+=i,1J.18+=i,1j.18+=i,az.18=0}}}14 k=c.2S;k.18+=1J.18,k.17+=1J.17;14 l={17:1c.1K(1J.17+1u.17+11.1l+11.1a.2w),18:1c.1K(1J.18+1u.18+11.1l+11.1a.2w)},ar={1I:{1d:{15:1c.1K(ax.15),19:1c.1K(ax.19)}},2a:{1d:{15:1c.1K(ax.15),19:1c.1K(ax.19)}},1O:{1d:3M,1f:{18:1c.2c(1J.18),17:1c.2c(1J.17)}},1p:{1d:{15:1c.1K(47.15),19:1c.1K(47.19)},1f:{18:1c.2c(1u.18),17:1c.2c(1u.17)}},2S:{18:1c.2c(k.18),17:1c.2c(k.17)},2O:{1f:l}};1b 11.1a.1E&&(ar.1E={1d:{15:1c.1K(d.15),19:1c.1K(d.19)},1f:{18:1c.2c(1j.18),17:1c.2c(1j.17)}},11.1a.1E.1x&&(ar.33={1d:{15:1c.1K(aB.15),19:1c.1K(aB.19)},1f:{18:1c.2c(az.18),17:1c.2c(az.17)}})),ar}13 k(){14 d=11.2x(),f=11.2m();12(f.1k).1t(V(d.1I.1d)),12(f.5k).1t(V(d.2a.1d)),11.32&&11.32.1t(V(d.1I.1d)),12(11.1O).1t(12.1n(V(d.1O.1d),V(d.1O.1f))),11.1E&&(12(11.1E).1t(V(d.1E.1f)),d.33&&12(11.33.1k).1t(V(d.33.1f))),12(f.3i).1t(V(d.2O.1f))}13 e(b){11.2H=b||0,11.1x&&(11.1x.2H=11.2H)}13 a(b){11.7S(b),11.1X()}1b{5l:am,7D:ap,1X:al,1D:ao,3g:an,2m:B,2Y:ak,5x:aj,7I:ai,7H:ah,4z:ag,7C:y,6r:x,7B:r,6u:w,7P:t,7K:s,7L:q,4B:z,2x:n,5m:k,7S:e,9C:a}}());14 G={3t:{},1y:13(a){1g(!a){1b 1w}14 f=1w,e=12(a).26("2A-23");1b e&&(f=11.3t[e]),f},39:13(b){11.3t[b.23]=b},1D:13(d){14 c=11.1y(d);c&&(3T 11.3t[c.23],c.1D())},4C:13(b){1b 1c.38/2-1c.78(b,1c.4R(b)*1c.38)}};G.4D={4w:13(g,f){14 j=I.1y(g.1h),i=j.4B().1l.1d,h=11.5h(i.15,i.19,f,{43:!1});1b{15:h.15,19:h.19}},9D:13(r,q,p){14 o=0.5*r,n=T(1c.9E(o/U(o,q))),m=2N-n-90,l=R(S(m))*p,k=2*(o+l),j=k/r*q;1b{15:k,19:j}},5h:13(j,i,p){14 o=T(1c.7w(0.5*(i/j))),n=2N-o,m=1c.4R(S(n-90))*p,l=j+2*m,k=l*i/j;1b{15:l,19:k}},44:13(r){14 q=I.1y(r.1h),p=r.1a.3a,o=L.7v(q.2i),n=(L.2R(q.2i),G.4D.4w(r,p)),m={2K:{1d:{15:1c.1K(n.15),19:1c.1K(n.19)},1f:{18:0,17:0}}};1g(p){m.36=[];2h(14 l=0;p>=l;l++){14 f=G.4D.4w(r,l,{43:!1}),a={1f:{18:m.2K.1d.19-f.19,17:o?p-l:(m.2K.1d.15-f.15)/2},1d:f};m.36.2v(a)}}1N{m.36=[12.1n({},m.2K)]}1b m},5o:13(e,d,f){K.5o(e,d.3u(),f)}},12.1n(F.3S,13(){13 t(){1b N.1y(11.1h)[0]}13 s(){1b I.1y(11.1h)}13 r(){11.3g()}13 q(){11.1k&&(12(11.1k).1D(),11.1o=1w,11.1p=1w,11.1O=1w,11.1k=1w,11.1r={})}13 p(){}13 o(){11.3g(),11.5l();14 d=11.2m(),e=11.3u();11.1k=12("<2q>").27("9F")[0],12(d.1k).6m(11.1k),e.32&&12(d.1k).6m(e.32),e.2x(),12(11.1k).1t({18:0,17:0}),11.7T(),11.5m()}13 n(){1b 11.1a.1S/(11.1a.3a+1)}13 m(){14 a=11.3u(),1M=a.2x(),1m=11.2m(),aD=11.2x(),k=11.1a.3a,aB=G.4D.44(11),aA=a.2i,az=L.6d(aA),ay={18:k,17:k};1g(1m.1a.1o){14 b=aB.36[aB.36.2j-1];"17"==az&&(ay.17+=1c.1K(b.1d.19)),"18"==az&&(ay.18+=1c.1K(b.1d.19))}14 c=a.1r.1a,av=c.1q,au=c.1l;"1p"==1m.1a.1q.1f&&av&&(av+=au);14 d=aD.1O.1d;12(11.1k).28(12(11.1O=1C.2b("2q")).27("9G").1t(V(d))).1t(V(d)),12(1C.3b).28(12(11.35=1C.2b("3p"))),O.3D(11.35,aD.1O.1d),O.3A(11.35);14 e=11.35.3y("2d");e.2U=11.2H,12(11.1O).28(11.35);2h(14 f=k+1,j=0;k>=j;j++){e.2Z=J.30(11.1a.1Y,G.4C(j*(1/f))*(11.1a.1S/f)),O.7m(e,{15:1M.1p.1d.15+2*j,19:1M.1p.1d.19+2*j,18:ay.18-j,17:ay.17-j,1q:av+j})}1g(a.1a.1o){14 g={x:ay.17,y:ay.18},ag=aB.36[0].1d,w=a.1a.1o,ar=au;ar+=0.5*w.15;14 h=a.1a.1q&&"1p"==a.1a.1q.1f?a.1a.1q.2E||0:0;h&&(ar+=h);14 i=au+h+0.5*w.15-0.5*ag.15,an=1c.1K(av>i?av-i:0),am=a.3O&&a.3O.1o||{x:0,y:0},ak=a.3O&&a.3O.5u||{x:0,y:0};1g(ar+=1c.22(an,a.1a.1o.1F&&a.1a.1o.1F[az&&/^(17|1V)$/.3r(az)?"y":"x"]||0),"18"==az||"20"==az){21(aA){1i"3Z":1i"4s":g.x+=ar+am.x-ak.x;1G;1i"4n":1i"5q":1i"4r":1i"5s":g.x+=0.5*1M.1p.1d.15+am.x;1G;1i"40":1i"4q":g.x+=1M.1p.1d.15-(ar-am.x+ak.x)}"20"==az&&(g.y+=1M.1p.1d.19);2h(14 j=0,ai=aB.36.2j;ai>j;j++){e.2Z=J.30(11.1a.1Y,G.4C(j*(1/f))*(11.1a.1S/f));14 k=aB.36[j];e.2o(),"18"==az?(e.3E(g.x,g.y-j),e.1e(g.x-0.5*k.1d.15,g.y-j),e.1e(g.x,g.y-j-k.1d.19),e.1e(g.x+0.5*k.1d.15,g.y-j)):(e.3E(g.x,g.y+j),e.1e(g.x-0.5*k.1d.15,g.y+j),e.1e(g.x,g.y+j+k.1d.19),e.1e(g.x+0.5*k.1d.15,g.y+j)),e.2p(),e.3e()}}1N{21(aA){1i"42":1i"41":g.y+=ar+am.y-ak.y;1G;1i"4u":1i"5t":1i"4o":1i"5r":g.y+=0.5*1M.1p.1d.19+am.y;1G;1i"4t":1i"4p":g.y+=1M.1p.1d.19-(ar-am.y+ak.y)}"1V"==az&&(g.x+=1M.1p.1d.15);2h(14 j=0,ai=aB.36.2j;ai>j;j++){e.2Z=J.30(11.1a.1Y,G.4C(j*(1/f))*(11.1a.1S/f));14 k=aB.36[j];e.2o(),"17"==az?(e.3E(g.x-j,g.y),e.1e(g.x-j,g.y-0.5*k.1d.15),e.1e(g.x-j-k.1d.19,g.y),e.1e(g.x-j,g.y+0.5*k.1d.15)):(e.3E(g.x+j,g.y),e.1e(g.x+j,g.y-0.5*k.1d.15),e.1e(g.x+j+k.1d.19,g.y),e.1e(g.x+j,g.y+0.5*k.1d.15)),e.2p(),e.3e()}}}}13 k(){14 a=11.3u();a.2P,a.1q;14 b=a.2x(),av=(11.2m(),11.1a.3a),au=12.1n({},b.1p.1d);au.15+=2*av,au.19+=2*av;14 e,ar;1g(a.1a.1o){14 g=G.4D.44(11);e=g.2K.1d,ar=e.19}14 h=K.6f(a,au,ar),ao=h.1d,an=h.1f,au=h.1p.1d,am=h.1p.1f,aj=b.1O.1f,ag=b.1p.1f,w={18:aj.18+ag.18-(am.18+av)+11.1a.1F.y,17:aj.17+ag.17-(am.17+av)+11.1a.1F.x},j=b.2S,f=b.2a.1d,d={18:0,17:0};1g(w.18<0){14 c=1c.34(w.18);d.18+=c,w.18=0,j.18+=c}1g(w.17<0){14 i=1c.34(w.17);d.17+=i,w.17=0,j.17+=i}14 l={19:1c.22(ao.19+w.18,f.19+d.18),15:1c.22(ao.15+w.17,f.15+d.17)},ai={17:1c.1K(d.17+b.1O.1f.17+b.1p.1f.17+a.1l+a.2w),18:1c.1K(d.18+b.1O.1f.18+b.1p.1f.18+a.1l+a.2w)},ah={1I:{1d:l},2a:{1d:f,1f:d},1k:{1d:ao,1f:w},1O:{1d:ao,1f:{18:1c.2c(an.18),17:1c.2c(an.17)}},1p:{1d:{15:1c.1K(au.15),19:1c.1K(au.19)},1f:{18:1c.2c(am.18),17:1c.2c(am.17)}},2S:j,2O:{1f:ai}};1b ah}13 a(){14 i=11.2x(),x=11.3u(),w=11.2m();1g(12(w.1k).1t(V(i.1I.1d)),12(w.5k).1t(12.1n(V(i.2a.1f),V(i.2a.1d))),x.32&&x.32.1t(V(i.1I.1d)),w.1a.1E){14 v=x.2x(),u=i.2a.1f,l=v.1E.1f;1g(12(x.1E).1t(V({18:u.18+l.18,17:u.17+l.17})),w.1a.1E.1x){14 j=v.33.1f;12(x.33.1k).1t(V({18:u.18+j.18,17:u.17+j.17}))}}12(11.1k).1t(12.1n(V(i.1k.1d),V(i.1k.1f))),12(11.1O).1t(V(i.1O.1d)),12(w.3i).1t(V(i.2O.1f))}1b{5l:p,1D:r,3g:q,1X:o,2m:t,3u:s,2x:k,7U:n,7T:m,5m:a}}());14 E={3t:{},1y:13(a){1g(!a){1b 1w}14 d=12(a).26("2A-23");1b d?11.3t[d]:1w},39:13(b){11.3t[b.23]=b},1D:13(d){14 c=11.1y(d);c&&(3T 11.3t[c.23],c.1D())}};12.1n(D.3S,13(){13 a(){1b N.1y(11.1h)[0]}13 l(){1b I.1y(11.1h)}13 k(){1b 11.1a.1S/(11.1a.3a+1)}13 j(){11.3g()}13 i(){11.1k&&(12(11.1k).1D(),11.1k=1w)}13 h(){11.3g();14 u=(11.2m(),11.3u()),t=u.2x().1E.1d,s=12.1n({},t),r=11.1a.3a;s.15+=2*r,s.19+=2*r,12(u.1E).6x(12(11.1k=1C.2b("2q")).27("9H")),12(1C.3b).28(12(11.4E=1C.2b("3p"))),O.3D(11.4E,s),O.3A(11.4E);14 q=11.4E.3y("2d");q.2U=11.2H,12(11.1k).28(11.4E);2h(14 p=s.15/2,o=s.19/2,n=t.19/2,m=r+1,b=0;r>=b;b++){q.2Z=J.30(11.1a.1Y,G.4C(b*(1/m))*(11.1a.1S/m)),q.2o(),q.2f(p,o,n+b,S(0),S(7A),!0),q.2p(),q.3e()}}1b{1X:h,1D:j,3g:i,2m:a,3u:l,7U:k}}());14 N={2y:{},1a:{48:"6y",4T:9I},7V:13(){14 a=["2z"];1Z.2I.3z&&(a.2v("7W"),11.4F&&12(1C.3b).4G("2z",11.4F),11.4F=1w),12.1B(a,13(d,e){12(1C.6z).9J(".3j .6q, .3j .7X-1I",e)}),11.4H&&(12(1P).4G("3D",11.4H),11.4H=1w),12(1C).4G("4I",N.2n.6A)},7k:13(){13 a(){11.7V();14 c=["2z"];1Z.2I.3z&&(c.2v("7W"),11.4F=13(){1b 3F 0},12(1C.3b).46("2z",11.4F)),12.1B(c,13(d,e){12(1C.6z).9K(".3j .6q, .3j .7X-1I",e,13(f){f.9L(),f.9M(),N.6B(12(f.1H).5y(".3j")[0]).1Q()})}),11.4H=12.1A(11.7Y,11),12(1P).46("3D",11.4H),12(1C).46("4I",N.2n.6A)}1b a}(),7Y:13(){11.5z&&(1P.6C(11.5z),11.5z=1w),11.5z=ac.4Y(12.1A(13(){14 a=11.3U();12.1B(a,13(d,c){c.1f()})},11),9N)},5A:13(a){14 g,h=12(a).26("2A-23");1g(!h){14 f=11.6B(12(a).5y(".3j")[0]);f&&f.1h&&(h=12(f.1h).26("2A-23"))}1b h&&(g=11.2y[h])?g:3F 0},65:13(d){14 c;1b ac.2s(d)&&(c=11.5A(d)),c&&c.1h},1y:13(a){14 f=[];1g(ac.2s(a)){14 d=11.5A(a);d&&(f=[d])}1N{12.1B(11.2y,13(c,b){b.1h&&12(b.1h).7Z(a)&&f.2v(b)})}1b f},6B:13(a){1g(!a){1b 1w}14 d=1w;1b 12.1B(11.2y,13(b,c){c.1L("1X")&&c.1k===a&&(d=c)}),d},9O:13(a){14 d=[];1b 12.1B(11.2y,13(c,b){b.1h&&12(b.1h).7Z(a)&&d.2v(b)}),d},25:13(a){1g(ac.2s(a)){14 f=a,d=11.1y(f)[0];d&&d.25()}1N{12(a).1B(12.1A(13(g,e){14 h=11.1y(e)[0];h&&h.25()},11))}},1Q:13(a){1g(ac.2s(a)){14 d=11.1y(a)[0];d&&d.1Q()}1N{12(a).1B(12.1A(13(f,e){14 g=11.1y(e)[0];g&&g.1Q()},11))}},3d:13(a){1g(ac.2s(a)){14 f=a,d=11.1y(f)[0];d&&d.3d()}1N{12(a).1B(12.1A(13(g,e){14 h=11.1y(e)[0];h&&h.3d()},11))}},5c:13(){12.1B(11.3U(),13(d,c){c.1Q()})},2Y:13(a){1g(ac.2s(a)){14 f=a,d=11.1y(f)[0];d&&d.2Y()}1N{12(a).1B(12.1A(13(g,e){14 h=11.1y(e)[0];h&&h.2Y()},11))}},3U:13(){14 a=[];1b 12.1B(11.2y,13(b,d){d.1T()&&a.2v(d)}),a},68:13(a){14 d=!1;1b ac.2s(a)&&12.1B(11.3U()||[],13(b,c){1b c.1h==a?(d=!0,!1):3F 0}),d},80:13(){14 d,a=0;1b 12.1B(11.2y,13(b,c){c.2t>a&&(a=c.2t,d=c)}),d},81:13(){11.3U().2j<=1&&12.1B(11.2y,13(a,d){d.1L("1X")&&!d.1a.2t&&12(d.1k).1t({2t:d.2t=+N.1a.4T})})},39:13(b){11.2y[b.23]=b},4J:13(a){14 f=11.5A(a);1g(f){14 e=12(f.1h).26("2A-23");3T 11.2y[e],f.1Q(),f.1D()}},1D:13(a){ac.2s(a)?11.4J(a):12(a).1B(12.1A(13(d,c){11.4J(c)},11))},7l:13(){12.1B(11.2y,12.1A(13(d,c){c.1h&&!ac.1h.56(c.1h)&&11.4J(c.1h)},11))},7j:13(){12.1B(11.2y,12.1A(13(d,c){c.1h&&11.4J(c.1h)},11)),11.2y={}},66:13(b){11.1a.48=b||"6y"},67:13(b){11.1a.4T=b||0},6a:13(){12.1B(11.2y,12.1A(13(d,c){c.1r&&c.1r.2u&&(c.1r.2u.6D(),c.1r.2u=1w),c.2g("3n",!1)},11)),X.7e()},6X:13(){13 k(c){14 b;1b b="2C"==12.1s(c)?{1h:n.2e&&n.2e.1h||a.2e.1h,2F:c}:Q(12.1n({},a.2e),c)}13 j(b){1b a=1Z.2L.82,n=Q(12.1n({},a),1Z.2L.6E),m=1Z.2L.6F.82,l=Q(12.1n({},m),1Z.2L.6F.6E),j=i,i(b)}13 i(j){j.2a=j.2a&&1Z.2L[j.2a]?j.2a:1Z.2L[N.1a.48]?N.1a.48:"6y";14 w=j.2a?12.1n({},1Z.2L[j.2a]||1Z.2L[N.1a.48]):{},ap=Q(12.1n({},n),w),ao=Q(12.1n({},ap),j);1g(ao.2l){14 x=n.2l||{},am=a.2l;"4K"==12.1s(ao.2l)&&(ao.2l={49:x.49||am.49,1s:x.1s||am.1s}),ao.2l=Q(12.1n({},am),ao.2l)}1g(ao.1p&&"2C"==12.1s(ao.1p)&&(ao.1p={1Y:ao.1p,1S:1}),ao.1l){14 z,ak=n.1l||{},aj=a.1l;z="2J"==12.1s(ao.1l)?{2E:ao.1l,1Y:ak.1Y||aj.1Y,1S:ak.1S||aj.1S}:Q(12.1n({},aj),ao.1l),ao.1l=0===z.2E?!1:z}1g(ao.1q){14 C;C="2J"==12.1s(ao.1q)?{2E:ao.1q,1f:n.1q&&n.1q.1f||a.1q.1f}:Q(12.1n({},a.1q),ao.1q),ao.1q=0===C.2E?!1:C}14 D,B=B=ao.1z&&ao.1z.1H||"2C"==12.1s(ao.1z)&&ao.1z||n.1z&&n.1z.1H||"2C"==12.1s(n.1z)&&n.1z||a.1z&&a.1z.1H||a.1z,y=ao.1z&&ao.1z.1I||n.1z&&n.1z.1I||a.1z&&a.1z.1I||N.2n.6G(B);1g(ao.1z?"2C"==12.1s(ao.1z)?D={1H:ao.1z,1I:N.2n.83(ao.1z)}:(D={1I:y,1H:B},ao.1z.1I&&(D.1I=ao.1z.1I),ao.1z.1H&&(D.1H=ao.1z.1H)):D={1I:y,1H:B},"2V"==ao.1H){14 f=L.2R(D.1H);D.1H="1R"==f?D.1H.6h(/(17|1V)/,"2D"):D.1H.6h(/(18|20)/,"2D")}ao.1z=D;14 e;1g("2V"==ao.1H?(e=12.1n({},a.1F),12.1n(e,1Z.2L.6E.1F||{}),j.2a&&12.1n(e,(1Z.2L[j.2a]||1Z.2L[N.1a.48]).1F||{}),e=N.2n.84(a.1F,a.1z,D.1H,!0),j.1F&&(e=12.1n(e,j.1F||{})),ao.4a=0):e={x:ao.1F.x,y:ao.1F.y},ao.1F=e,ao.1E&&ao.85){14 d=12.1n({},1Z.2L.6F[ao.85]),c=Q(12.1n({},l),d);1g(c.2B&&12.1B(["6s","6t"],13(o,v){14 u=c.2B[v],t=l.2B&&l.2B[v];1g(u.1p){14 s=t&&t.1p;1g("2J"==12.1s(u.1p)){u.1p={1Y:s&&s.1Y||m.2B[v].1p.1Y,1S:u.1p}}1N{1g("2C"==12.1s(u.1p)){14 q=s&&"2J"==12.1s(s.1S)&&s.1S||m.2B[v].1p.1S;u.1p={1Y:u.1p,1S:q}}1N{u.1p=Q(12.1n({},m.2B[v].1p),u.1p)}}}1g(u.1l){14 p=t&&t.1l;u.1l="2J"==12.1s(u.1l)?{1Y:p&&p.1Y||m.2B[v].1l.1Y,1S:u.1l}:Q(12.1n({},m.2B[v].1l),u.1l)}}),c.1x){14 b=l.1x&&l.1x.3Q&&l.1x.3Q==5O?l.1x:m.1x;c.1x.3Q&&c.1x.3Q==5O&&(b=Q(b,c.1x)),c.1x=b}ao.1E=c}1g(ao.1x){14 E;E="4K"==12.1s(ao.1x)?n.1x&&"4K"==12.1s(n.1x)?a.1x:n.1x?n.1x:a.1x:Q(12.1n({},a.1x),ao.1x||{}),"2J"==12.1s(E.1F)&&(E.1F={x:E.1F,y:E.1F}),ao.1x=E}1g(ao.1o){14 A={};A="4K"==12.1s(ao.1o)?Q({},a.1o):Q(Q({},a.1o),12.1n({},ao.1o)),"2J"==12.1s(A.1F)&&(A.1F={x:A.1F,y:A.1F}),ao.1o=A}1g(ao.37&&("2C"==12.1s(ao.37)?ao.37={5B:ao.37,86:!0}:"4K"==12.1s(ao.37)&&(ao.37=ao.37?{5B:"5e",86:!0}:!1)),ao.2e&&"2z-9P"==ao.2e&&(ao.87=!0,ao.2e=!1),ao.2e){1g(12.7o(ao.2e)){14 r=[];12.1B(ao.2e,13(h,g){r.2v(k(g))}),ao.2e=r}1N{ao.2e=[k(ao.2e)]}}1b ao.2T&&"2C"==12.1s(ao.2T)&&(ao.2T=[""+ao.2T]),ao.2w=0,ao.1U&&(1P.6H||(ao.1U=!1)),ao}14 a,n,m,l;1b j}()};N.2n=13(){13 B(n){14 m=L.2W(n),l=m[1],k=m[2],j=L.2R(n),b=12.1n({1R:!0,2k:!0},29[1]||{});1b"1R"==j?(b.2k&&(l=C[l]),b.1R&&(k=C[k])):(b.2k&&(k=C[k]),b.1R&&(l=C[l])),l+k}13 w(b){14 c=L.2W(b);1b B(c[1]+C[c[2]])}13 u(f,h){12(f.1k).1t({18:h.18+"2G",17:h.17+"2G"})}13 r(z,y,x,v){14 t=ag(z,y,x,v),s=x&&"2C"==88 x.1s?x.1s:"";1g(/9Q$/.3r(s),1===t.4b.4c){1b i(z,t),t}14 l=y,k=v,j={1R:!t.4b.1R,2k:!t.4b.2k},f={1R:!1,2k:!1},c=L.2R(y);1b((f.2k="1R"==c&&j.2k)||(f.1R="2k"==c&&j.1R))&&(l=B(y,f),k=B(v,f),t=ag(z,l,x,k),1===t.4b.4c)?(i(z,t),t):(t=p(t,z),i(z,t),t)}13 p(k,j){14 s=A(j),q=s.1d,o=s.1f,n=I.1y(j.1h).1r.1z[k.1z.1I].1I.1d,m=k.1f,l={18:0,17:0,3N:[]};1b o.17>m.17&&(l.17=o.17-m.17,l.3N.2v("17"),k.1f.17=o.17),o.18>m.18&&(l.18=m.18-o.18,l.3N.2v("18"),k.1f.18=o.18),o.17+q.15<m.17+n.15&&(l.17=o.17+q.15-(m.17+n.15),l.3N.2v("1V"),k.1f.17=o.17+q.15-n.15),o.18+q.19<m.18+n.19&&(l.18=o.18+q.19-(m.18+n.19),l.3N.2v("20"),k.1f.18=o.18+q.19-n.19),k.89=l,k}13 i(f,c){f.5x(c.1z.1I,c.4b.4x,c.89),u(f,c.1f)}13 g(b){1b b&&(/^2V|2z|3z$/.3r("2C"==88 b.1s&&b.1s||"")||b.5X>=0)}13 e(h,f,j){1b h>=f&&j>=h}13 d(k,j,s,q){14 o=e(k,s,q),n=e(j,s,q);1g(o&&n){1b j-k}1g(o&&!n){1b q-k}1g(!o&&n){1b j-s}14 m=e(s,k,j),l=e(q,k,j);1b m&&l?q-s:m&&!l?j-s:!m&&l?q-k:0}13 a(f,c){1b d(f.1f.17,f.1f.17+f.1d.15,c.1f.17,c.1f.17+c.1d.15)*d(f.1f.18,f.1f.18+f.1d.19,c.1f.18,c.1f.18+c.1d.19)}13 ak(h,f){14 j=h.1d.15*h.1d.19;1b j?a(h,f)/j:0}13 aj(h,f){14 l=L.2W(f),k=L.2R(f),j={17:0,18:0};1g("1R"==k){21(l[2]){1i"2D":1i"31":j.17=0.5*h.15;1G;1i"1V":j.17=h.15}"20"==l[1]&&(j.18=h.19)}1N{21(l[2]){1i"2D":1i"31":j.18=0.5*h.19;1G;1i"20":j.18=h.19}"1V"==l[1]&&(j.17=h.15)}1b j}13 ai(h){14 l=ac.1h.54(h),k=ac.1h.4Z(h),j={18:12(1P).51(),17:12(1P).52()};1b l.17+=-1*(k.17-j.17),l.18+=-1*(k.18-j.18),l}13 ag(a,b,d,e){14 f,6I,1W,n=I.1y(a.1h),1J=n.1a,1u=1J.1F,1v=g(d);1g(1v||!d){1g(1W={15:24,19:24},1v){14 h=ac.5W(d);f={18:h.y-0.5*1W.19+6,17:h.x-0.5*1W.15+6}}1N{14 i=a.1r.2F;f={18:(i?i.y:0)-0.5*1W.19+6,17:(i?i.x:0)-0.5*1W.15+6}}a.1r.2F={x:f.17,y:f.18}}1N{f=ai(d),1W={15:12(d).8a(),19:12(d).8b()}}1g(1J.1o&&"2V"!=1J.1H){14 j=L.2W(e),aC=L.2W(b),o=L.2R(e),aA=n.1r.1a,az=n.4B().1l.1d,ay=aA.1q,ax=aA.1l,aw=ay&&"1p"==1J.1q.1f?ay:0,av=ay&&"1l"==1J.1q.1f?ay:ay+ax,au=ax+aw+0.5*1J.1o.15-0.5*az.15,at=av>au?av-au:0;4L=1c.1K(ax+aw+0.5*1J.1o.15+at+1J.1o.1F["1R"==o?"x":"y"]),"1R"==o&&"17"==j[2]&&"17"==aC[2]||"1V"==j[2]&&"1V"==aC[2]?(1W.15-=2*4L,f.17+=4L):("2k"==o&&"18"==j[2]&&"18"==aC[2]||"20"==j[2]&&"20"==aC[2])&&(1W.19-=2*4L,f.18+=4L)}6I=12.1n({},f);14 k=1v?B(1J.1z.1I):1J.1z.1H,aq=aj(1W,k),ap=aj(1W,e);({18:f.18+aq.18+1u.y,17:f.17+aq.17+1u.x}),f={17:f.17+ap.17,18:f.18+ap.18};14 l=12.1n({},1u);l=D(l,k,e,"2V"==n.1a.1H),f.18+=l.y,f.17+=l.x;14 n=I.1y(a.1h),an=n.1r.1z,am=12.1n({},an[b]),al={x:0,y:0},j=L.2W(e);1g("2D"!=j[2]){14 o=o=L.2R(e),z=N.2n.6G(e,"2k"==o?{1R:!0,2k:!1}:{1R:!1,2k:!0});b==z&&(al.y=n.3O.5u.y,al.x=n.3O.5u.x)}14 x={18:f.18-am.2S.18-al.y,17:f.17-am.2S.17-al.x};am.1I.1f=x;14 v={1R:!0,2k:!0},t={x:0,y:0};1g(a.1a.37){14 s=A(a),m=a.1a.1x?G.1y(a.1h):n,c=m.2x().1I.1d;v.4c=ak({1d:c,1f:x},s),v.4c<1&&((x.17<s.1f.17||x.17+c.15>s.1f.17+s.1d.15)&&(v.1R=!1,t.x=x.17<s.1f.17?x.17-s.1f.17:x.17+c.15-(s.1f.17+s.1d.15)),(x.18<s.1f.18||x.18+c.19>s.1f.18+s.1d.19)&&(v.2k=!1,t.y=x.18<s.1f.18?x.18-s.1f.18:x.18+c.19-(s.1f.18+s.1d.19)))}1N{v.4c=1}v.4x=t;14 p=an[b].1O,3P=ak({1d:1W,1f:6I},{1d:p.1d,1f:{18:x.18+p.1f.18,17:x.17+p.1f.17}});1b{1f:x,4c:{1H:3P},4b:v,1z:{1I:b,1H:e}}}13 A(j){14 q={18:12(1P).51(),17:12(1P).52()},o=j.1a,n=o.1H;("2V"==n||"4W"==n)&&(n=j.1h);14 m=12(n).5y(o.37.5B).7F()[0];1g(!m||"5e"==o.37.5B){1b{1d:P.5e(),1f:q}}14 l=ac.1h.54(m),k=ac.1h.4Z(m);1b l.17+=-1*(k.17-q.17),l.18+=-1*(k.18-q.18),{1d:{15:12(m).6b(),19:12(m).6c()},1f:l}}14 C={17:"1V",1V:"17",18:"20",20:"18",2D:"2D",31:"31"};ab.3w&&ab.3w<9||ab.57&&ab.57<2||ab.62&&ab.62<9R;14 D=13(){14 f=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],c={42:0,3Z:0,4n:1,5q:1,40:2,41:2,4o:5,5r:5,4p:8,4q:8,4r:7,5s:7,4s:6,4t:6,4u:3,5t:3};1b 13(o,n,m,l){14 k=f[c[n]],j=f[c[m]],b=[1c.6l(0.5*1c.34(k[0]-j[0]))?-1:1,1c.6l(0.5*1c.34(k[1]-j[1]))?-1:1];1b L.3f(n)||!L.3f(m)||l||("1R"==L.2R(m)?b[0]=0:b[1]=0),{x:b[0]*o.x,y:b[1]*o.y}}}();1b{1y:ag,5a:r,6G:B,83:w,8c:ai,84:D,6J:g}}(),N.2n.5d={x:0,y:0},N.2n.6A=13(b){N.2n.5d={x:b.5X,y:b.73}},N.3B=13(){13 a(){12(1C.3b).28(12(1C.2b("2q")).27("9S").28(12(1C.2b("2q")).27("3j").28(12(11.1k=1C.2b("2q")).27("8d"))))}13 j(c){1b{15:12(c).6b(),19:12(c).6c()}}13 i(c){14 g=j(c),f=c.53;1b f&&12(f).1t({15:g.15+"2G"})&&j(c).19>g.19&&g.15++,12(f).1t({15:"6i%"}),g}13 h(t,s,r){(!11.1k||11.1k&&!ac.1h.56(11.1k))&&11.1X();14 q=t.1a,p=12.1n({1U:!1},29[3]||{});!q.8e&&!ac.2s(s)||12(s).26("8f")||(q.8e&&"2C"==12.1s(s)&&(t.3k=12("#"+s)[0],s=t.3k),!t.4d&&s&&ac.1h.56(s)&&(12(t.3k).26("8g",12(t.3k).1t("8h")),t.4d=1C.2b("2q"),12(t.3k).6x(12(t.4d).1Q())));14 o=1C.2b("2q");12(11.1k).28(12(o).27("7E 9T").28(s)),ac.2s(s)&&12(s).25(),q.2a&&12(o).27("9U"+t.1a.2a);14 n=12(o).6n("8i[4y]").9V(13(){1b!(12(11).3q("19")&&12(11).3q("15"))});1g(n.2j>0&&!t.1L("3R")){t.2g("3R",!0),q.1U&&(p.1U||t.1U||(t.1U=t.6K(q.1U)),t.1L("1T")&&(t.1f(),12(t.1k).25()),t.1U.6L());14 m=0,l=1c.22(9W,9X*(n.2j||0));t.2r("3R"),t.4e("3R",12.1A(13(){n.1B(13(){11.6M=13(){}}),m>=n.2j||(11.5C(t,o),r&&r())},11),l),12.1B(n,12.1A(13(g,e){14 b=2Q 9Y;b.6M=12.1A(13(){b.6M=13(){};14 w=b.15,v=b.19,u=12(e).3q("15"),f=12(e).3q("19");u&&f||(!u&&f?(w=1c.2c(f*w/v),v=f):!f&&u&&(v=1c.2c(u*v/w),w=u),12(e).3q({15:w,19:v}),m++),m==n.2j&&(t.2r("3R"),t.1U&&(t.1U.1D(),t.1U=1w),t.1L("1T")&&12(t.1k).1Q(),11.5C(t,o),r&&r())},11),b.4y=e.4y},11))}1N{11.5C(t,o),r&&r()}}13 d(e,l){14 k=i(l),g={15:k.15-(2X(12(l).1t("2w-17"))||0)-(2X(12(l).1t("2w-1V"))||0),19:k.19-(2X(12(l).1t("2w-18"))||0)-(2X(12(l).1t("2w-20"))||0)};e.1a.3s&&"2J"==12.1s(e.1a.3s)&&g.15>e.1a.3s&&(12(l).1t({15:e.1a.3s+"2G"}),k=i(l)),e.1r.2P=k,12(e.3i).8j(l)}1b{1X:a,4f:h,5C:d,6p:i}}(),12.1n(M.3S,13(){13 1u(f,e,g){11.1r.3m[f]=ac.4Y(e,g)}13 1v(b){1b 11.1r.3m[b]}13 1j(b){11.1r.3m[b]&&(1P.6C(11.1r.3m[b]),3T 11.1r.3m[b])}13 1M(){12.1B(11.1r.3m,13(e,c){1P.6C(c)}),11.1r.3m=[]}13 1m(g,m,l,j){m=m;14 h=12.1A(l,j||11);11.1r.5R.2v({1h:g,8k:m,8l:h}),12(g).46(m,h)}13 aD(){12.1B(11.1r.5R,13(e,f){12(f.1h).4G(f.8k,f.8l)})}13 aC(e,c){11.1r.2B[e]=c}13 aB(b){1b 11.1r.2B[b]}13 aA(){11.2M(11.1h,"4A",11.5D),11.2M(11.1h,"5n",12.1A(13(b){11.6N(b)},11)),11.1a.2T&&12.1B(11.1a.2T,12.1A(13(e,g){14 f=!1;"2z"==g&&(11.1a.2e&&12.1B(11.1a.2e,13(j,h){1b"4W"==h.1h&&"2z"==h.2F?(f=!0,!1):3F 0}),11.2g("5S",f)),11.2M(11.1h,g,"2z"==g?f?11.3d:11.25:12.1A(13(){11.8m()},11))},11)),11.1a.2e?12.1B(11.1a.2e,12.1A(13(e,g){14 f;21(g.1h){1i"4W":1g(11.1L("5S")&&"2z"==g.2F){1b}f=11.1h;1G;1i"1H":f=11.1H}f&&11.2M(f,g.2F,"2z"==g.2F?11.1Q:12.1A(13(){11.6O()},11))},11)):11.1a.8n&&11.1a.2T&&!12.6P("2z",11.1a.2T)>-1&&11.2M(11.1h,"5n",12.1A(13(){11.2r("25")},11));14 c=!1;!11.1a.9Z&&11.1a.2T&&((c=12.6P("4I",11.1a.2T)>-1)||12.6P("5E",11.1a.2T)>-1)&&"2V"==11.1H&&11.2M(11.1h,c?"4I":"5E",13(b){11.1L("4V")&&11.1f(b)})}13 az(){11.2M(11.1k,1Z.2I.3z?"5E":"4A",11.5D),11.2M(11.1k,"5n",11.6N),11.2M(11.1k,1Z.2I.3z?"5E":"4A",12.1A(13(){11.5F("4M")||11.25()},11)),11.1a.2e&&12.1B(11.1a.2e,12.1A(13(e,g){14 f;21(g.1h){1i"1I":f=11.1k}f&&11.2M(f,g.2F,g.2F.3o(/^(2z|4I|4A)$/)?11.1Q:12.1A(13(){11.6O()},11))},11))}13 ay(f,e,h){14 g=I.1y(11.1h);g&&g.5x(f,e,h)}13 ax(e){14 c=I.1y(11.1h);c&&c.4z(e)}13 av(){11.4z(11.1a.1z.1I)}13 au(){12(11.1k=1C.2b("2q")).27("3j"),11.8o()}13 ar(){11.1X();14 b=I.1y(11.1h);b?b.1X():(2Q H(11.1h),11.2g("4V",!0))}13 ap(){11.1L("1X")||(12(1C.3b).28(12(11.1k).1t({17:"-5G",18:"-5G",2t:11.2t}).28(12(11.5k=1C.2b("2q")).27("a0")).28(12(11.3i=1C.2b("2q")).27("8d"))),12(11.1k).27("a1"+11.1a.2a),11.1a.87&&(12(11.1h).27("8p"),11.2M(1C.6z,"2z",12.1A(13(e){1g(11.1T()){14 f=12(e.1H).5y(".3j, .8p")[0];(!f||f&&f!=11.1k&&f!=11.1h)&&11.1Q()}},11))),1Z.2I.4k&&(11.1a.4N||11.1a.4a)&&(11.5H(11.1a.4N),12(11.1k).27("6Q")),11.8q(),11.2g("1X",!0),N.39(11))}13 al(){14 b;11.2O,11.4d&&11.3k&&((b=12(11.3k).26("8g"))&&12(11.3k).1t({8h:b}),12(11.4d).6x(11.3k).1D(),11.4d=1w)}13 aj(){ac.4h(12.1A(13(){11.8r()},11)),11.8s(),11.6R(),ac.4h(12.1A(13(){12(11.1k).6n("8i[4y]").4G("a2")},11)),I.1D(11.1h),11.1L("1X")&&11.1k&&(12(11.1k).1D(),11.1k=1w);14 f,e="5Q";(f=12(11.1h).26(e))&&12(11.1h).3q("5P",f).8t("5Q"),12(11.1h).8t("2A-23")}13 ah(e){14 f=12.1n({4O:11.1a.4O,1U:!1},29[1]||{});11.1X(),11.1L("1T")&&12(11.1k).1Q(),N.3B.4f(11,e,12.1A(13(){14 c=11.1L("1T");c||11.2g("1T",!0),11.8u(),c||11.2g("1T",!1),11.1L("1T")&&(12(11.1k).1Q(),11.1f(),11.5I(),12(11.1k).25()),11.2g("3n",!0),f.4O&&f.4O(11.3i.4P,11.1h),f.4Q&&f.4Q()},11),{1U:f.1U})}13 B(e){14 g,f={4j:11.2O,1s:11.1a.2l.1s,26:11.1a.2l.26||{},8v:11.1a.2l.8v||"8j"};1g(!(11.1L("2u")||11.1a.2l.49&&11.1L("3n"))){1g(11.1a.2l.49&&(g=X.1y(f))){1b 11.6S(g,{4Q:12.1A(13(){11.1L("1T")&&11.1a.4g&&11.1a.4g(11.3i.4P,11.1h)},11)}),3F 0}11.2g("2u",!0),11.1a.1U&&(11.1U?11.1U.6L():(11.1U=11.6K(11.1a.1U),11.2g("3n",!1)),11.1f(e)),11.1r.2u&&(11.1r.2u.6D(),11.1r.2u=1w),11.1r.2u=12.2l(12.1n({},f,{a3:12.1A(13(h,l,j){0!==j.a4&&(X.5a(f,j.59),11.6S(j.59,{4Q:12.1A(13(){11.2g("2u",!1),11.1L("1T")&&11.1a.4g&&11.1a.4g(11.3i.4P,11.1h),11.1U&&(11.1U.1D(),11.1U=1w)},11)}))},11)}))}}13 aw(e){14 f=12.1n({1U:11.1a.1U&&11.1U},29[1]||{});11.4f(e,f)}13 at(){14 e=1C.2b("2q");12(e).26("8f",!0);14 g=6H.5b(e,12.1n({},29[0]||{})),f=6H.6e(e);1b 12(e).1t(V(f)),11.4f(e,{4O:!1,4Q:13(){g.6L()}}),g}13 ao(){1g(11.1L("1X")&&!11.1a.2t){14 c=N.80();c&&c!=11&&11.2t<=c.2t&&12(11.1k).1t({2t:11.2t=c.2t+1})}}13 an(){14 b=I.1y(11.1h);b&&(b.2Y(),11.1T()&&11.1f())}13 am(e){1g(1Z.2I.4k){e=e||0;14 c=11.1k.a5;c.a6=e+"5J",c.a7=e+"5J",c.a8=e+"5J",c.a9=e+"5J"}}13 ak(c){11.2r("1Q"),11.2r("4M"),11.1L("1T")||11.5F("25")||11.4e("25",12.1A(13(){11.2r("25"),11.25(c)},11),11.1a.8n||1)}13 ai(e){1g(11.2r("1Q"),11.2r("4M"),!11.1T()){1g("13"==12.1s(11.2O)||"13"==12.1s(11.1r.5K)){"13"!=12.1s(11.1r.5K)&&(11.1r.5K=11.2O);14 f=11.1r.5K(11.1h)||!1;1g(f!=11.1r.5T&&(11.1r.5T=f,11.2g("3n",!1),11.6R()),11.2O=f,!f){1b}}11.1a.ae&&N.5c(),11.2g("1T",!0),11.1a.2l?11.8w(e):11.1L("3n")||11.4f(11.2O),11.1L("4V")&&11.1f(e),11.5I(),11.1a.5L&&ac.4h(12.1A(13(){11.5D()},11)),"13"==12.1s(11.1a.4g)&&(!11.1a.2l||11.1a.2l&&11.1a.2l.49&&11.1L("3n"))&&11.1a.4g(11.3i.4P,11.1h),1Z.2I.4k&&(11.1a.4N||11.1a.4a)&&(11.5H(11.1a.4N),12(11.1k).27("8x").8y("6Q")),12(11.1k).25()}}13 ag(){11.2r("25"),11.1L("1T")&&(11.2g("1T",!1),1Z.2I.4k&&(11.1a.4N||11.1a.4a)?(11.5H(11.1a.4a),12(11.1k).8y("8x").27("6Q"),11.4e("4M",12.1A(11.6T,11),11.1a.4a)):11.6T(),11.1r.2u&&(11.1r.2u.6D(),11.1r.2u=1w,11.2g("2u",!1)))}13 v(){11.1L("1X")&&(12(11.1k).1t({17:"-5G",18:"-5G"}),N.81(),"13"!=12.1s(11.1a.8z)||11.1U||11.1a.8z(11.3i.4P,11.1h))}13 u(){11.2r("25"),!11.5F("1Q")&&11.1L("1T")&&11.4e("1Q",12.1A(13(){11.2r("1Q"),11.2r("4M"),11.1Q()},11),11.1a.af||1)}13 k(b){11[11.1T()?"1Q":"25"](b)}13 i(){1b 11.1L("1T")}13 d(){11.2g("4U",!0),11.1L("1T")&&11.5I(),11.1a.5L&&11.2r("6U")}13 a(){11.2g("4U",!1),11.1a.5L&&11.4e("6U",12.1A(13(){11.2r("6U"),11.1L("4U")||11.1Q()},11),11.1a.5L)}14 r=13(j){1g(11.1T()){14 q;1g("2V"==11.1a.1H){14 p=N.2n.6J(j),o=N.2n.5d;1g(p){o.x||o.y?(11.1r.2F={x:o.x,y:o.y},q=1w):q=j}1N{1g(o.x||o.y){11.1r.2F={x:o.x,y:o.y}}1N{1g(!11.1r.2F){14 n=N.2n.8c(11.1h);11.1r.2F={x:n.17,y:n.18}}}q=1w}}1N{q=11.1H}1g(N.2n.5a(11,11.1a.1z.1I,q,11.1a.1z.1H),j&&N.2n.6J(j)){14 m={15:12(11.1k).8a(),19:12(11.1k).8b()},l=ac.5W(j),n=ac.1h.54(11.1k);l.x>=n.17&&l.x<=n.17+m.15&&l.y>=n.18&&l.y<=n.18+m.19&&ac.4h(12.1A(13(){11.2r("1Q")},11))}}};1b{1X:ap,70:au,8u:ar,8o:aA,8q:az,25:ai,1Q:ag,6T:v,3d:k,1T:i,8m:ak,6O:u,5H:am,2g:aC,1L:aB,5D:d,6N:a,5F:1v,4e:1u,2r:1j,8s:1M,2M:1m,8r:aD,5x:ay,4z:ax,as:av,2Y:an,4f:ah,8w:B,6S:aw,6K:at,1f:r,5I:ao,6R:al,1D:aj}}()),1Z.3A()}(4i);'
,62,660,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||this|ba|function|var|width||left|top|height|options|return|Math|dimensions|lineTo|position|if|element|case|aG|container|border|aE|extend|stem|background|radius|_cache|type|css|aI|aH|null|shadow|get|hook|proxy|each|document|remove|closeButton|offset|break|target|tooltip|aJ|ceil|getState|aF|else|bubble|window|hide|horizontal|opacity|visible|spinner|right|aL|build|color|Tipped|bottom|switch|max|uid||show|data|addClass|append|arguments|skin|createElement|round||hideOn|arc|setState|for|_hookPosition|length|vertical|ajax|getTooltip|Position|beginPath|closePath|div|clearTimer|isElement|zIndex|xhr|push|padding|getOrderLayout|tooltips|click|tipped|states|string|middle|size|event|px|_globalAlpha|support|number|box|Skins|setEvent|180|content|contentDimensions|new|getOrientation|anchor|showOn|globalAlpha|mouse|split|parseInt|refresh|fillStyle|hex2fill|center|iframeShim|closeButtonShadow|abs|bubbleCanvas|blurs|containment|PI|add|blur|body|scripts|toggle|fill|isCenter|cleanup|cornerOffset|contentElement|t_Tooltip|inlineContent|_stemCorrection|timers|updated|match|canvas|attr|test|maxWidth|shadows|getSkin|_adjustment|IE|indexOf|getContext|touch|init|UpdateQueue|devicePixelRatio|resize|moveTo|void|charAt|toLowerCase|diameter|hookPosition|layout|stemLayout|aK|sides|_corrections|aS|constructor|preloading_images|prototype|delete|getVisible|x1|y1|x2|y2|topleft|topright|righttop|lefttop|math|getLayout||bind|aO|defaultSkin|cache|fadeOut|contained|overlap|inlineMarker|setTimer|update|onShow|defer|jQuery|url|cssTransitions|items|createFillStyle|topmiddle|rightmiddle|rightbottom|bottomright|bottommiddle|bottomleft|leftbottom|leftmiddle|regex|getBorderDimensions|correction|src|setHookPosition|mouseenter|getStemLayout|transition|Stem|closeButtonCanvas|_void|unbind|_onWindowResizeHandler|mousemove|_remove|boolean|sideOffset|fadeTransition|fadeIn|afterUpdate|firstChild|callback|cos|000|startingZIndex|active|skinned|self|bb|delay|cumulativeScrollOffset||scrollTop|scrollLeft|parentNode|cumulativeOffset||isAttached|Gecko|Chrome|responseText|set|create|hideAll|mouseBuffer|viewport|min|G_vmlCanvasManager|getCenterBorderDimensions|substring|skins|skinElement|prepare|order|mouseleave|rotate|borderRadius|topcenter|rightcenter|bottomcenter|leftcenter|corner|corrections|aQ|setHookPositionAndStemCorrection|closest|_resizeTimer|_getTooltip|selector|_updateTooltip|setActive|touchmove|getTimer|10000px|setFadeDuration|raise|ms|contentFunction|hideAfter|console|in|Object|title|tipped_restore_title|events|toggles|fnCallContent|call|apply|pointer|pageX|RegExp|parseFloat|Opera|opera|WebKit|required|available|findElement|setDefaultSkin|setStartingZIndex|isVisibleByElement|undefined|clearAjaxCache|innerWidth|innerHeight|getSide|getDimensions|getBubbleLayout|nullifyCornerOffset|replace|100|defaultCloseButton|hoverCloseButton|floor|prepend|find|auto|getMeasureElementDimensions|t_Close|drawCloseButtonState|default|hover|_drawBackgroundPath|aT|aP|before|dark|documentElement|_mouseBufferHandler|getByTooltipElement|clearTimeout|abort|reset|CloseButtons|getInversedPosition|Spinners|aM|isPointerEvent|insertSpinner|play|onload|setIdle|hideDelayed|inArray|t_hidden|_restoreInlineContent|afterAjaxUpdate|_hide|idle|warn|_stemPosition|createOptions|getAttribute|getElementById|_preBuild|Array|concat|pageY|version|AppleWebKit|MobileSafari|check|pow|Za|checked|notified|toUpperCase|param|clear|try|DocumentTouch|catch|TransitionEvent|removeAll|startDelegating|removeDetached|drawRoundedRectangle|fillRect|isArray|Gradient|addColorStops|positions|toOrientation|side|toDimension|isCorner|atan|red|green|blue|360|drawBubble|drawCloseButton|createHookCache|t_ContentContainer|first|25000px|setStemCorrection|setAdjustment|closeButtonShift|closeButtonMouseover|closeButtonMouseout|CloseButton|stemOffset|backgroundRadius|_drawBorderPath|aU|aR|setGlobalAlpha|drawBackground|getBlurOpacity|stopDelegating|touchstart|close|onWindowResize|is|getHighestTooltip|resetZ|base|getTooltipPositionFromTarget|adjustOffsetBasedOnHooks|closeButtonSkin|flip|hideOnClickOutside|typeof|adjustment|outerWidth|outerHeight|getAbsoluteOffset|t_Content|inline|isSpinner|tipped_restore_inline_display|display|img|html|eventName|handler|showDelayed|showDelay|createPreBuildObservers|t_hideOnClickOutside|createPostBuildObservers|clearEvents|clearTimers|removeData|_buildSkin|dataType|ajaxUpdate|t_visible|removeClass|onHide|log|sqrt|object|setAttribute|slice|wrap|nodeType|setTimeout|do|while|exec|attachEvent|MSIE|KHTML|rv|Apple|Mobile|Safari|navigator|userAgent|fn|jquery|z_|z0|requires|_t_uid_||ontouchstart|instanceof|WebKitTransitionEvent|OTransitionEvent|createEvent|ready|scale|initElement|drawPixelArray|createLinearGradient|addColorStop|spacing|rgba|join|fff|255|hue|saturation|brightness|0123456789abcdef|hex2rgb|getSaturatedBW|init_|t_Bubble|iframe|t_iframeShim|frameBorder|javascript|15000px|t_CloseButtonShift|lineCap|t_CloseState|translate|stemCorrection|270|lineWidth|sin|setOpacity|getCenterBorderDimensions2|acos|t_Shadow|t_ShadowBubble|t_CloseButtonShadow|999999|undelegate|delegate|preventDefault|stopPropagation|200|getBySelector|outside|move|530|t_UpdateQueue|t_clearfix|t_Content_|filter|8000|750|Image|fixed|t_Skin|t_Tooltip_|load|success|status|style|MozTransitionDuration|webkitTransitionDuration|OTransitionDuration|transitionDuration|||||hideOthers|hideDelay|||||||||||||resetHookPosition|||||||||||".split("|"),0,{})),function(){var t,o,e,r;Tipped.setDefaultSkin("light"),t="[data-tooltip]",o="data-content-tooltip-bound",r={fadeIn:100,fadeOut:100},e=function(t,e){var n,i,a;if(n=$(e),a=$.extend(r,n.data("tooltip")),!n.prop(o))return i=n.attr("data-title"),n.prop(o,!0),Tipped.create(e,i,a)},$(function(){return $(t).each(e),$(document).on("refreshTooltips",function(){return $(t).each(e)})})}.call(this),function(){var t,e;t={tt:{container:"[data-content-tooltip-container]",anchor:"[data-content-tooltip-anchor]",content:"[data-content-tooltip]",bound:"data-content-tooltip-bound",options:{skin:"default_content",hideAfter:2e3,hideOnClickOutside:!0,hideOthers:!0,hideOn:{element:"tooltip",event:"mouseup"},fadeIn:100,fadeOut:100,showOn:"click",stem:!(e="Content Tooltip")}},updatePosition:function(t,e){if("fixed"===$(e).data("position"))return $(window).on("scroll",function(){return Tipped.refresh(t)})},bindTipped:function(){var r,s;return r=this.debug,$(this.tt.container).each((s=this,function(t,e){var n,i,a,o;if(n=(a=$(e)).find(s.tt.anchor),i=a.find(s.tt.content),!n.prop(s.tt.bound))return r.tooltips.push(n[0]),n.prop(s.tt.bound,!0),o=$.extend({},s.tt.options,{containment:n.data("containment"),hook:n.data("hook"),onShow:s.updatePosition}),Tipped.create(n[0],i[0],o)})),Logger.info(e,"Bound "+r.tooltips.length+" anchor(s) to tooltip content.",r.tooltips)},debug:{tooltips:[]}},$(function(){return $.extend(Tipped.Skins,{default_content:{background:"#fff",radius:2,border:{size:1,color:"#c6c6c6"}}}),t.bindTipped(),$(document).on("refreshTooltips",function(){return t.bindTipped()})})}.call(this),function initializePanelSelector(){"use strict";function a(t,e){var n,i,a,o=$(l),r=$(c),s="";if(e&&e.length&&(a="[data-panel-context="+e+"]",s=" with context '"+e+"'",o=o.filter(a),r=r.filter(a)),(i=(n=r.children(d)).filter("[data-panel~='"+t+"']")).length)return o.hasClass("panel_selector")?(o.children("li").removeClass(u),o.find("a[data-panel="+t+"]").parent("li").addClass(u)):(o.children("li").attr("data-panel-selected",null),o.find("[data-panel="+t+"]").attr("data-panel-selected","data-panel-selected")),n.hide(),i.show(),i.find("[autofocus]:visible").focus(),Logger.info("Panel Selector","Switching to panel '"+t+"'"+s),setTimeout(function(){$(document).trigger("setPanel",t,e)},300),t;Logger.warn("Panel Selector","data-panel identifier '"+t+"' not found.")}function o(t){t&&t!==location.hash&&(location.hash="!/"+t)}function t(){var t=location.hash.split("#!/")[1];t&&t.length&&a(t)}var l=".panel_selector, [data-panel-selector]",e=".panel_selector li a[data-panel], [data-panel-selector] li[data-panel]",c=".panels, [data-panel-container]",d=".panel, [data-panel]",u="selected";$(document).ready(function(){t(),$(window).on("hashchange",t),$(document).on("click",e,function(t){t.preventDefault();var e=$(this),n=e.data("panel"),i=e.parents(l).data("panel-context");!e.parents(l).is("[data-no-history]")?o(n):a(n,i)})})}(),$(function(){$("#app_frame"),$(window);$(document).on("click",'[rel="app"]',function(t){$.cookie("app_referer",window.location.href,{path:"/"}),t.stopPropagation()})}),this.JSON||(this.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,a,o,r,s=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)r[n]=str(n,l)||"null";return a=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof(i=rep[n])&&(a=str(i,l))&&r.push(quote(i)+(gap?": ":":")+a);else for(i in l)Object.hasOwnProperty.call(l,i)&&(a=str(i,l))&&r.push(quote(i)+(gap?": ":":")+a);return a=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var i;if(indent=gap="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,a=t[e];if(a&&"object"==typeof a)for(n in a)Object.hasOwnProperty.call(a,n)&&((i=walk(a,n))!==undefined?a[n]=i:delete a[n]);return reviver.call(t,e,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var H5F=H5F||{};!function(){var a,o,s,r=document.createElement("input"),l=new RegExp("^[a-z0-9_.%+-]+@[0-9a-z.-]+\\.[a-z.]{2,6}$","i"),c=new RegExp("[a-z][-.+a-z]*://","i"),d=new RegExp("^(input|select|textarea)$","i"),u="";H5F.setup=function(t,e){var n=!t.nodeType||!1,i={validClass:"valid",invalidClass:"error",requiredClass:"required",placeholderClass:"placeholder"};if("object"==typeof e)for(var a in i)"undefined"==typeof e[a]&&(e[a]=i[a]);if(s=e||i,n)for(var o=0,r=t.length;o<r;o++)H5F.validation(t[o]);else H5F.validation(t)},H5F.validation=function(t){var e=t.elements,n=e.length;if(H5F.listen(t,"invalid",H5F.checkField,!0),H5F.listen(t,"blur",H5F.checkField,!0),H5F.listen(t,"input",H5F.checkField,!0),H5F.listen(t,"keyup",H5F.checkField,!0),H5F.listen(t,"focus",H5F.checkField,!0),!H5F.support())for(t.checkValidity=function(){return H5F.checkValidity(t)};n--;)!!e[n].attributes.required,"FIELDSET"!==e[n].nodeName&&H5F.validity(e[n])},H5F.validity=function(t){var e=t,n=H5F.valueMissing(e),i=e.getAttribute("type"),a=e.getAttribute("pattern"),o=(e.getAttribute("placeholder"),/^(email|url)$/i.test(i)?i:a||!1),r=H5F.pattern(e,o),s=H5F.range(e,"step"),l=H5F.range(e,"min"),c=H5F.range(e,"max"),d=""!==u;e.checkValidity=function(){return H5F.checkValidity(e)},e.setCustomValidity=function(t){H5F.setCustomValidity.call(e,t)},e.validationMessage=u,e.validity={valueMissing:n,patternMismatch:r,rangeUnderflow:l,rangeOverflow:c,stepMismatch:s,customError:d,valid:e.disabled||!n&&!r&&!s&&!l&&!c&&!d}},H5F.checkField=function(t){var e=H5F.getTarget(t)||t,n=/^(input|keyup|focusin|focus)$/i,i=/^(submit|image|button|reset)$/i,a=!0;!d.test(e.nodeName)||i.test(e.type)||i.test(e.nodeName)||(o=t.type,H5F.support()||H5F.validity(e),e.validity.valid?(H5F.removeClass(e,[s.invalidClass,s.requiredClass]),H5F.addClass(e,s.validClass)):n.test(o)?e.validity.valueMissing&&H5F.removeClass(e,[s.requiredClass,s.invalidClass,s.validClass]):e.validity.valueMissing?(H5F.removeClass(e,[s.invalidClass,s.validClass]),H5F.addClass(e,s.requiredClass)):(H5F.removeClass(e,[s.validClass,s.requiredClass]),H5F.addClass(e,s.invalidClass)),"input"===o&&a&&(H5F.unlisten(e.form,"keyup",H5F.checkField,!0),a=!1))},H5F.checkValidity=function(t){var e,n,i,a,o=!1;if("FORM"!==t.nodeName)return H5F.checkField(t),t.validity.valid;for(var r=0,s=(e=t.elements).length;r<s;r++)i=!!(n=e[r]).attributes.required,a=!!n.attributes.pattern,"FIELDSET"!==n.nodeName&&(i||a)&&(H5F.checkField(n),n.validity.valid||o||(o=!0));return!o},H5F.setCustomValidity=function(t){u=t,this.validationMessage=u},H5F.support=function(){return H5F.isHostMethod(r,"validity")&&H5F.isHostMethod(r,"checkValidity")},H5F.pattern=function(t,e){if("email"===e)return!l.test(t.value);if("url"===e)return!c.test(t.value);if(e){var n=t.getAttribute("placeholder"),i=t.value;return a=new RegExp("^(?:"+e+")$"),i===n||""!==i&&!a.test(t.value)}return!1},H5F.placeholder=function(t){var e=t.getAttribute("placeholder"),n=/^(focus|focusin|submit)$/i,i=/^password$/i;!!("placeholder"in r)||!/^(input|textarea)$/i.test(t.nodeName)||i.test(t.type)||(""!==t.value||n.test(o)?t.value===e&&n.test(o)&&(t.value="",H5F.removeClass(t,s.placeholderClass)):(t.value=e,H5F.listen(t.form,"submit",function(){o="submit",H5F.placeholder(t)},!0),H5F.addClass(t,s.placeholderClass)))},H5F.range=function(t,e){var n=parseInt(t.getAttribute("min"),10)||0,i=parseInt(t.getAttribute("max"),10)||!1,a=parseInt(t.getAttribute("step"),10)||1,o=parseInt(t.value,10),r=(o-n)%a;return H5F.valueMissing(t)||isNaN(o)?"number"===t.getAttribute("type"):"step"===e?!!t.getAttribute("step")&&0!==r:"min"===e?!!t.getAttribute("min")&&o<n:"max"===e?!!t.getAttribute("max")&&i<o:void 0},H5F.required=function(t){return!!!!t.attributes.required&&H5F.valueMissing(t)},H5F.valueMissing=function(t){var e=t.getAttribute("placeholder");return!(!!!t.attributes.required||""!==t.value&&t.value!==e)},H5F.listen=function(t,e,n,i){H5F.isHostMethod(window,"addEventListener")?t.addEventListener(e,n,i):H5F.isHostMethod(window,"attachEvent")&&"undefined"!=typeof window.event&&("blur"===e?e="focusout":"focus"===e&&(e="focusin"),t.attachEvent("on"+e,n))},H5F.unlisten=function(t,e,n,i){H5F.isHostMethod(window,"removeEventListener")?t.removeEventListener(e,n,i):H5F.isHostMethod(window,"detachEvent")&&"undefined"!=typeof window.event&&t.detachEvent("on"+e,n)},H5F.preventActions=function(t){(t=t||window.event).stopPropagation&&t.preventDefault?(t.stopPropagation(),t.preventDefault()):(t.cancelBubble=!0,t.returnValue=!1)},H5F.getTarget=function(t){return(t=t||window.event).target||t.srcElement},H5F.addClass=function(t,e){t.className?new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)||(t.className+=" "+e):t.className=e},H5F.removeClass=function(t,e){var n,i,a="object"==typeof e?e.length:1,o=a;if(t.className)if(t.className==e)t.className="";else for(;a--;)n=new RegExp("(^|\\s)"+(1<o?e[a]:e)+"(\\s|$)"),(i=t.className.match(n))&&3==i.length&&(t.className=t.className.replace(n,i[1]&&i[2]?" ":""))},H5F.isHostMethod=function(t,e){var n=typeof t[e];return!!(new RegExp("^function|object$","i").test(n)&&t[e]||"unknown"==n)}}(),function(e){e.h5f=H5F,e.h5f.validator={setup:function(t){e("input",t).keyup(function(){e.h5f.validator.validate(t)})},validate:function(t){t.checkValidity()?e.h5f.validator.enable(t):e.h5f.validator.disable(t)},enable:function(t){e("input[type=submit]",t).removeAttr("disabled")},disable:function(t){e("input[type=submit]",t).attr({disabled:"disabled"})}}}(jQuery);var FlashDetect=new function(){var r=this;r.installed=!1,r.raw="",r.major=-1,r.minor=-1,r.revision=-1,r.revisionStr="";var s=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(t){return a(t)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(t){var e="6,0,21";try{t.AllowScriptAccess="always",e=a(t)}catch(n){}return e}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(t){return a(t)}}],a=function(t){var e=-1;try{e=t.GetVariable("$version")}catch(n){}return e},l=function(t){var e=-1;try{e=new ActiveXObject(t)}catch(n){e={activeXError:!0}}return e},c=function(t){var e=t.split(",");return{raw:t,major:parseInt(e[0].split(" ")[1],10),minor:parseInt(e[1],10),revision:parseInt(e[2],10),revisionStr:e[2]}},d=function(t){var e=t.split(/ +/),n=e[2].split(/\./),i=e[3];return{raw:t,major:parseInt(n[0],10),minor:parseInt(n[1],10),revisionStr:i,revision:o(i)}},o=function(t){return parseInt(t.replace(/[a-zA-Z]/g,""),10)||r.revision};r.majorAtLeast=function(t){return r.major>=t},r.minorAtLeast=function(t){return r.minor>=t},r.revisionAtLeast=function(t){return r.revision>=t},r.versionAtLeast=function(t){var e=[r.major,r.minor,r.revision],n=Math.min(e.length,arguments.length);for(i=0;i<n;i++){if(e[i]>=arguments[i]){if(i+1<n&&e[i]==arguments[i])continue;return!0}return!1}},r.FlashDetect=function(){if(navigator.plugins&&0<navigator.plugins.length){var t="application/x-shockwave-flash",e=navigator.mimeTypes;if(e&&e[t]&&e[t].enabledPlugin&&e[t].enabledPlugin.description){var n=e[t].enabledPlugin.description,i=d(n);r.raw=i.raw,r.major=i.major,r.minor=i.minor,r.revisionStr=i.revisionStr,r.revision=i.revision,r.installed=!0}}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript){n=-1;for(var a=0;a<s.length&&-1==n;a++){var o=l(s[a].name);if(!o.activeXError&&(r.installed=!0,-1!=(n=s[a].version(o)))){i=c(n);r.raw=i.raw,r.major=i.major,r.minor=i.minor,r.revision=i.revision,r.revisionStr=i.revisionStr}}}}()};FlashDetect.JS_RELEASE="1.0.4",function(S){S.fn.extend({autocomplete:function(t,e){var n="string"==typeof t;return(e=S.extend({},S.Autocompleter.defaults,{url:n?t:null,data:n?null:t,delay:n?S.Autocompleter.defaults.delay:10,max:e&&!e.scroll?10:150},e)).highlight=e.highlight||function(t){return t},e.formatMatch=e.formatMatch||e.formatItem,this.each(function(){var t=new S.Autocompleter(this,e);S(this).data("autocompleter",t)})},displayData:function(){S(this).data("autocompleter").displayData()},result:function(t){return this.bind("result",t)},search:function(t){return this.trigger("search",[t])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(t){return this.trigger("setOptions",[t])},unautocomplete:function(){return this.trigger("unautocomplete")}}),S.Autocompleter=function(s,l){function e(){var t=C.selected();if(!t)return!1;var e=t.result;if(v=e,l.multiple){var n=c(y.val());if(1<n.length){var i,a=l.multipleSeparator.length,o=S(s).selection().start,r=0;S.each(n,function(t,e){if(r+=e.length,o<=r)return i=t,!1;r+=a}),n[i]=e,e=n.join(l.multipleSeparator)}e+=l.multipleSeparator}return y.val(e),l.onSelect&&l.onSelect(y,e),d(),y.trigger("result",[t.data,t.value]),!0}function n(t,e){if(p!=m.DEL){var n=y.val();if(e||n!=v){n=o(v=n);var i=/[\u4e00-\u9fa5]/.test(n)?l.minChineseChars:l.minChars;if(n.length>=i){if(l.onSearch&&!l.onSearch(y))return;y.addClass(l.loadingClass),l.matchCase||(n=n.toLowerCase()),r(n,a,d)}else h(),C.hide()}}else C.hide()}function c(e){return e?l.multiple?S.map(e.split(l.multipleSeparator),function(t){return S.trim(e).length?S.trim(t):null}):[S.trim(e)]:[""]}function o(t){if(!l.multiple)return t;var e=c(t);if(1==e.length)return e[0];var n=S(s).selection().start;return(e=n==t.length?c(t):c(t.replace(t.substring(n),"")))[e.length-1]}function i(t,e){l.autoFill&&o(y.val()).toLowerCase()==t.toLowerCase()&&p!=m.BACKSPACE&&(y.val(y.val()+e.substring(o(v).length)),S(s).selection(v.length,v.length+e.length))}function t(){clearTimeout(f),f=setTimeout(d,200)}function d(){C.visible();C.hide(),clearTimeout(f),h(),l.mustMatch&&y.search(function(t){if(!t)if(l.multiple){var e=c(y.val()).slice(0,-1);y.val(e.join(l.multipleSeparator)+(e.length?l.multipleSeparator:""))}else y.val(""),y.trigger("result",null)})}function a(t,e){e&&e.length&&x?(h(),C.display(e,t),i(t,e[0].value),C.show()):d()}function r(n,i,t){l.matchCase||(n=n.toLowerCase());var e=b.load(n);if(e&&e.length)l.onDisplay&&l.onDisplay(y),i(n,e);else if("string"==typeof l.url&&0<l.url.length){var a={timestamp:+new Date};S.each(l.extraParams,function(t,e){a[t]="function"==typeof e?e():e}),S.ajax({mode:"abort",cache:!0,port:"autocomplete"+s.name,dataType:l.dataType,url:l.url,data:S.extend({keyword:o(n),limit:l.max},a),success:function(t){var e=l.parse&&l.parse(t)||u(t);b.add(n,e),1<=--_||(l.onDisplay&&l.onDisplay(y),i(n,e))},error:function(){_--}}),_++}else C.emptyList(),t(n)}function u(t){for(var e=[],n=t.split("\n"),i=0;i<n.length;i++){var a=S.trim(n[i]);a&&(a=a.split("|"),e[e.length]={data:a,value:a[0],result:l.formatResult&&l.formatResult(a,a[0])||a[0]})}return e}function h(){y.removeClass(l.loadingClass)}var f,p,g,m={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},y=S(s).attr("autocomplete","off").addClass(l.inputClass),v="",b=S.Autocompleter.Cache(l),x=0,w={mouseDownOnSelect:!1},C=S.Autocompleter.Select(l,s,e,w);this.select=C;var _=0;return S.browser.opera&&S(s.form).bind("submit.autocomplete",function(){if(g)return g=!1}),y.bind((S.browser.opera?"keypress":"keydown")+".autocomplete",function(t){switch(x=1,p=t.keyCode,t.keyCode){case m.UP:t.preventDefault(),C.visible()?C.prev():n(0,!0);break;case m.DOWN:t.preventDefault(),C.visible()?C.next():n(0,!0);break;case m.PAGEUP:t.preventDefault(),C.visible()?C.pageUp():n(0,!0);break;case m.PAGEDOWN:t.preventDefault(),C.visible()?C.pageDown():n(0,!0);break;case l.multiple&&","==S.trim(l.multipleSeparator)&&m.COMMA:case m.TAB:case m.RETURN:if(e())return t.preventDefault(),!(g=!0);break;case m.ESC:C.hide()}}).bind("keyup.autocomplete",function(t){switch(t.keyCode){case m.UP:case m.DOWN:case m.PAGEUP:case m.PAGEDOWN:case l.multiple&&","==S.trim(l.multipleSeparator)&&m.COMMA:case m.TAB:case m.ESC:break;default:clearTimeout(f),f=setTimeout(n,l.delay)}}).bind("focus.autocomplete",function(){x++}).bind("blur.autocomplete",function(){x=0,w.mouseDownOnSelect||t()}).bind("click.autocomplete",function(){1<x++&&!C.visible()&&n(0,!0)}).bind("search.autocomplete",function(t,e){function n(t,e){var n;if(e&&e.length)for(var i=0;i<e.length;i++)if(e[i].result.toLowerCase()==t.toLowerCase()){n=e[i];break}"function"==typeof a?a(n):y.trigger("result",n&&[n.data,n.value])}var a=1<arguments.length?e:null;S.each(c(y.val()),function(t,e){r(e,n,n)})}).bind("flushCache.autocomplete",function(){b.flush()}).bind("setOptions.autocomplete",function(t,e){S.extend(l,e),"data"in e&&b.populate()}).bind("unautocomplete.autocomplete",function(){C.unbind(".autocomplete"),S(s.form).unbind(".autocomplete"),y.unbind(".autocomplete")}),{displayData:function(){a("",b.load(""))}}},S.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:3,minChineseChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(t){return t[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(t,e){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"$1")},scroll:!0,scrollHeight:180},S.Autocompleter.Cache=function(l){function o(t,e){l.matchCase||(t=t.toLowerCase());var n=t.indexOf(e);return"word"==l.matchContains&&(n=t.toLowerCase().search("\\b"+e.toLowerCase())),-1!=n&&(0==n||l.matchContains)}function c(t,e){s>l.cacheLength&&n(),r[t]||s++,r[t]=e}function t(){if(!l.data)return!1;var t={},e=0;l.url||(l.cacheLength=1),t[""]=[];for(var n=0,i=l.data.length;n<i;n++){var a=l.data[n];a="string"==typeof a?[a]:a;var o=l.formatMatch(a,n+1,l.data.length);if(!1!==o){var r=o.charAt(0).toLowerCase();t[r]||(t[r]=[]);var s={value:o,data:a,result:l.formatResult&&l.formatResult(a)||o};t[r].push(s),e++<l.max&&t[""].push(s)}}S.each(t,function(t,e){l.cacheLength++,c(t,e)})}function n(){r={},s=0}var r={},s=0;return setTimeout(t,25),{flush:n,add:c,populate:t,loadAll:function(){return r},load:function(n){if(!l.cacheLength||!s)return null;if(!l.url&&l.matchContains){var i=[];for(var t in r)if(0<t.length){var e=r[t];S.each(e,function(t,e){o(e.value,n)&&i.push(e)})}return i}if(r[n])return r[n];if(l.matchSubset)for(var a=n.length-1;a>=l.minChars;a--){if(e=r[n.substr(0,a)]){i=[];return S.each(e,function(t,e){o(e.value,n)&&(i[i.length]=e)}),i}}return null}}},S.Autocompleter.Select=function(a,i,e,t){function n(){y&&(h=S("<div/>").hide().addClass(a.resultsClass).css("position","absolute").appendTo(document.body),f=S("<ul/>").appendTo(h).mouseover(function(t){o(t).nodeName&&"LI"==o(t).nodeName.toUpperCase()&&(g=S("li",f).removeClass(p.ACTIVE).index(o(t)),S(o(t)).addClass(p.ACTIVE))}).click(function(t){return S(o(t)).addClass(p.ACTIVE),e(),i.focus(),!1}).mousedown(function(){t.mouseDownOnSelect=!0}).mouseup(function(){t.mouseDownOnSelect=!1}),0<a.width&&h.css("width",a.width),y=!1)}function o(t){for(var e=t.target;e&&"LI"!=e.tagName;)e=e.parentNode;return e||[]}function r(t){d.slice(g,g+1).removeClass(p.ACTIVE),s(t);var e=d.slice(g,g+1).addClass(p.ACTIVE);if(a.scroll){var n=0;d.slice(0,g).each(function(){n+=this.offsetHeight}),n+e[0].offsetHeight-f.scrollTop()>f[0].clientHeight?f.scrollTop(n+e[0].offsetHeight-f.innerHeight()):n<f.scrollTop()&&f.scrollTop(n)}}function s(t){(g+=t)<0?g=d.size()-1:g>=d.size()&&(g=0)}function l(t){return a.max&&a.max<t?a.max:t}function c(){f.empty();for(var t=l(u.length),e=0;e<t;e++)if(u[e]){var n=a.formatItem(u[e].data,e+1,t,u[e].value,m);if(!1!==n){var i=S("<li/>").html(a.highlight(n,m)).addClass(e%2==0?"ac_even":"ac_odd").appendTo(f)[0];S.data(i,"ac_data",u[e])}}d=f.find("li"),a.selectFirst&&(d.slice(0,1).addClass(p.ACTIVE),g=0),S.fn.bgiframe&&f.bgiframe()}var d,u,h,f,p={ACTIVE:"ac_over"},g=-1,m="",y=!0;return{display:function(t,e){n(),u=t,m=e,c()},next:function(){r(1)},prev:function(){r(-1)},pageUp:function(){r(0!=g&&g-8<0?-g:-8)},pageDown:function(){g!=d.size()-1&&g+8>d.size()?r(d.size()-1-g):r(8)},hide:function(){h&&h.hide(),d&&d.removeClass(p.ACTIVE),g=-1},visible:function(){return h&&h.is(":visible")},current:function(){return this.visible()&&(d.filter("."+p.ACTIVE)[0]||a.selectFirst&&d[0])},show:function(){var t=S(i).offset();if(h.css({width:"string"==typeof a.width||0<a.width?a.width:S(i).width(),top:t.top+i.offsetHeight,left:t.left}).show(),a.scroll&&(f.scrollTop(0),f.css({maxHeight:a.scrollHeight,overflow:"auto"}),S.browser.msie&&"undefined"==typeof document.body.style.maxHeight)){var e=0;d.each(function(){e+=this.offsetHeight});var n=e>a.scrollHeight;f.css("height",n?a.scrollHeight:e),n||d.width(f.width()-parseInt(d.css("padding-left"))-parseInt(d.css("padding-right")))}},selected:function(){var t=d&&d.filter("."+p.ACTIVE).removeClass(p.ACTIVE);return t&&t.length&&S.data(t[0],"ac_data")},emptyList:function(){f&&f.empty()},unbind:function(){h&&h.remove()}}},S.fn.selection=function(e,n){if(e!==undefined)return this.each(function(){if(this.createTextRange){var t=this.createTextRange();n===undefined||e==n?t.move("character",e):(t.collapse(!0),t.moveStart("character",e),t.moveEnd("character",n)),t.select()}else this.setSelectionRange?this.setSelectionRange(e,n):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=n)});var t=this[0];if(t.createTextRange){var i=document.selection.createRange(),a=t.value,o="<->",r=i.text.length;i.text=o;var s=t.value.indexOf(o);return t.value=a,this.selection(s,s+r),{start:s,end:s+r}}return t.selectionStart!==undefined?{start:t.selectionStart,end:t.selectionEnd}:void 0}}(jQuery),function(e){e.fn.extend({recommendedLength:function(t){return e(this).keyup(function(){e(this).attr({"original-title":Localization.t("Exceeded Recommended Length")}).tipsy({trigger:"manual",delayIn:100,delayOut:100}).bind("blur",function(){e(this).tipsy("hide")}),t<e(this).val().length?e(this).tipsy("show"):e(this).tipsy("hide")}),this}})}(jQuery),$(function(){$(document).on("focus","input[data-recommended-length], textarea[data-recommended-length]",function(){var t=$(this).data("recommended-length");$(this).recommendedLength(t)})}),function(a){var o=500,r=function(t,e,n,i){setTimeout(function(){t.methodReady(e,n,i)},o)};a.fn.methodReady=function(e,n,i){return this.each(function(){var t=a(this);!this[e]||i&&!window[i]?r(t,e,n,i):n.call(this)}),this}}(jQuery),function(c){function t(){T={},k={},P={},D=[],I=A=0,S=App.Environment.API.server||"http://api.iknow.jp/"}function n(t,e,n,i,a){if(!(n=n||{}).queue)return o(t,e,n,i,a);D.push(function(){n.queued=!0,o(t,e,n,i,a)}),I++,x("jobQueued")}function o(t,e,n,i,a){w(e,i);var o=n.context||T;C(o,a);var r=(n.hasOwnProperty("version")?"v"+n.version+"/":"")+v(o)+t,s=c.extend(e,{v:2,api_key:App.Environment.API.key||""});return s.id&&"post"!=s._method&&(r+="/"+encodeURIComponent(s.id),delete s.id),_(e),n.no_token||(s.oauth_token=App.Environment.API.token||""),b("start",n),d(r,s,t,n)}function d(t,e,n,i,a){var o;return a||(a=c.Deferred()),i.timeout&&(o=setTimeout(i.timeout,1e3*(i.timeoutDelay||60))),r(t,e,n,i,o,a),a}function r(e,n,i,a,o,r){var s="/api/"+e+".json",t=n._method||"get";delete n._method,f(e,s,n,i,a,o,r)||c.ajax({url:s,data:n,type:t,success:function(t){l(t,e,s,n,i,a,o,r)},error:function(t,e){u("parsererror"==e?{error:{message:"JSON Parse Error"}}:JSON.parse(t.responseText),s,n,i,a,o,r)}})}function l(t,e,n,i,a,o,r,s,l){clearTimeout(r),t.error&&t.error.code&&202==t.error.code&&t.error.message.match(/Cache generation started/)?setTimeout(function(){d(e,i,a,o,s)},j):(l||h(n,t,i,o),b("complete",o,t=t||{}),t.error&&t.error.code?u(t,n,i,a,o,r,s):(o.capture&&y(o.capture,t),m(a,t,o),b("success",o,t),o.queued&&(A++,x("jobCompleted"),g()),s.resolve(t)))}function u(t,e,n,i,a,o,r){if(clearTimeout(o),b("complete",a,t),x("jobErrored",t),!1!==b("error",a,t)){var s={code:t.error.code,message:t.error.message,url:e,params:n};r.fail(s),c(document).trigger("api_error",s)}}function h(t,e,n,i){i.cache&&p(n)&&(P[s(t,n)]=e)}function f(t,e,n,i,a,o,r){return!!(a.cache&&p(n)&&P[s(e,n)])&&(l(P[s(e,n)],t,e,n,i,a,o,r,!0),!0)}function s(t,e){return t+c.param(e)}function p(t){return!t.hasOwnProperty("_method")||"get"==t._method.toLowerCase()}function g(){0==D.length?(e(),x("queueCompleted")):(D.shift().call(this),x("jobStarted"))}function m(t,e,n){n.setResultAsContext&&(T={}),(n.setResultAsContext||n.storeResultingContext)&&(T[t]=e.id)}function y(t,e){for(var n in t)t.hasOwnProperty(n)&&(k[n]=e[t[n]])}function v(t){var e="";return e+=i(t,"languages"),e+=i(t,"users"),e+=i(t,"goals"),e+=i(t,"sets"),e+=i(t,"items"),e+=i(t,"sentences")}function i(t,e){var n=t[e]||t[e.replace(/s$/,"")];return n?("function"==typeof n&&(n=n(k)),e+"/"+n+"/"):""}function a(t,e){c(document).trigger("smartfm."+t,e)}function b(t,e,n){if(e&&e[t])var i=e[t](n);return!1!==i&&a(t,n),i}function x(t,e){var n={queue:{remaining:D.length,completed:A,total:I}};e&&(n.error=e.error),a(t,n)}function e(){D=[],I=A=0}function w(t,e){e=e||[];for(var n=0;n<e.length;n++)if(!t[e[n]])throw new Error(e[n]+" is a required field.")}function C(t,e){e=e||[];for(var n=0;n<e.length;n++)if(!t[e[n]])throw new Error(e[n]+" context is required.")}function _(t){for(var e in t)t.hasOwnProperty(e)&&("function"==typeof t[e]&&(t[e]=t[e](k)),null!==t[e]&&t[e]!==undefined||delete t[e])}var S,T,k,D,A,I,P,L=100,j=2e3;c(document).ready(t),c.smartfm={_my_courses_:{create:function(t,e){return n("enroll",t=c.extend({_method:"post"},c.multiParams(t)),e)},
destroy:function(t,e){return n("unenroll",t=c.extend({_method:"delete"},c.multiParams(t)),e)}},_study_service_:{focus:{index:function(t,e){return n("focus",t=c.extend({_method:"get"},c.multiParams(t)),e)},create:function(t,e){return n("focus",t=c.extend({_method:"post"},c.multiParams(t)),e)},destroy:function(t,e){return n("focus",t=c.extend({_method:"delete"},c.multiParams(t)),e)}},weekly_study_target:{update:function(t,e){return n("weekly_study_target",t=c.extend({_method:"put"},c.multiParams(t)),e)}},maintenance_mode:{toggle:function(t,e){return n("maintain",t=c.extend({_method:"put"},c.multiParams(t)),e)}},study_all:{update:function(t,e){return n("study_all",t=c.extend({_method:"post"},c.multiParams(t)),e)}}},getItems:function(t,e){return n("items",t=c.multiParams(t),e)},removeItems:function(t,e){return n("items",t=c.extend({_method:"delete"},c.multiParams(t)),e,["item_ids"])},addItemsToGoal:function(t,e){return n("items",t=c.extend({_method:"post"},c.multiParams(t)),e,["item_ids"])},collectItems:function(){this.addItemsToGoal.apply(this,arguments)},createItem:function(t,e){return n("items",t=c.extend({_method:"post"},c.multiParams(t)),e,["cue[text]","cue[language]","cue[part_of_speech]","response[text]","response[language]"])},skipItems:function(t,e){return n("memory",t=c.extend({_method:"put",operation:"skip",value:!0},c.multiParams(t)),e,["item_ids"])},unskipItems:function(t,e){n("memory",t=c.extend({_method:"put",operation:"skip",value:!1},c.multiParams(t)),e,["item_ids"])},masterItems:function(t,e){return n("memory",t=c.extend({_method:"put",operation:"complete"},c.multiParams(t)),e,["item_ids"])},removeFromMemory:function(t,e){return n("memory",t=c.extend({_method:"delete"},c.multiParams(t)),e,["item_ids"])},getMemoryData:function(t,e){return n("memory",t=c.multiParams(t),e)},getItemMemories:function(t,e){return S||Logger.error("MemoryBank","initialized without API. This isn't finished."),n("items/memories",t=c.multiParams(t),e=c.extend({version:2},e),null,["goal"])},getAggregateMemories:function(t,e){return n("memories/aggregate",t=c.multiParams(t),e=c.extend({version:2},e),null,["goal"])},getFocusedAggregateMemories:function(t,e){return n("goals/focused/items/memories/aggregate",t=c.multiParams(t),e=c.extend({version:2},e),null,null)},getSentenceDictionary:function(t,e){return n("sentence_dictionary",t=c.multiParams(t),e,["goal_ids"])},saveDictionaryFeedback:function(t,e){return n("dictionary_entry_feedback",t=c.extend({_method:"post"},c.multiParams(t)),e)},getStudyData:function(t,e){return n("study",t=c.multiParams(t),e=c.extend({version:2},e))},getServerTime:function(t){return n("time",{},c.extend({version:2},t))},getDiagnosticData:function(t,e){return n("diagnostics",t=c.multiParams(t),e)},saveDiagnosticData:function(t,e){return n("diagnostics",t=c.extend({_method:"post"},c.multiParams(t)),e)},getReviewData:function(t,e){return n("review",t=c.multiParams(t),e)},getStudyAllData:function(t,e){return n("study_all",t=c.multiParams(t),e)},saveStudySession:function(t,e){return n("study_session",t=c.extend({_method:"post"},c.multiParams(t)),e)},getDistractors:function(t,e){return n("distractors",t=c.multiParams(t),e)},prepareSentence:function(t,e){return n("sentences/prepare",t=c.multiParams(t),e,["sentence"])},transliterate:function(t,e){return n("transliterate",t=c.multiParams(t),e,["id","language"])},fetchJapaneseTransliteration:function(t,e){return n("linguistics/generate_full_japanese_transliteration",t=c.multiParams(t),e,["sentence_text"])},addImage:function(t,e){return n("images",t=c.extend({_method:"post"},c.multiParams(t)),e,["image[url]"])},removeImage:function(t,e){return n("images",t=c.extend({_method:"delete"},c.multiParams(t)),e)},getGoals:function(t,e){return n("goals",t=c.multiParams(t),e=c.extend({version:2},e))},getContributingGoals:function(t,e){return n("goals/contributor",t=c.multiParams(t),e)},createGoal:function(t,e){return n("goals",t=c.extend({_method:"post"},c.multiParams(t)),e,["goal[name]","goal[language]","goal[translation_language]"])},getSets:function(t,e){return n("sets",t=c.multiParams(t),e)},createSet:function(t,e){return n("sets",t=c.extend({_method:"post"},c.multiParams(t)),e,["name"])},deleteSet:function(t,e){return n("sets",t=c.extend({_method:"delete"},c.multiParams(t)),e,["id"])},renameSet:function(t,e){return n("sets",t=c.extend({_method:"put"},c.multiParams(t)),e,["id","name"])},getStudyResults:function(t,e){return n("study_results",t=c.multiParams(t),e)},generateDistractors:function(t,e){return n("distractors",t=c.extend({_method:"delete"},c.multiParams(t)),e)},queueStart:function(){x("queueStarted"),g()},clearQueue:function(){e(),x("queueCleared")},bulkItemCall:function(e,n,i,a){var o=[],r=this,s={complete:0,total:Math.ceil(n.length/L)};a.init&&a.init(s);var l=function(){var t=n.splice(0,L);r[e](c.extend(i,{item_ids:t.join(","),per_page:L}),{context:a.context,success:function(t){s.complete++,a.step&&a.step(s),o=o.concat(t.items),0<n.length?l():(a.complete&&a.complete(),a.success&&a.success({items:o}))}})};l()}},c.smartfm.focusGoal=c.smartfm._study_service_.focus.create}(jQuery),jQuery.multiParams=function(t){function a(t,e){if(e=e||"",null!==t&&t!==undefined&&""!==t)if(t.constructor==Object){for(var n in t)if(t.hasOwnProperty(n)){var i=e?e+"["+n+"]":n;a(t[n],i)}}else t.constructor==Array?o[e+"[]"]=t:o[e]=!0===t?"true":!1===t?"false":t}var o={};return a(t),o},function(t){t.api=t.smartfm}(jQuery),function(i){var a=function(t){i.growl.error({text:t.error.message}),console&&console.info(t)},o=function(){window.location.href=window.location.href};i.api.study_service={focus:{index:function(t,e){i.api._study_service_.focus.index({},{error:e||a,success:t||o})},create:function(t,e,n){i.api._study_service_.focus.create({},{context:{goals:t},error:n||a,success:e||o})},destroy:function(t,e,n){i.api._study_service_.focus.destroy({},{context:{goals:t},error:n||a,success:e||o})}},weekly_study_target:{update:function(t,e,n){i.api._study_service_.weekly_study_target.update({weekly_study_target:t},{error:n||a,success:e||o})}},maintenance_mode:{toggle:function(t,e,n){i.api._study_service_.maintenance_mode.toggle({},{context:{goals:t},error:n||a,success:e||o})}},study_all:{update:function(t,e,n){i.api._study_service_.study_all.update({language_code:t},{error:n||a,success:e||o})}}},i.api.my_courses={create:function(t,e,n){i.api._my_courses_.create({},{context:{goals:t},error:n||a,success:e||o})},destroy:function(t,e,n){i.api._my_courses_.destroy({},{context:{goals:t},error:n||a,success:e||o})}}}(jQuery),function(g){g.fn.bulkActions=function(){function o(t){var e=g(t);e.addClass("selected"),g("input[type=checkbox]",e).attr("checked","checked")}function r(t){var e=g(t);e.removeClass("selected"),g("input[type=checkbox]",e).removeAttr("checked")}function t(){g("li:visible",d).each(function(){o(this)}),u.attr("checked","checked")}function e(){g("li",d).each(function(){r(this)}),u.removeAttr("checked","checked")}function i(t){t=g("li.selected",d).length;var e=g("span",h).text().replace(/\d+/,t);g("span",h).text(e),0<t?(h.show(),f.show(),d.addClass("multiple_rows_selected"),p.removeClass("disabled")):(h.hide(),f.hide(),d.removeClass("multiple_rows_selected"),p.addClass("disabled"))}function a(e,n,i){var a=!1;g("li",d).each(function(){if(!a&&(this==e[0]||this==n[0]))var t=a=!0;a&&(i?o(this):r(this)),!a||t||this!=e[0]&&this!=n[0]||(a=!1)})}function n(){e(),i()}function s(){g("input[type=checkbox]",d).live("click",function(t){var e=t.target,n=g(e).closest("li");t.shiftKey&&l?a(l,n,e.checked):e.checked?o(n):r(n),l=n,i()}),u.click(function(){g(this).is(":checked")?t():e(),i()}),g(".clear_selected",h).click(function(){return n(),!1}),c.bind("clearAllSelected",n)}var l,c=this,d=g("ul",c),u=g("#select_all_top,#select_all_bottom"),h=g("#select_all_helper"),f=g(".menu .show li.selected"),p=g(".bulk_actions .apply",c);s()}}(jQuery),function(I){I.fn.itemActions=function(a){function t(){var t,e=I(this).attr("href").match(/#(.+)$/),n=I(this).closest(".item").data("item");return t=n?n.id:I(this).closest(".item").data("item").id,e&&t?i(e[1],[t]):I.growl.error({text:Localization.t("error.label")}),!1}function i(t,e){var n;switch(t){case"collect_item":n=o;break;case"delete_item":n=d;break;case"skip_item":n=r;break;case"unskip_item":n=s;break;case"mark_as_complete":n=l;break;case"reset_item":n=c;break;case"add_item_to_goal":n=h;break;case"add_item_to_set":n=f}n&&0<e.length&&(S=e,T=!1,w.trigger("itemActionsBusy"),n(e))}function o(){I.api.bulkItemCall("collectItems",S,{copy_goal_context:D},{context:{user:App.Environment.User.username,set:"collected"},success:function(){u(),I.growl.notice({text:Localization.t("added items to collected set.")})}})}function r(){I.api.bulkItemCall("skipItems",S,{},{context:{user:App.Environment.User.username},success:function(t){u(),w.trigger("itemsSkipped",t),I.growl.notice({text:Localization.t("skipped items.")})}})}function s(){I.api.bulkItemCall("unskipItems",S,{},{context:{user:App.Environment.User.username},success:function(t){u(),w.trigger("itemsUnskipped",t),I.growl.notice({text:Localization.t("unskipped items.")})}})}function l(){confirm(Localization.t("do you really want to mark selected items as mastered?"))&&I.api.bulkItemCall("masterItems",S,{},{context:{user:App.Environment.User.username,goal:D},success:function(t){u(),w.trigger("itemsCompleted",t),I.growl.notice({text:Localization.t("items marked as completed.")})}})}function c(){confirm(Localization.t("do you really want to remove all progress on the selected items?"))&&I.api.bulkItemCall("removeFromMemory",S,{},{context:{user:App.Environment.User.username,goal:D},success:function(t){u(),w.trigger("itemsCompleted",t),I.growl.notice({text:Localization.t("items progress deleted.")})}})}function d(){var t={items:S.map(function(t){return{id:t}})};I.api.bulkItemCall("removeItems",S,{},{item_ids:S,context:k,success:function(){u(),w.trigger("itemsDeleted",t)}})}function u(){I("#item_explorer ul.items li input.checkbox").removeAttr("checked"),I("#item_explorer ul.items li").removeClass("selected"),I(".bulk_actions p input.checkbox").removeAttr("checked")}function h(t){e(t)}function f(){n()}function e(t){if(0!=t.length){var e="/custom/copy/source_courses/"+a.goal_id+"/items/new?item_ids="+t.join(","),n=I("select[name=bulk_actions] option[value=add_item_to_goal]").get(0).title,i=I('<a href="'+e+'" data-modal-link="data-modal-link" data-fancybox-type="ajax" title="'+n+'"/>');I(document.body).append(i),I(document).trigger("refreshModals"),i.click()}}function n(){A="set",I.api.getSets({},{context:{goal:k.goal},success:function(t){u();var e=I("#add_items_to_set .select_existing");I("option",e).remove(),I.each(t.sets,function(){_[this.id]=this;var t=I('<option value="'+this.id+'">'+this.title+"</option>");e.append(t)}),0==t.sets.length?(e.hide(),I("#add_items_to_set .or").hide()):(e.show(),I("#add_items_to_set .or").show());var n=I("#add_items_to_set .items").text();n=n.replace("0",'<span class="item_count">0</span>'),I("#add_items_to_set .items").html(n),p("#add_items_to_set")}})}function p(t){if(App.Environment.User){var e="#add_items_to_set"==t?{frameWidth:400,frameHeight:250}:{frameWidth:600,frameHeight:400};I.fn.fancybox.load(t,e);var i=I("#fancy_content .add_items");I(".item_count",i).text(S.length);I(".add_new",i).click(function(){return I(".goal_details",i).hide(),I(".create_new_form",i).show(),!(T=!0)}),I(".select_existing",i).change(function(){var t=I(":selected",this).val();if(t){if("goal"==A){I.cookie("last_goal",t);var e=C[t],n=I.api.templates.goal(e);I(".goal_details",i).empty().html(n).show()}I(".create_new_form",i).hide(),T=!1}}).change(),I("form",i).submit(function(){var t=I("#fancy_content .select_existing").val(),e=I("#fancy_content input[name=existing_goal_id]").val();return isNaN(parseInt(e))||(t=e),k.set=null,T?"goal"==A?m():y():t?("goal"==A?k.goal=parseInt(t):k.set=parseInt(t),g()):I.fn.fancybox.close(),!1})}else I.growl.warning({text:Localization.t("you must be logged in to do that.")})}function g(){v(),I.api.bulkItemCall("addItemsToGoal",S,{copy_goal_context:D},{context:k,success:function(t){t.items&&(u(),I.growl.notice({text:Localization.t("items added.")}),I.fn.fancybox.close(),I(document).trigger(k.set?"itemsAddedToSet":"itemsAddedToGoal",I.extendCopy(t,k)))}})}function m(){var t=I("#fancy_content .add_items form")[0],e=t.language.value,n=t.translation_language.value,i=t.goal_name.value,a=t.goal_item_type_id.value,o=t.goal_tags.value;v(),I.api.createGoal({"goal[language]":e,"goal[translation_language]":n,"goal[name]":i,"goal[item_type_id]":a,"goal[tags]":o},{success:function(t){t.error?I.growl.error({text:t.error.message}):(I(document).trigger("goalAdded",t),k.goal=t.id,g())}})}function y(){var t=I("#fancy_content .add_items form")[0].new_set_name.value;I.api.createSet({name:t},{context:k,success:function(t){t.error?I.growl.error({text:t.error.message}):(I(document).trigger("setAdded",t),k.set=t.id,g())}})}function v(){I("#fancy_inner .api_busy").show()}function b(){a.bulkActions&&(w.bulkActions({goal:a.goal_id}),I(".bulk_actions .apply",w).click(function(){var t=[],e=I("select",I(this).closest(".bulk_actions")).val();I("li.selected",w).each(function(){(I(this).data("item-id")||I(this).data("item"))&&t.push(I(this).data("item-id")||I(this).data("item").id)}),0<t.length&&i(e,t)}))}function x(){a.goal_id&&(k.goal=a.goal_id),I("a[href=#add_item_to_goal]").live("click",t),I("a[href=#add_item_to_set]").live("click",t),I("a[href=#collect_item]").live("click",t),I("a[href=#skip_item]").live("click",t),I("a[href=#unskip_item]").live("click",t),I("a[href=#delete_item]").live("click",t),I("a[href=#mark_as_complete]").live("click",t),b()}var w=this,C={},_={},S=[],T=!1,k={},D=(a=a||{}).goal_id||"",A="goal";I(document).ready(x)}}(jQuery),function(u){var n=function(){this.initialize.apply(this,arguments)},h=function(t){return Math.max(0,t.seen-t.started-t.completed)};n.prototype.initialize=function(t,e){var n=this;n.placeholder=t,n.target=u(t),n.summary_container=e.summary_container,n.datasets={},n.summary={},e&&(n.since=e.since,n.until=e.until,n.owner=e.owner,n.course=e.course),n.colors={study_time:"#ccc",items_started:"#60a80c",items_reviewed:"#a3d856",items_completed:"#ff8b00",no_items:"#999"},n.units={study_time:Localization.t("study time"),items_started:Localization.t("started items"),items_reviewed:Localization.t("review items"),items_completed:Localization.t("completed items")}},n.prototype.load=function(){var e=this,t={since:e.since,until:e.until},n={user:e.owner};e.course&&(n.goal=e.course),u.api.getStudyResults(t,{context:n,start:function(){e.target.find(".line").hide(),e.target.find(".bar").hide(),e.target.find(".loading").show()},complete:function(){e.target.find(".loading").hide(),e.target.find(".line").show(),e.target.find(".bar").show()},success:function(t){e.setupDatasets(t),e.summarize(),e.plot()}})},n.prototype.setupDatasets=function(t){var i=this,e={items_started:[],items_reviewed:[],items_completed:[],no_items:[],study_time:[]},n={items_completed:0,items_started:0,items_reviewed:0,study_time:0},a=new Date(i.since.replace(/-/g,"/")),o=new Date(i.until.replace(/-/g,"/")),r=a.getTime()-60*a.getTimezoneOffset()*1e3,s=o.getTime()-60*o.getTimezoneOffset()*1e3,l=r,c=864e5,d=function(){e.no_items.push([l,0]),e.items_started.push([l,0]),e.items_completed.push([l,0]),e.items_reviewed.push([l,0]),e.study_time.push([l,0])};for(u(t.daily).each(function(){for(var t=1e3*this.timestamp;l<t;)d(),l+=c;e.items_started.push([t,this.daily.items.started]),e.items_completed.push([t,this.daily.items.completed]),e.items_reviewed.push([t,h(this.daily.items)]),e.study_time.push([t,this.daily.items.seconds/60]),n.items_started+=this.daily.items.started,n.items_completed+=this.daily.items.completed,n.study_time+=this.daily.items.seconds,l+=c});l<=s;)d(),l+=c;u.each(e,function(t,e){var n={label:t,name:i.units[t],data:e,color:i.colors[t]};i.datasets[t]=n}),u.each(n,function(t,e){i.summary[t]=e})},n.prototype.summarize=function(){var t=this;u(".started_items dd",t.summary_container).text(t.summary.items_started),u(".completed_items dd",t.summary_container).text(t.summary.items_completed),u(".study_time dd",t.summary_container).html(u.humanized_time(t.summary.study_time))},n.prototype.plot=function(){var t=this;u.plot("time",t,[t.datasets.study_time],[85,707]),u.plot("items",t,[t.datasets.items_started,t.datasets.items_reviewed,t.datasets.items_completed],[147,725])},u.api.progressChart=function(t,e){return new n(t,e)}}(jQuery),function(u){var n=function(){this.initialize.apply(this,arguments)};n.prototype.initialize=function(t,e){var n=this;n.placeholder=t,n.target=u(t),n.summary_container=e.summary_container,n.datasets={},n.summary={},e&&(n.since=e.since,n.until=e.until,n.owner=e.owner),n.colors={listening:"#c7eafb",study_time:"#ccc",no_items:"#999"},n.units={listening:Localization.t("listening"),study_time:Localization.t("study time")}},n.prototype.load=function(){var e=this,t={since:e.since,until:e.until},n={user:e.owner};e.course&&(n.goal=e.course),u.api.getStudyResults(t,{context:n,start:function(){e.target.find(".line").hide(),e.target.find(".bar").hide(),e.target.find(".loading").show()},complete:function(){e.target.find(".loading").hide(),e.target.find(".line").show(),e.target.find(".bar").show()},success:function(t){e.setupDatasets(t),e.summarize(),e.plot()}})},n.prototype.setupDatasets=function(t){var i=this,a={listening:[],no_items:[],study_time:[]},o={listening:0,study_time:0};a.listening=[];var e=new Date(i.since.replace(/-/g,"/")),n=new Date(i.until.replace(/-/g,"/")),r=e.getTime()-60*e.getTimezoneOffset()*1e3,s=n.getTime()-60*n.getTimezoneOffset()*1e3,l=r,c=864e5,d=function(){a.no_items.push([l,0]),a.listening.push([l,0]),a.study_time.push([l,0])};for(u.each(t.daily,function(t,e){for(var n=1e3*e.timestamp;l<n;)d(),l+=c;sentences_seen=e.daily.sentences.seen,a.listening.push([l,sentences_seen]),o.listening+=sentences_seen,seconds_studied=e.daily.sentences.seconds,a.study_time.push([n,seconds_studied/60]),o.study_time+=seconds_studied,l+=c});l<=s;)d(),l+=c;u.each(a,function(t,e){var n={label:t,name:i.units[t],data:e,color:i.colors[t]};i.datasets[t]=n}),u.each(o,function(t,e){i.summary[t]=e})},n.prototype.summarize=function(){var t=this;u(".listening dd",t.summary_container).text(t.summary.listening),u(".study_time dd",t.summary_container).html(u.humanized_time(t.summary.study_time))},n.prototype.plot=function(){var t=this;u.plot("time",t,[t.datasets.study_time],[85,707]),u.plot("items",t,[t.datasets.listening],[147,725])},u.api.trainingChart=function(t,e){return new n(t,e)}}(jQuery),function(G){G.api.itemExplorer=function(t,e){var n=G(t),i=G("header",n),a=(G("footer",n),G("ul",n)),o=G(".mock",n),r=G(".loading",n),s=G("a[rel=next]",n),l=G("select#sort",i),c=G("input#keyword_filter",i),d=G("select#filter",i),u=20,h=0,f={items:[]},p={a:/[\xe0\u0101\xe1\u01ce\xe4\u0103\xe2\xe5\xe3]/g,e:/[\xe8\u0113\xe9\u011b\xeb\u0115\xea]/g,i:/[\xec\u012b\xed\u01d0\xef\u012d\xee\u0129]/g,o:/[\xf2\u014d\xf3\u01d2\xf6\u014f\xf4\xf5\xf8]/g,u:/[\xf9\u016b\xfa\u01d4\xfc\u016d\xfb\u016f\u01d8\u01d6]/g,y:/[\xfd\xff\u0177]/g,n:/[\xf1]/g},g=e.item_fetcher||G.api.getItems,m=e.context||{};App.Environment.User&&G.extend(m,{user:App.Environment.User.username}),e.per_page&&(u=e.per_page);var y=function(){setTimeout(function(){g({},{context:m,error:function(){h<3?y():B(),h++},success:function(t){G.each(t.items,function(){this.cue.content.normalized_text=H(this.cue.content.text),this.response.content.normalized_text=H(this.response.content.text)}),w(t.items),T(f.items.slice(0,u)),I(f.items)}})},3e3*h)},v=function(){var t=[];G("li:not(.mock)",a).each(function(){G(this).data("item").progress||t.push(G(this).data("item").id)}),0<t.length&&G.api.getProgress({item_ids:t.join(",")},{success:function(t){G.each(t.items,function(){var t=this;G.each(f.items,function(){this.data("item").id==t.id&&(this.data("item").progress=t.progress,S(this,t))})}),k(t.items)}})},b=function(t,e,n){t.length<1||t.html(t.html().replace(e,n))},x=function(t,e){if(!(t.length<1)){var n=t.html();G.each(e,function(t,e){n=n.replace(RegExp(t,"gi"),e)}),t.html(n)}},w=function(t){G.each(t,function(){var t=o.clone();t.removeClass("mock"),t.addClass("hidden"),C(t,this),f.items.push(t)})},C=function(t,e){var n={};if(t.data("item",e),t.attr({id:"item_"+e.id}),n.__item_id__=e.id,n["__item_cue__\\s?"]=e.cue.content.text,e.cue.content.sound?n.__item_sound__=e.cue.content.sound:t.find(".item a.audio").replaceWith('<span class="audio icon disabled" title="no audio">No Audio</span>'),e.response?n["__item_response__\\s?"]=e.response.content.text:n["__item_response__\\s?"]="",e.cue.related)if(e.cue.related.part_of_speech?n.__item_pos__=Localization.t(e.cue.related.part_of_speech):n.__item_pos__="",e.cue.related.transliterations?(n["__item_transliteration__\\s?"]=z(e.cue.related.transliterations,e.cue.related.language),t.find(".item .transliteration").removeClass("hidden")):b(t.find(".item_form"),"__item_transliteration__",""),e.cue.related.sentences){var i=t.find(".sentence").length;if(1<i){t.find(".add_sentence_action").hide();for(var a=0;a<i;a++)_(t.find(".sentence_"+(a+1)),e.cue.related.sentences[a]);e.cue.related.sentences.length>=i&&t.find("a.add_sentence").hide()}else _(t.find(".sentence"),e.cue.related.sentences[0])}else t.find(".sentence").addClass("hidden");else n.__item_pos__="";x(t,n)},_=function(t,e){if(e){var n={};if(t.attr({id:"sentence_"+e.id}),n.__sentence_id__=e.id,n["__sentence_text__\\s?"]=e.text,e.transliterations&&(n["__sentence_transliteration__\\s?"]=z(e.transliterations,e.language),t.find(".transliteration").removeClass("hidden")),e.translations?n["__sentence_translation__\\s?"]=e.translations[0].text:n["__sentence_translation__\\s?"]="",e.image){var i=G.extend({width:50,height:50},e.image_size);n["__sentence_image__\\s?"]=e.image,G(".sentence_image",t).append(G("<img />").attr(G.extend(i,{title:e.text.replace(/(<([^>]+)>)/gi,""),src:ImageManager.getTranscodedUrl(e.square_image||e.image,i)})))}e.sound?n["__sentence_sound__\\s?"]=e.sound:t.find(".audio").remove(),x(t,n)}else t.addClass("hidden")},S=function(t,e){t.data("item").progress=e.progress,b(t,/__progress__/g,e.progress.percentage),G(".meter",t).css({width:e.progress.percentage+"%"}),e.progress.skipped&&O(e),t.data("item").memory_strength=e.progress.memory_strength,b(t,/__memory_strength__/g,e.progress.memory_strength),t.find(".progress_wrapper").removeClass("hidden")},T=function(t){G("li",a).detach();var e=!1,n=G("<div>");G.each(t,function(){n.append(this.removeClass("hidden")),e=e||0<this.find(".meter").length}),a.append(n.children()),e&&v(),G("nav.sentence_actions *[title], nav.item_actions a[title], div.add_sentence_action a[title]").tipsy({gravity:"s"})},k=function(t){G.each(t,function(){D(this)})},D=function(t){var e=G("li#item_"+t.id);0<e.length&&S(e,t)},A=function(){m.user?(u+=20,P()):window.location="/signup"},I=function(t){m.user?t.length>u?s.css({display:"block"}):s.hide():(s.text(Localization.t("register to see more")),s.css({display:"block"}))},P=function(){var t=j(L(f.items));T(t.slice(0,u)),I(t)},L=function(t){var e,n=[];switch(d.val()){case"audio":e=F.audio;break;case"sentences":e=F.sentences;break;default:e=F.none}return G.each(t,function(){e(this.data("item"))&&n.push(this)}),n},j=function(t){var e=[],n=c.val();return n.length<=0?t:(G.each(t,function(){F.matching(this.data("item"),H(n))&&e.push(this)}),e)},F={none:function(){return!0},audio:function(t){return t.cue.content.sound},sentences:function(t){var e=t.cue.related.sentences;return e&&0<e.length},matching:function(t,e){var n=new RegExp(RegExp.escape(e),"i");return n.test(t.cue.content.normalized_text)||n.test(t.response.content.normalized_text)}},M=function(){var t;switch(l.val()){case"pos":t=E.part_of_speech;break;case"cue":t=E.cue;break;case"response":t=E.response;break;default:t=E.position}f.items.sort(t),P()},E={position:function(t,e){return R(t.data("item").cue.related.position,e.data("item").cue.related.position)},part_of_speech:function(t,e){return R(t.data("item").cue.related.part_of_speech,e.data("item").cue.related.part_of_speech)},cue:function(t,e){return R(t.data("item").cue.content.normalized_text,e.data("item").cue.content.normalized_text)},response:function(t,e){return R(t.data("item").response.content.normalized_text,e.data("item").response.content.normalized_text)}},R=function(t,e){return t==e?0:e<t?1:-1},O=function(t){G("li:visible",a).each(function(){G(this).data("item").id==t.id&&(G(this).addClass("skipped"),G(this).attr("title",Localization.t("Skipped item.")),G(this).removeClass("selected"),G(this).find(".checkbox").removeAttr("checked"))})},N=function(t){G("li:visible",a).each(function(){G(this).data("item").id==t.id&&(G(this).removeClass("skipped"),G(this).removeAttr("title"),G(this).removeClass("selected"),G(this).find(".checkbox").removeAttr("checked"))})},H=function(t){if(!t)return"";for(var e in t=t.toLowerCase(),p)t=t.replace(p[e],e);return t},z=function(t,e,n){var i;switch(e.substr(0,2)){case"ja":i="Hrkt";break;case"zh":i="Latn";break;default:i="Zyyy"}var a=G.grep(t,function(t){return t.type==i})[0];return a?n?H(a.text):a.text:""},B=function(){r.text(Localization.t("load failed. reload the page after several seconds please."))},$=function(){y(),s.click(function(){return A(),!1}),n.itemActions({goal_id:e.context.goal,bulkActions:!0}),l.change(function(){M()}),d.change(function(){P()}),c.keyup(function(){P()}),n.bind("itemsSkipped",function(t,e){G.each(e.items,function(){O(this)}),G(".progress_bar_wrapper").trigger("progressChanged")}),n.bind("itemsUnskipped",function(t,e){G.each(e.items,function(){N(this)}),G(".progress_bar_wrapper").trigger("progressChanged")}),n.bind("itemsAddedToGoal",function(){G("li:visible",a).each(function(){G(this).removeClass("selected"),G(this).find(".checkbox").removeAttr("checked")})})};return $(),{storage:f,replace:b,bestTransliteration:z,prepareSentence:_,reload:function(){f.items=[],$()},rerender:function(n){G.each(f.items,function(t){var e=f.items[t].data("item");e.id==n&&(w([e]),f.items[t]=f.items.pop(),G.findRemoteForms(G("form",f.items[t])))}),T(f.items.slice(0,u))},addItem:function(t){w([t]),T(f.items.slice(0,u))},updateItem:function(e){e.original_id=e.original_id||e.id,w([e]),template=f.items.pop(),G.each(f.items,function(t){f.items[t].data("item").id==e.original_id&&(f.items[t]=template)}),T(f.items.slice(0,u))},removeItem:function(e){f.items=G.grep(f.items,function(t){return t.data("item").id!=e}),T(f.items.slice(0,u))},removeSentence:function(e,n){G.each(f.items,function(t){f.items[t].data("item").id==e&&(f.items[t].find("#sentence_"+n).remove(),f.items[t].find("a.add_sentence").show())}),T(f.items.slice(0,u))},itemCount:function(){return f.items.length}}}}(jQuery),function(e){e.api.courses={modules:{},init:function(n,i){e.each(e.api.courses.modules,function(t,e){e(n,i)})}},e.fn.extend({courses:function(t){return e.api.courses.init(this,t),this}})}(jQuery),function(c){c.api.courses.add_to_focus=function(t,e){var n=0,i=0,a=t.data("course"),o=t.data("status"),r={loading:function(){r.clear(),c(e.selector.loading,t).show()},clear:function(){c(t).children().hide()},focusing:function(){r.clear(),c(e.selector.focusing,t).show()},enrolling:function(){r.clear(),i<=n?c(e.selector.enrolling,t).show():(c(t).hide(),c(e.selector.action_trigger,t).show())},completed:function(){r.clear(),c(e.selector.completed,t).show()},enrollable:function(){r.clear(),c(t).hide(),c(e.selector.action_trigger,t).show()},non_studiable:function(){}},s=function(){c.api.study_service.focus.create(a,function(){n++,r.focusing()},function(){r.enrolling()})},l=function(){c.api.getStudyData({item_count:0},{context:{goal:a},success:function(t){100<=t.learning_engine.goal.progress?r.completed():i<=n?(r.enrolling(),c.growl.notice(e.notices.enrolling)):(s(),c.growl.notice(e.notices.focus))},error:function(){r.enrolling()}})};(function(){n=e.focus_count,i=e.focus_limit,c(e.selector.action_trigger,t).click(function(){return r.loading(),c(t).show(),c.api.my_courses.create(a,function(){l()},function(t){409==t.error.code&&l()}),!1}),o&&r[o].call()})()},c.extend(c.api.courses.modules,{add_to_focus:function(t,e){e.add_to_focus&&c.api.courses.add_to_focus(t,e.add_to_focus)}})}(jQuery),function(s){function t(){if(e()&&A)w={},I=!0,y();else{x=s("#sound_player");var t=window.location.search.match(/volume=(\d+)/);t&&s.setVolume(t[1]),C={},_={},S={},T={start:"soundPlayerStart",loading:"soundPlayerLoading",complete:"soundPlayerComplete",played:"soundPlayerPlayed",error:"soundPlayerError"},s(document).bind("sound_loading",l),s(document).bind("sound_loaded",c),s(document).bind("sound_errored",d),s(document).bind("sound_played",u),y()}}function e(){var t;if("ActiveXObject"in window){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.9")}catch(e){return!0}return!t||t.activeXError}return!0}function n(t,e){x.methodReady("loadSound",function(){C[t]=e.loaded,S[t]=e.loading,this.loadSound(t,T)},"soundPlayerIsReady")}function i(e,n){x.methodReady("playSound",function(){var t=s.extend(n,T);this.playSound(e,t),n.finished?_[e]=n.finished:_[e]&&delete _[e]},"soundPlayerIsReady")}function a(){x.methodReady("stopSounds",function(){this.stopSounds()},"soundPlayerIsReady")}function o(t){x.methodReady("pauseSound",function(){this.pauseSound(t)},"soundPlayerIsReady")}function r(t,e){x.methodReady("resumeSound",function(){this.resumeSound(t,e)},"soundPlayerIsReady")}function l(t,e,n){var i=S[e];i&&i.call(this,e,n)}function c(t,e){var n=C[e];n&&(delete C[e],delete S[e],n.call(this,e,!0))}function d(t,e){C[e]&&C[e].call(this,e,!1)}function u(t,e){_[e]&&(_[e].call(this,e),delete _[e])}function h(t,e){var n=e.loaded;if(w[t])return n&&n.call(this,t,!0),w[t];var i=new Audio,a=!1;return i.addEventListener("error",function(){!a&&n&&n.call(this,t,!1)}),i.addEventListener("loadeddata",function(){a=!0,n&&n.call(this,t,!0)}),i.src=t,i.load(),w[t]=i}function f(t,e){var n=h(t,e);try{n.currentTime=0,n.volume=k/10}catch(i){}D[t]=n,s(n).off("ended"),e.finished&&s(n).on("ended",e.finished),n.play()}function p(){for(var t in D){var e=D[t];e.pause(),s(e).off("ended"),delete D[t]}}function g(t){D[t]&&D[t].pause()}function m(t){D[t].play()}function y(){s(document).on("click","a[rel=audio]",function(t){if(3!=t.which){t.preventDefault();var e=s(t.target);return e.data("disabled")||e.attr("data-disabled")||s.playSound(e.attr("xref")||e.attr("href")),!1}})}function v(){var t="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",e="undefined"!=typeof Smartfm&&Smartfm.Assets&&Smartfm.Assets.SoundPlayer||Asset.path("sound_player.swf"),n="undefined"==typeof ActiveXObject?'<object id="sound_player" width="1" height="1" type="application/x-shockwave-flash" data="'+e+'"><param name="allowscriptaccess" value="always" /></object>':'<object id="sound_player" width="1" height="1" type="application/x-shockwave-flash" classid="'+t+'" data="'+e+'"><param name="allowscriptaccess" value="always" /><param name="movie" value="'+e+'" /></object>';document.write(n)}var b,x,w,C,_,S,T,k=10,D={},A="undefined"!=typeof Audio&&!!(new Audio).canPlayType("audio/mpeg"),I=!1;s(document).ready(t),v(),s.playSound=function(t,e,n){if(n||s.stopSounds(),e=e||{},t||!e.finished)return I?f(t,e):i(t,e);e.finished()},s.stopSounds=function(){return I?p():a()},s.pauseSound=function(t){return I?g(t):o(t)},s.resumeSound=function(t,e){return e=e||{},I?m(t,e):r(t,e)},s.loadSound=function(t,e){if(t)return e=e||{},I?h(t,e):n(t,e)},s.loadSounds=function(n,i,a){for(var o=[],t=function(t,e){o.push(t),i.call(this,t,e),o.length>=n.length&&setTimeout(function(){a.call(this,o)},0)},e=0;e<n.length;e++){var r=n[e];s.loadSound(r,{loaded:t})}},s.setVolume=function(t){k=t,x&&x.methodReady("setVolume",function(){this.setVolume(t)},"soundPlayerIsReady")},s.createMP3AudioLink=function(t){return b?'<audio src="'+t+'"></audio>':'<a rel="audio" href="'+t+'"></a>'}}(jQuery);var soundPlayerIsReady=!1;!function(a){"ajaxPrefilter"in a?a.ajaxPrefilter(function(t,e,n){var i=a('meta[name="csrf-token"]').attr("content");i&&n.setRequestHeader("X-CSRF-Token",i)}):a(document).ajaxSend(function(t,e){var n=a('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)})}(jQuery),function(h){h.fn.dynamicDates=function(t){function n(t,e){if(!t)return null;var n=document.documentElement.getAttribute("lang")||"en",i=o(t);return i<0||e?c.getFullYear()!=s.getFullYear()?r("on this date with year at",n):r("on this date at",n):i<6e4?Localization.t("less than a minute ago"):a(i)?r("yesterday at",n):i<12e4?Localization.t("about a minute ago"):i<36e5?Localization.t("minutes ago",{minutes:parseInt(i/6e4).toString()}):i<72e5?Localization.t("about an hour ago"
):i<864e5?Localization.t("hours ago",{hours:parseInt(i/366e4).toString()}):r(i<6048e5?"this week at":"on this date at",n)}function a(t){var e=new Date(s.getTime()-864e5);return t<1728e5&&e.getDate()==c.getDate()}function o(t){return s=new Date,c=new Date(t),s-c}function r(t,e){var n,i=c.getFullYear(),a=Localization.t(u[c.getMonth()]),o=Localization.t(d[c.getDay()]),r=c.getDate(),s=c.getHours(),l=h.padNumber(c.getMinutes());return"en"==e?(n=Localization.t("am"),0==s?s=12:11<s&&(n=Localization.t("pm"),12<s&&(s-=12))):n="",Localization.t(t,{year:i,month:a,date:r,weekday:o,hours:s,minutes:l,twelve_hour:n})}var s,c;t=t||{};var d=["sunday [weekday]","monday [weekday]","tuesday [weekday]","wednesday [weekday]","thursday [weekday]","friday [weekday]","saturday [weekday]"],u=["january [month]","february [month]","march [month]","april [month]","may [month]","june [month]","july [month]","august [month]","september [month]","october [month]","november [month]","december [month]"];h("[data-time]",this).each(function(){var t=h(this).data("time");"number"==typeof t&&(t*=1e3);var e=n(t,h(this).data("absolute"));e&&(h(this).text(e),h(this).attr("title",new Date(t).toLocaleString()))})}}(jQuery),function(r){r.range=function(t,e){for(var n=[],i=t;i<=e;i++)n.push(i);return n},r.createElement=function(t,e){if("object"==typeof t)var n=(e=t).tag;else{if(e&&e.notag)return t;n=t}var i=r("<"+n+"/>");if(e)for(var a in e)if("events"==a)for(var o in e.events)i.bind(o,e.events[o]);else"text"==a?i.text(e.text):"css"==a?i.css(e.css):"html"==a?i.html(r.createElement(e.html,{notag:!0})):i.attr(a,e[a]);return i},r.extendCopy=function(t,e){return r.extend(r.extend({},t),e)},r.generateUrl=function(t,e,n){var i=t;n=n||{};return e&&((!i.match(/\?$/)||1<i.match(/\?/g).length)&&(i+=i.match(/\?/)?"&":"?"),i+=r.param(e,n)),i},r.padNumber=function(t,e){for(e=e||2,t=t.toString();t.length<e;)t="0"+t;return t},r("a[data-show-element]").on("click",function(t){if(3!=t.which){var e=r(this.hash);return e.toggle(),e.is("form")&&r("input[type=text]:first",e).click(),!1}}),r("ul.profile_menu a[title], p.premium_badge a[title], p.study_sessions a[title]").tipsy(),r(".content_editor .details .section_header h2 a[title], p.remaining_lessons a[title], .lessons_area [title]").tipsy({gravity:"s"}),r(document).ready(function(){var t=r("[data-default]");t.each(function(){var t=r(this),e=r(this.form);e.data("deactivate",!0),e.submit(function(){t.val()!=t.data("default")||t.hasClass("active")||t.val("")}),t.blur(function(){t.val()||(t.removeClass("active"),t.val(t.data("default")))})}),t.on("click",function(){var t=r(this);t.data("default"),t.val();t.val()!=t.data("default")||t.hasClass("active")||(t.val(""),t.addClass("active"))})});var t=function(){r("input[data-disabled]").each(function(){var t=r(this),e=r(this.form),n=t.val();e.submit(function(){t.attr("disabled","disabled"),t.addClass("disabled"),t.val(t.data("disabled"))}),e.bind("loaded",function(){t.removeAttr("disabled"),t.removeClass("disabled"),t.val(n)})})};r(document).ready(function(){t()}),r.fn.log=function(){return console.info("--------- jQuery Object ["+this.selector+"]---------"),this.each(function(){console.info(this)}),console.info("--------- End jQuery Object ---------"),this},r.fn.visible=function(){return r(this).is(":visible")},r.makeAdministrable=function(){if(App.Environment.User){var e=App.Environment.User.username,n=App.Environment.User.admin;r(".administration").each(function(){(e||n)&&(r("[data-user]",this).each(function(){var t=r(this);e==t.data("user")||n?t.show():t.hide()}),r(this).show())})}},r(document).bind("ajaxStart",function(){r(document.body).addClass("ajax_loading")}),r(document).bind("ajaxComplete",function(){r(document.body).removeClass("ajax_loading"),t()}),r(document).bind("ready ajaxSuccess",function(){r(this).dynamicDates(),r.makeAdministrable()}),r(document).bind("fancyboxLoaded",function(){r("#fancy_ajax form input:first").focus()})}(jQuery),"undefined"==typeof console&&(console={log:function(){},debug:function(){},info:function(){},warn:function(){},assert:function(){}});var Key={CONTROL:1,UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};String.prototype.ltrim=function(){return this.replace(/^\s*/,"")},String.prototype.rtrim=function(){return this.replace(/\s*$/,"")},RegExp.escape=function(t){if(!arguments.callee.sRE){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+e.join("|\\")+")","g")}return t.replace(arguments.callee.sRE,"\\$1")},String.prototype.html_safe=function(){return this.replace(/&(?!\w+([;\s]|$))/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},function(a){var o=window.localStorage!==undefined;a.localStorage=function(t,e,n){if(!o)return e===undefined&&null;if(e===undefined)return localStorage.getItem(t);try{localStorage.setItem(t,e)}catch(i){"QUOTA_EXCEEDED_ERR"==i.name&&n&&(localStorage.clear(),a.localStorage(t,e,!1))}return!0},a.deleteLocalStorage=function(t){return o&&localStorage.removeItem(t),!!o},a.localStorageEach=function(t){if(!o)return!1;for(var e=0;e<localStorage.length;e++){var n=localStorage.key(e);t.call(this,n,localStorage.getItem(n))}},a.localStorage.withFallback=window.localStorage||{getItem:function(t){return a.cookie(t)},setItem:function(t,e){a.cookie(t,e,{path:"/"})},removeItem:function(t){a.cookie(t,null,{path:"/"})},clear:function(){console&&console.error("You can't clear the whole storage, since using cookie instead of localStorage.")}}}(jQuery),function(o){o.jGrowl=function(t,e){0==o("#jGrowl").size()&&o('<div id="jGrowl"></div>').addClass(e&&e.position?e.position:o.jGrowl.defaults.position).appendTo("body"),o("#jGrowl").jGrowl(t,e)},o.fn.jGrowl=function(t,e){if(o.isFunction(this.each)){var n=arguments;return this.each(function(){o(this).data("jGrowl.instance")==undefined&&(o(this).data("jGrowl.instance",o.extend(new o.fn.jGrowl,{notifications:[],element:null,interval:null})),o(this).data("jGrowl.instance").startup(this)),o.isFunction(o(this).data("jGrowl.instance")[t])?o(this).data("jGrowl.instance")[t].apply(o(this).data("jGrowl.instance"),o.makeArray(n).slice(1)):o(this).data("jGrowl.instance").create(t,e)})}},o.extend(o.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,e){"undefined"!=typeof(e=o.extend({},this.defaults,e)).speed&&(e.openDuration=e.speed,e.closeDuration=e.speed),this.notifications.push({message:t,options:e}),e.log.apply(this.element,[this.element,t,e])},render:function(e){var n=this,i=e.message,a=e.options;e=o('<div class="jGrowl-notification '+a.themeState+" ui-corner-all"+(a.sticky?" is-sticky":" is-not-sticky")+(a.group!=undefined&&""!=a.group?" "+a.group:"")+'"><div class="jGrowl-close">'+a.closeTemplate+'</div><div class="jGrowl-header">'+a.header+'</div><div class="jGrowl-message">'+i+"</div></div>").data("jGrowl",a).addClass(a.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){o(this).parent().trigger("jGrowl.close")}).parent();o(e).bind("mouseover.jGrowl",function(){o("div.jGrowl-notification",n.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){o("div.jGrowl-notification",n.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){0!=a.beforeOpen.apply(e,[e,i,a,n.element])&&o(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){0!=a.open.apply(e,[e,i,a,n.element])&&("after"==a.glue?o("div.jGrowl-notification:last",n.element).after(e):o("div.jGrowl-notification:first",n.element).before(e),o(this).animate(a.animateOpen,a.openDuration,a.easing,function(){!o.browser.msie||1!==parseInt(o(this).css("opacity"),10)&&0!==parseInt(o(this).css("opacity"),10)||this.style.removeAttribute("filter"),o(this).data("jGrowl").created=new Date,o(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){a.afterOpen.apply(e,[e,i,a,n.element])}).bind("jGrowl.beforeClose",function(){0!=a.beforeClose.apply(e,[e,i,a,n.element])&&o(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){o(this).data("jGrowl.pause",!0),o(this).animate(a.animateClose,a.closeDuration,a.easing,function(){o(this).remove();var t=a.close.apply(e,[e,i,a,n.element]);o.isFunction(t)&&t.apply(e,[e,i,a,n.element])})}).trigger("jGrowl.beforeOpen"),""!=a.corners&&o.fn.corner!=undefined&&o(e).corner(a.corners),1<o("div.jGrowl-notification:parent",n.element).size()&&0==o("div.jGrowl-closer",n.element).size()&&0!=this.defaults.closer&&o(this.defaults.closerTemplate).addClass("jGrowl-closer ui-state-highlight ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){o(this).siblings().trigger("jGrowl.beforeClose"),o.isFunction(n.defaults.closer)&&n.defaults.closer.apply(o(this).parent()[0],[o(this).parent()[0]])})},update:function(){o(this.element).find("div.jGrowl-notification:parent").each(function(){o(this).data("jGrowl")!=undefined&&o(this).data("jGrowl").created!=undefined&&o(this).data("jGrowl").created.getTime()+parseInt(o(this).data("jGrowl").life)<(new Date).getTime()&&1!=o(this).data("jGrowl").sticky&&(o(this).data("jGrowl.pause")==undefined||1!=o(this).data("jGrowl.pause"))&&o(this).trigger("jGrowl.beforeClose")}),0<this.notifications.length&&(0==this.defaults.pool||o(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),o(this.element).find("div.jGrowl-notification:parent").size()<2&&o(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){o(this).remove()})},startup:function(t){this.element=o(t).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){o(t).data("jGrowl.instance").update()},parseInt(this.defaults.check)),o.browser.msie&&parseInt(o.browser.version)<7&&!window.XMLHttpRequest&&o(this.element).addClass("ie6")},shutdown:function(){o(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove(),clearInterval(this.interval)},close:function(){o(this.element).find("div.jGrowl-notification").each(function(){o(this).trigger("jGrowl.beforeClose")})}}),o.jGrowl.defaults=o.fn.jGrowl.prototype.defaults}(jQuery),$(function(){function i(t){return String(t).replace(/[&<>"'\/]/g,function e(t){return n[t]})}var a=function(t){try{return JSON.parse(t)}catch(e){return{text:t}}},n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};$.jGrowl.defaults.position="center";var o=function(e,n){"string"==typeof e&&(e=a(e));var t=e.text||e;(Array.isArray(t)?t:[t]).forEach(function(t){i(t);$.jGrowl(t,$.extend(e,n))})};$.growl={error:function(t,e){o(t,$.extend({theme:"error"},e))},warn:function(t,e){o(t,$.extend({theme:"warn"},e))},notice:function(t,e){o(t,$.extend({theme:"notice"},e))},exclusiveNotice:function(t,e){o(t,$.extend({theme:"notice",beforeOpen:$.growl.isNotGrowling},e))},isNotGrowling:function(){return 0===$(".jGrowl-notification:visible").length}},$.flash={error:function(t){$.cookie("flash.error",t,{path:"/"})},warn:function(t){$.cookie("flash.warn",t,{path:"/"})},notice:function(t){$.cookie("flash.notice",t,{path:"/"})}},$.growl.all=function(){var t={error:"flash.error",warn:"flash.warn",notice:"flash.notice"};_.each(t,function(t,e){var n=$.cookie(t);n&&("null"===n?Logger.warn("Notifications","Unexpected: Flash was string 'null'. Discarding."):$.growl[e](n),$.cookie(t,null,{path:"/"}))})},$.growl.all();var r=$("#dashboard_notification"),s=$.localStorage.withFallback,l="notifications.closed_keys";r.on("click",".btn.close",function(){$.notification.close($(this).data("notification").id),$(this).data("container").fadeOut()});var c=function(t,e){if(t&&!$.notification.closed(t.id)){var n=$('<div class="content-container primary-notification notification-warning" />'),i=$('<div class="content-primary" />');i.append('<span class="notification">'+t.message+"</span>"),t.critical||i.append($('<span class="btn close" />').data({notification:t,container:n})),n.append(i),e&&e.html_class&&n.addClass(e.html_class),n.appendTo(r)}};$.notify=function(t){$.each(t,function(t,e){c(e,{})})},$.notification={setup:function(t){$.notify(t)},close:function(t){var e=$.notification.closed_keys();e.unshift(t),s.setItem(l,JSON.stringify(e))},closed:function(t){var e=$.notification.closed_keys();return-1<$.inArray(t,e)},closed_keys:function(){return JSON.parse(s.getItem(l)||"[]")}},$.motivator={setup:function(t){$.each(t,function(t,e){e&&$.growl.notice(e,{sticky:!0})})}}}),function(n){humanized_time_unit=function(t,e,n){return t=t||"hours",n=n||!1,1==e?"seconds"==t?" sec":"minutes"==t?" min":n?" hour":" hours":2==e?"seconds"==t?n?" second":" seconds":"minutes"==t?n?" minute":" minutes":n?" hour":" hours":"seconds"==t?"s":"minutes"==t?"m":"h"},n.humanized_time=function(t,e,n){e=e||{},n=n||1;var i,a=parseInt(t/3600),o=parseInt(t%3600/60),r=parseInt(t%60);return i=0==a?0==o?"{sec}"+humanized_time_unit("seconds",n,1==r):o<10&&0!=r?"{min}"+humanized_time_unit("minutes",n-1,1==o)+" {sec}"+humanized_time_unit("seconds",n-1,1==r):"{min}"+humanized_time_unit("minutes",n,1==o):"{hour}"+humanized_time_unit("hours",n-1,1==a)+" {min}"+humanized_time_unit("minutes",n-1,1==o),Localization.t(i,{hour:a,min:o,sec:r,context:e.context})},n.short_humanized_time=function(t,e){return e=e||{},n.humanized_time(t,e,0)},n.long_humanized_time=function(t,e){return e=e||{},n.humanized_time(t,e,2)}}(jQuery);var TextileToolbar={click:function(t,e){if(e||(e={}),"string"==typeof t)var n=t;else{var i=$.trim(t.className.replace("modal","")).replace(/textile_icon|\s/gi,"").split("_");n=i[i.length-1]}var a=$("#"+e.textarea)[0];return TextileToolbar.textarea=a||$(t).parents(".textile_wrapper").children("textarea")[0],TextileToolbar[n](e),TextileToolbar.textarea.focus(),!1},singleTag:function(t,e){t=t||null,e=e||t,t&&e&&this.encloseSelection(t,e)},encloseSelection:function(t,e,n){this.addTags(!1,t,e,n)},encloseLineSelection:function(t,e,n){this.addTags(!0,t,e,n)},scrollPos:0,startPos:0,endPos:0,getSelection:function(t){var e;return"undefined"!=typeof document.selection?e=document.selection.createRange().text:"undefined"!=typeof this.textarea.setSelectionRange&&(this.startPos=this.textarea.selectionStart,this.endPos=this.textarea.selectionEnd,this.scrollPos=this.textarea.scrollTop,t&&(this.startPos=this.textarea.value.substring(0,this.startPos).replace(/[^\r\n]*$/g,"").length,this.endPos=this.textarea.value.length-this.textarea.value.substring(this.endPos,this.textarea.value.length).replace(/^[^\r\n]*/,"").length),e=this.textarea.value.substring(this.startPos,this.endPos)),e},replaceSelection:function(){},addTags:function(t,e,n,i){var a=this.getSelection(t);a.match(/ $/)&&(a=a.substring(0,a.length-1),n+=" ");var o=(e=e||"")+("function"==typeof i?a?i.call(this,a):i(""):a||"")+(n=n||"");this.updateTextArea(a,o,e,n)},updateTextArea:function(t,e,n,i){if(this.textarea.focus(),"undefined"!=typeof document.selection){document.selection.createRange().text=e;var a=this.textarea.createTextRange();a.collapse(!1),a.move("character",-i.length),a.select()}else"undefined"!=typeof this.textarea.setSelectionRange&&(this.textarea.value=this.textarea.value.substring(0,this.startPos)+e+this.textarea.value.substring(this.endPos),t?this.textarea.setSelectionRange(this.startPos+e.length,this.startPos+e.length):this.textarea.setSelectionRange(this.startPos+n.length,this.startPos+n.length),this.textarea.scrollTop=this.scrollPos)},stripHeader:function(t){return t.replace(/^h\d+(.*?)\.\s+/,"")},stripList:function(t){return(t=t.replace(/\r/g,"")).replace(/(\n|^)[#-]?\s*/g,"$1* ")},stripAlign:function(t){return t.replace(/^p.+?\.\s+/,"")},strong:function(){this.singleTag("*")},italic:function(){this.singleTag("_")},underline:function(){this.singleTag("+")},strikethrough:function(){this.singleTag("-")},left:function(){this.encloseLineSelection("p<. ","",this.stripAlign)},center:function(){this.encloseLineSelection("p=. ","",this.stripAlign)},right:function(){this.encloseLineSelection("p>. ","",this.stripAlign)},h1:function(){this.encloseLineSelection("h1. ","",this.stripHeader)},h2:function(){this.encloseLineSelection("h2. ","",this.stripHeader)},h3:function(){this.encloseLineSelection("h3. ","",this.stripHeader)},ul:function(){this.encloseLineSelection("","",this.stripList)},ol:function(){this.encloseLineSelection("","",this.stripList)},link:function(t){t||(t={});var e=prompt((t.urlPrompt||"Url? ")+" (http://www.google.com)","");if(!e)return!1;e=e.replace(/(^http:\/\/|^http:\/)|^http:|^http\./gi,"");var n=prompt(t.namePrompt||"Name (optional)?","");n||(n=e),this.textarea.value+='\n\r"'+n+'":http://'+e+"\n\r"},image:function(){},emoticon:function(){},nico:function(){var t=prompt("\u30cb\u30b3\u30cb\u30b3\u52d5\u753b\u306eURL\u3092\u5165\u308c\u3066\u304f\u3060\u3055\u3044\u3002","http://www.nicovideo.jp/watch/");if(!t)return!1;this.textarea.value+="\n\rvideo. "+t+"\n\r"},youtube:function(){},pre:function(){this.encloseLineSelection("<pre>\n","\n</pre>")}};!function(d){d.mediaUploader={init:function(s,l,c){d("input[type=file]",s).change(function(t){var e=d(".loading",s).show(),n=d(this).hide(),i=n.parent(),a=function(){e.hide(),c.labelAppendage?i.children("label").after(n.show()):i.append(n.show())},o=function(){d.growl.error(Localization.t("File upload failed.")),n.val(""),a()},r=function(t){d("div.put_url input.url",s).val(t.url),s.trigger("uploaded",t.url),a()};d('<form enctype="multipart/form-data" />').attr({action:l,method:"POST"}).fileUploadUI({formData:c,onAbort:o,onError:o,onComplete:function(t,e,n,i,a){a.response.error?o():r(a.response)}}).append(n).appendTo("body").data("file_upload").onChange(t)}),d("a.put_url",s).click(function(){return d("div.upload_file",s).hide(),d("div.put_url",s).show(),!1}),d("a.upload_file",s).click(function(){return d("div.put_url",s).hide(),d("div.upload_file",s).show(),!1})}},d.fn.extend({mediaUploader:function(t,e){return d.mediaUploader.init(this,t,e),this}})}(jQuery),$(function(){var t=$.url(location.href).fparam("coupon_code");t&&$.cookie("coupon_code",t,{path:"/",expires:30})}),function(w){var C=function(t){return"/dictionary/"+encodeURIComponent(t)};w(".dictionary_search").submit(function(){var t=w(this).find("input.search").val();return location.href=C(t),!1}),w.dictionary=function(t,e){var i=w("#keyword_groups"),a=w("#history");a.list=w("ul",a),a.clearner=w(".cleaner",a);var n=w.localStorage.withFallback;n.keys={history:"dictionary.history"};var o=function(e){var t=JSON.parse(n.getItem(n.keys.history)||"[]");return"string"==typeof e?((t=w.grep(t,function(t){return e!=t})).push(e),n.setItem(n.keys.history,JSON.stringify(t))):null===e&&n.removeItem(n.keys.history),t.reverse().slice(0,10)},r=function(){var i=o();w.each(i,function(t,e){var n=m(a);n.append(w("<a />").attr({href:C(e)}).text(e)),0==t&&n.addClass("first"),t+1<i.length&&n.append(","),n.appendTo(a.list)})},s=function(t){w.each(t,function(t,e){0<e.length&&l(e)})},l=function(t){var n=m(i);c(t,w(".related",n)),d(t,w("header",n)),u(t,w(".transcriptions",n)),w.each(t,function(t,e){0==t&&g(n,"__keyword__",e.keyword),h(e,w(".words",n))}),n.appendTo(i)},c=function(n,o){w.each(["synonyms","antonyms"],function(t,e){var i=x(n,e),a=w("."+e,o);w.each(i,function(t,e){var n=m(a);n.html(w("<a />").attr({href:C(e)}).text(e)),t+1<i.length&&n.append(","),n.appendTo(a)})})},d=function(t,e){var n=b(t);n?g(e,"__item_sound__",n.url):e.find(".audio").html('<span class="audio icon disabled" title="no audio">No Audio</span>')},u=function(t,i){var e=v(t),a=0;w.each(e,function(t,e){var n=m(i);g(n,"__transcription__",t),w(".part_of_speech",n).text("["+e.join(" | ")+"]"),n.appendTo(i),a++}),0<a&&i.removeClass("hidden"),a<=1&&w(".part_of_speech",i).hide()},h=function(t,e){var n=m(e);g(n,"__part_of_speech__",Localization.t(t.part_of_speech)),f(y(t.items,3),n),p(y(t.sentences,10),n),n.appendTo(e)},f=function(t,e){g(e,"__definition__",w.map(t,function(t){return t.response}).join(", "))},p=function(t,a){w.each(t,function(t,e){var n=w(".sentences",a),i=m(n);g(i,"__sentence_text__",e.text),g(i,"__sentence_translation__",e.translation||""),g(i,"__sentence_image_url__",e.image.original),g(i,"__sentence_image__",e.image.original?'<img class="image" src="'+ImageManager.getTranscodedUrl((e.image.original.match(/^\//)?location.protocol+"//"+location.host:"")+e.image.original,{width:70,height:70})+'" />':""),e.sound&&e.sound.url?g(i,"__sentence_sound__",e.sound.url):i.find(".audio").html('<span class="audio icon disabled" title="no audio">No Audio</span>'),i.appendTo(n)})},g=function(t,e,n){t.html(t.html().replace(e,n))},m=function(t){return w(".mock:first",t).clone().removeClass("mock")},y=function(t,e){return t.slice(0,e)},v=function(t){var n={};return w.each(t,function(t,e){e.transcription&&(n[e.transcription]=n[e.transcription]||[],n[e.transcription].push(Localization.t(e.part_of_speech)))}),n},b=function(t){var n,i;return w.each(t,function(t,e){if(e.sounds[0]){if(e.sounds[0].human)return n=e.sounds[0],!1;i||(i=e.sounds[0])}}),n||i},x=function(t,n){var i=[];return w.each(t,function(t,e){i=i.concat(e[n])}),w.unique(i)};(function(){o(t),s(e),r(),a.clearner.click(function(){o(null),a.fadeOut()})})()}}(jQuery),function(){function l(t,e){e=e||"Consider moving method out of prototype.",i||(i=!0,Logger.warn(n,t,"DEPRECATED:",e),Logger.warn(n,"This method is only defined within the scope of this application."),Logger.warn(n,"Quieting additional deprecation warnings."))}var n="Prototype Extension",i=!1;!function(){function r(t,e){if("object"!=typeof t||"object"!=typeof e)return t===e;for(var n in t)if(t.hasOwnProperty(n)&&!r(t[n],e[n]))return!1;return!0}function e(t,e,n){for(var i=[],a=0,o=e.length;a<o;a++)if(t instanceof Function?!0===t(e[a])&&i.push(e[a]):r(t,e[a])&&i.push(e[a]),n&&i[0])return i[0];return n?null:i}function s(t,e){return l("transform"),"function"==typeof e?e(t):t===undefined?null:t}function n(t,i,a,e){var o;l("findArrayMaxOrMin","Use Underscore method instead.");var r=[];return t.each(function(t){var e,n=s(t,i);null!==n&&n!==undefined&&(null===o||o===undefined?e="win":a&&n<o||!a&&o<n?e="win":n===o&&(e="tie"),"win"==e?(r=[t],o=n):"tie"==e&&r.push(t))}),e?r[0]:r}Array.prototype.unique=function(){l("unique","Use Underscore method instead.");var t=new Array;t:for(var e=0,n=this.length;e<n;e++){for(var i=0,a=t.length;i<a;i++)if(t[i]==this[e])continue t;t[t.length]=this[e]}return t},Array.prototype.findAll=function(t){return l("findAll"),e(t,this)},Array.prototype.any=function(t){return l("any","Use Underscore method instead."),null!==this.find(t)},Array.prototype.all=function(t){return l("all","Use Underscore method instead."),this.findAll(t).length===this.length},Array.prototype.first=function(t){return l("first","Use Underscore method instead."),0==arguments.length&&this[0]!==undefined?this[0]:this.find(t)},Array.prototype.last=function(t){if(l("last","Use Underscore method instead."),0==arguments.length&&this[this.length-1]!==undefined)return this[this.length-1];for(var e=this.length-1;0<=e;e--)if(t instanceof Function){if(!0===t(this[e]))return this[e]}else if(r(t,this[e]))return this[e];return null},Array.prototype.map||(Array.prototype.map=function(t,e){l("map","Use Underscore method instead.");for(var n=this.length,i=new Array(n),a=0;a<n;a++)i[a]=t.call(e,this[a],a,this);return i}),Array.prototype.remove=function(t){l("remove");for(var e=[],n=0,i=this.length;n<i;n++)t instanceof Function?!0==!t(this[n])&&e.push(this[n]):r(t,this[n])||e.push(this[n]);return e},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){l("forEach","Use Underscore method instead.");for(var n=0,i=this.length;n<i;n++)t.call(e,this[n],n,this)}),Array.prototype.each=Array.prototype.forEach,Array.prototype.flatten=function(){l("flatten","Use Underscore method instead.");var e=[];return this.each(function(t){t instanceof Array?e=e.concat(t.flatten()):e.push(t)}),e},Array.prototype.randomize=function(){l("randomize","Use Underscore `shuffle` instead.");for(var t,e,n=this.concat(),i=n.length;i;t=parseInt(Math.random()*i),e=n[--i],n[i]=n[t],n[t]=e);return n},Array.prototype.firstFromIndex=function(t,e){l("firstFromIndex");var n=this.slice(t).first(e);return n||this.slice(0,t).first(e)},Array.prototype.numericSort=function(){return l("numericSort","Use Underscore method instead."),this.sort(function(t,e){return t-e})},Array.prototype.count=function(t){return l("count","Use Underscore `size` instead."),t===undefined?this.length:this.findAll(t).length},Array.prototype.sum=function(n){l("sum","Use Underscore `reduce` instead.");var i=0;return this.each(function(t){var e="function"==typeof n?n(t):t;"number"==typeof e&&(i+=e)}),i},Array.prototype.average=function(t){return l("average"),0==this.length?0:this.sum(t)/this.length},Array.prototype.min=function(t){return l("min","Use Underscore method instead."),n(this,t,!0)},Array.prototype.max=function(t){return l("max","Use Underscore method instead."),n(this,t,!1)},Array.prototype.most=function(){l("most");var e=this,t=this.unique().map(function(t){return{f:e.findAll(t).length,el:t}});return t.length==this.length?[]:n(t,function(t){return t.f},!1).map(function(t){return t.el})},Array.prototype.least=function(){l("least","Use Underscore method instead.");var e=this,t=this.unique().map(function(t){return{f:e.findAll(t).length,el:t}});return t.length==this.length?[]:n(t,function(t){return t.f},!0).map(function(t){return t.el})},Array.prototype.insertAt=function(n,i){l("insertAt");var a=[],o=!1;return i<0&&(i=this.length+i+1),i<0&&(a.push(n),o=!0),this.each(function(t,e){i==e&&(a.push(n),o=!0),a.push(t)}),o||a.push(n),a},Array.prototype.clone=function(){return l("clone"),this.slice(0)},Array.prototype.compact=function(){l("compact","Use Underscore method instead.");var e=[];return this.each(function(t){null!==t&&t!==undefined&&e.push(t)}),e},Array.prototype.has=function(t){l("has","Use Underscore `contains` instead.");for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(t){l("indexOf","Use Underscore method instead.");for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return e;return-1},Array.prototype.removeElement=function(t){l("removeElement");for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return void this.splice(e,1)}}(),function(){function t(t,e){e=e||2;for(var n=1;n<e;n++)parseInt(t)<Math.pow(10,n)&&(t="0"+t);return t}Date.prototype.toISOString||(Date.prototype.toISOString=function(){return l("toISOString","Use Moment instead."),t(this.getUTCFullYear(),4)+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+t(this.getUTCMilliseconds(),3)+"Z"}),Date.prototype.toISODate||(Date.prototype.toISODate=function(){return l("toISODate","Use Moment instead."),t(this.getUTCFullYear(),4)+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())}),Date.prototype.setISO8601||(Date.prototype.setISO8601=function(t){l("setISO8601","Use Moment instead.");var e=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/;if(t.toString().match(new RegExp(e))){var n=t.match(new RegExp(e)),i=0;this.setUTCDate(1),this.setUTCFullYear(parseInt(n[1],10)),this.setUTCMonth(parseInt(n[3],10)-1),this.setUTCDate(parseInt(n[5],10)),this.setUTCHours(parseInt(n[7],10)),this.setUTCMinutes(parseInt(n[9],10)),this.setUTCSeconds(parseInt(n[11],10)),n[12]?this.setUTCMilliseconds(1e3*parseFloat(n[12])):this.setUTCMilliseconds(0),"Z"!=n[13]&&(i=60*n[15]+parseInt(n[17],10),i*="-"==n[14]?-1:1,this.setTime(this.getTime()-60*i*1e3))}else this.setTime(Date.parse(t));return this})}(),RegExp.escape=function(t){l("escape","Use Underscore instead.");var e=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return(t||"").replace(e,"\\$&")},String.prototype.repeat=function(t){l("repeat"),t===undefined&&(t=0);for(var e=this,n="",i=0;i<t;i++)n+=e;return n},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),String.prototype.camelize=function(){l("camelize");var t=this.split("_"),e="";return t.each(function(t){e+=t.slice(0,1).toUpperCase()+t.slice(1)}),e},String.prototype.each=function(t){l("each");for(var e=0;e<this.length;e++){var n=this.charAt(e);if(!1===t.call(this,n,e))return}},String.prototype.dasherize=function(){return l("dasherize"),this.replace(/\s+/,"-").toLowerCase()},String.prototype.unescapeHTML=function(){return l("unescapeHTML","Use Underscore instead."),this.replace(/&lt;/g,"<").replace(/&gt;/g,">")},Number.prototype.pad=function(t,e){l("pad"),t===undefined&&(t=0),e===undefined&&(e="0");for(var n=this.toString(),i=n.length;i<t;i++)n=e+n;return n},Number.prototype.round=function(t){return l("round"),t=Math.pow(10,t||0),Math.round(this*t)/t},Number.prototype.humanize=function(t,e){l("humanize","Use Moment instead."),t=t||",",e=e||".";for(var n=this.toString().split("."),i=n[0],a=1<n.length?e+n[1]:"",o=/(\d+)(\d{3})/;o.test(i);)i=i.replace(o,"$1"+t+"$2");return i+a},Number.prototype.toTime=function(t){l("toTime","Use Moment instead.");var e=this;return"seconds"!=t&&(e/=1e3),Math.floor(e/3600),{minutes:Math.floor(e/60%60),seconds:Math.round(e%60)}},Number.prototype.to=function(t,e){l("to");for(var n=this<t,i=parseInt(this);n?i<=t:t<=i;n?i++:i--)e.call(this,i)},Number.prototype.times=function(t){l("times","Use Underscore instead.");for(var e=1;e<=this;e++)t.call(this,e)},Number.prototype.suffix=function(){if(l("suffix"),11<=this&&this<=13)return"th";switch(this%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}(),function(f){function t(){g=f("#uploaded_items .body .row .item:not(.error, .exists)"),m=0,f(".upload_again").hide(),f(".generate_sound").hide(),f(".form_actions .progress_counter").show(),f(".form_actions .button").addClass("disabled").unbind().click(function(){return!1}),e()}function p(t){return t.replace("&nbsp;","")}function e(){var t=g.eq(m);f(".form_actions .progress_counter").html(v.replace("{current_count}",m+1));var e=f(t).parents(".row"),n=e.attr("id").split("_")[1];f(".status",t).addClass("loading");var i,a=f(".cue_text .text",t).html(),o=f(".part_of_speech",t).html(),r=f(".response_text",t).html(),s={text:a,part_of_speech:o};""!=(c=p(f(".cue_transliteration",t).html()))&&(s.transliteration=c),0<f(".cue_sound",t).length&&""!=(c=p(f(".cue_sound",t).html()))&&(i={url:c});var l,c,d=f(".sentences .sentence",e),u=[];d.each(function(t,e){l={sentence:{}},""!=(c=p(f(".text",e).html()))&&(l.sentence.text=c),""!=(c=p(f(".translation",e).html()))&&(l.translation={text:c}),0<f(".transliteration",e).length&&""!=(c=p(f(".transliteration",e).html()))&&(l.sentence.transliteration=c),0<f(".sound",e).length&&""!=(c=p(f(".sound",e).html()))&&(l.package_sound={url:c}),0<f(".image",e).length&&""!=(c=p(f(".image",e).attr("src")))&&(l.package_image={url:c}),u.push(l)});var h={cue:s,response:{text:r},row_index:n,total_rows:g.length};0<u.length&&(h.sentences=u),i&&(h.package_sound=i),f("#generate_sound").attr("checked")&&(h.generate_sound=!0),f.ajax({url:y,data:h,beforeSend:function(t){t.setRequestHeader("Accept","application/javascript")},dataType:"script",type:"post"}),m+=1}function n(){f(".upload_again").show(),f(".show_items").show(),f(".form_actions .progress_counter").hide(),f.growl.notice(f("#completion_message").val())}var g,m,y=f("#item_url").val(),v=f(".form_actions .progress_counter").html();f.excel={upload:t,uploadItem:e,finishUpload:n}}(jQuery),function(){$(function(){return $(document).on("click",".launch-iknow.disabled",function(t){return t.preventDefault()})})}.call(this),function(){$(function(){var a,o;return a=".day.active",o={},$(a).click(function(t){var e,n,i;if(t.stopPropagation(),n=(e=$(this)).data("date"),i=e.data("url"),$(".objective").hide(),$(a).removeClass("selected"),e.addClass("selected"),$(".objective[data-date='"+n+"']").show(),!o[n])return o[n]=!0,$.getScript(i)}),$(document).on("click",".close-objective",function(){return $(".objective").hide(),$(a).removeClass("selected")})})}.call(this);